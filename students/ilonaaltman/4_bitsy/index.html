<!DOCTYPE HTML>
<html>

<!-- HEADER -->
<head>

<meta charset="UTF-8">

<title>mycelium</title>

<script type="text/bitsyGameData" id="exportedGameData">
mycelium

# BITSY VERSION 6.4

! ROOM_FORMAT 1

PAL 0
63,146,203
100,187,255
255,208,224

ROOM 0
a,b,0,c,b,0,b,e,0,b,b,e,e,g,f,g
d,a,a,a,a,a,a,a,a,a,b,a,a,g,g,g
b,a,b,0,0,d,b,e,e,e,e,e,c,g,a,d
0,a,d,e,b,0,e,e,e,b,g,g,e,0,a,0
e,a,0,e,0,d,e,b,e,0,a,0,b,0,a,b
b,e,b,c,e,e,g,g,a,b,e,g,e,g,a,0
g,0,b,0,0,c,0,b,e,e,e,b,0,e,0,e
e,a,0,a,g,0,b,0,b,b,e,d,0,b,a,b
b,a,e,g,0,b,b,0,a,0,e,0,e,e,a,0
c,a,0,b,b,0,0,e,0,d,0,a,d,0,a,g
b,a,a,0,e,e,a,0,b,1,0,e,0,e,a,b
0,a,0,d,e,e,0,e,e,0,e,g,e,e,a,0
b,a,d,0,a,b,d,b,0,b,g,g,c,0,a,e
0,a,0,b,0,0,0,a,g,0,b,0,a,e,a,c
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
a,0,c,b,0,b,0,e,e,d,b,a,e,g,b,a
EXT 14,0 1 6,15
EXT 13,13 8 13,14
PAL 0

ROOM 1
1,2,3,4,5,6,6h,8,9,h,i,j,k,l,m,n
o,p,q,r,s,t,6i,u,v,w,x,y,z,10,11,12
13,14,15,16,17,18,8,8,19,1a,1b,1c,1d,1e,1f,1g
1h,1i,1j,1k,1l,8,1m,1n,1o,1p,1q,1r,1s,1t,1u,1v
1w,1x,1y,1z,20,21,22,8,23,24,25,26,27,28,29,2a
2b,2c,2d,2e,2f,2g,2h,8,8,2i,2j,2k,2l,2m,2n,2o
2p,2q,2r,0,2s,2t,2u,8,2v,2w,2x,2y,2z,30,31,32
33,34,35,36,37,38,8,39,3a,3b,3c,3d,3e,3f,3g,3h
3i,3j,3k,3l,3m,3n,8,8,8,3o,3p,3q,3r,3s,3t,3u
3v,3w,3x,3y,3z,2u,8,40,8,41,42,43,44,45,46,47
2o,48,49,4a,4b,4c,8,8,4d,4e,4f,4g,4h,4i,4j,4k
4l,4m,4n,4o,4p,8,8,4q,8,4r,4s,4t,4u,4v,4w,4x
4y,4z,50,51,52,53,54,8,55,8,56,57,58,59,5a,5b
5c,5d,5e,5f,5g,5h,5i,8,5j,5k,5l,5m,5n,5o,5p,5q
5r,5s,5t,5u,5v,8,5w,8,3b,5x,5y,5z,60,61,62,63
64,65,66,67,68,3b,8,3b,69,6a,6b,6c,6d,6e,6f,6g
NAME room1
ITM 2 4,0
EXT 6,15 0 14,0
EXT 4,0 2 0,6
PAL 0

ROOM 2
6j,6k,0,6l,6m,6n,6o,6p,6q,6r,6s,6t,6u,6v,6w,6x
6y,6z,70,48,0,71,72,73,74,75,76,77,78,79,7a,7b
0,7c,7d,7e,0,7f,7g,7h,7i,7j,7k,7l,7m,7n,7o,7p
7q,7r,7s,7t,7u,7v,7w,7x,7y,7z,80,81,82,83,84,85
86,87,88,89,8a,8b,8c,8d,8e,8f,8g,8h,8i,8j,8k,8l
8m,8n,8o,8p,8q,8r,8s,8t,8u,8v,8w,8x,8y,8z,90,91
92,93,94,95,96,97,98,99,9a,9b,9c,9d,9e,9f,9g,9h
9i,9j,9k,9l,9m,9n,9o,9p,9q,9r,9s,9t,9u,9v,9w,9x
9y,9z,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,aa,ab,ac,ad
ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at
au,av,aw,ax,ay,az,b0,b1,0,0,b2,b3,b4,b5,b6,b7
b8,b9,ba,bb,bc,bd,be,0,0,bf,bg,0,0,0,bh,bi
bj,bk,bl,bm,bn,0,bo,0,bp,bq,br,bs,0,12,bt,bu
bv,bw,bx,by,bz,0,bp,0,0,c0,0,bp,0,bo,0,c1
c2,c3,c4,c5,0,c6,30,0,0,c7,c8,0,12,c9,ca,0
cb,cc,cd,0,ce,0,0,0,0,cf,0,0,0,12,0,0
NAME room2
EXT 0,6 1 4,0
EXT 14,12 3 7,15
PAL 0

ROOM 3
cg,0,ch,30,0,bf,ci,cj,ck,cl,cm,cn,co,1j,cp,cq
0,cr,30,cs,ct,cu,cv,cw,cx,cy,cz,d0,c8,d1,d2,d3
d4,0,d5,d6,d7,d8,d9,da,db,dc,dd,de,df,7u,2n,0
4k,0,dg,dh,di,dj,dk,dl,dm,dn,do,dp,dq,dr,30,ds
48,dt,du,dv,dw,dx,dy,dz,e0,e1,e2,e3,e4,e5,e6,0
e7,e8,e9,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,1u
em,en,eo,ep,eq,er,0,0,es,et,eu,ev,ew,ex,ey,ez
f0,f1,f2,f3,f4,12,0,0,0,0,f5,f6,f7,f8,f9,fa
fb,fc,fd,fe,ff,fg,0,0,0,fh,fi,fj,fk,fl,fm,fn
fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,g0,g1,g2,g3
g4,g5,g6,g7,g8,g9,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj
gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,0
gz,h0,h1,h2,h3,h4,h5,h6,h7,h8,h9,ha,hb,hc,7v,hd
he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht
hu,hv,hw,hx,hy,hz,i0,i1,1j,i2,i3,d3,2e,ds,cr,i4
i5,gz,i6,i7,1j,i8,i9,12,ia,cg,ib,ic,id,ie,if,2n
NAME room3
ITM 3 11,1
EXT 7,15 2 14,12
EXT 11,1 4 7,15
PAL 0

ROOM 4
ig,ih,ii,ij,ik,il,im,in,io,ip,iq,ir,is,it,iu,iv
iw,ix,iy,iz,j0,j1,j2,j3,j4,j5,j6,5i,j7,j8,j9,ja
jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq
jr,8,js,jt,ju,jv,jw,jx,jy,jz,k0,k1,k2,k3,k4,k5
k6,k7,k8,8,k9,ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk
kl,km,kn,ko,kp,kq,kr,ks,kt,ku,kv,kw,kx,ky,kz,l0
l1,l2,l3,l4,l5,l6,l7,l8,l9,la,lb,lc,ld,le,lf,lg
lh,li,lj,lk,ll,lm,ln,lo,lp,lq,lr,ls,lt,lu,lv,lw
lx,ly,lz,m0,m1,m2,m3,m4,m5,m6,m7,m8,m9,ma,mb,mc
md,me,mf,mg,mh,mi,mj,mk,ml,mm,mn,mo,mp,mq,mr,ms
mt,mu,mv,mw,mx,my,mz,n0,n1,n2,n3,n4,n5,n6,n7,n8
n9,na,nb,nc,nd,ne,nf,ng,nh,ni,nj,nk,nl,nm,nn,no
np,nq,nr,ns,nt,nu,nv,nw,nx,ny,nz,o0,o1,o2,o3,o4
o5,o6,o7,o8,o9,oa,ob,oc,od,oe,of,og,oh,oi,oj,ok
ol,om,on,oo,op,oq,or,os,ot,ou,ov,ow,ox,oy,oz,p0
p1,p2,p3,p4,p5,p6,p7,p8,p9,pa,pb,pc,pd,pe,pf,pg
NAME room4
ITM 4 6,0
EXT 7,15 3 11,1
EXT 6,0 5 7,15
PAL 0

ROOM 5
ph,pi,pj,pk,pl,pm,pn,po,pp,pq,pr,ps,pt,pu,pv,pw
px,py,pz,q0,q1,q2,q3,q4,q5,q6,q7,q8,q9,qa,qb,qc
qd,qe,qf,qg,qh,qi,qj,qk,ql,qm,qn,qo,qp,qq,qr,qs
qt,qu,qv,qw,qx,qy,qz,r0,r1,r2,r3,r4,r5,r6,r7,r8
r9,ra,rb,rc,rd,re,rf,rg,rh,ri,rj,rk,rl,rm,rn,ro
rp,rq,rr,rs,rt,ru,rv,rw,rx,ry,rz,s0,s1,s2,s3,s4
s5,s6,s7,s8,s9,sa,sb,sc,sd,se,sf,sg,sh,si,sj,sk
sl,sm,sn,so,sp,sq,sr,ss,st,su,sv,sw,sx,sy,sz,t0
t1,t2,t3,t4,t5,t6,t7,t8,t9,ta,tb,tc,td,te,tf,tg
th,ti,tj,tk,tl,tm,tn,to,tp,tq,tr,ts,tt,tu,tv,tw
tx,ty,tz,u0,u1,u2,u3,u4,u5,u6,u7,u8,u9,ua,ub,uc
ud,ue,uf,ug,uh,ui,uj,uk,ul,um,un,uo,up,uq,ur,us
ut,uu,uv,uw,rd,ux,uy,uz,v0,v1,v2,v3,v4,v5,v6,v7
v8,v9,va,vb,rd,vc,vd,ve,vf,vg,vh,vi,vj,vk,vl,vm
vn,vo,vp,vq,vr,vs,vt,vu,vv,vw,vx,vy,vz,w0,w1,w2
w3,w4,w5,w6,w7,w8,w9,wa,wb,wc,wd,we,wf,wg,wh,wi
NAME room5
ITM 1 4,0
EXT 7,15 4 6,0
EXT 4,0 6 8,2
PAL 0

ROOM 6
wj,wk,wl,wm,wn,wo,wp,wq,wr,ws,wt,wu,wv,ww,wx,wy
wz,x0,x1,x2,x3,x4,x5,x6,x7,x8,x9,xa,xb,xc,xd,xe
xf,xg,xh,xi,xj,xk,xl,xm,xn,xo,xp,xq,xr,xs,xt,xu
xv,xw,xx,0,0,xy,xz,y0,y1,y2,y3,y4,y5,y6,y7,y8
y9,ya,yb,yc,yd,ye,yf,yg,yh,yi,yj,yk,yl,ym,yn,yo
yp,yq,yr,ys,yt,yu,yv,yw,yx,yy,yz,z0,z1,z2,z3,z4
z5,z6,z7,z8,z9,za,zb,zc,zd,ze,zf,zg,zh,zi,zj,zk
zl,zm,zn,zo,zp,zq,zr,zs,zt,zu,zv,zw,zx,zy,zz,100
101,102,103,104,105,106,107,108,109,10a,10b,10c,10d,10e,10f,10g
10h,10i,10j,10k,10l,10m,10n,10o,10p,10q,10r,10s,10t,10u,10v,10w
10x,10y,10z,110,111,112,113,114,115,116,117,118,119,11a,11b,11c
11d,11e,11f,11g,11h,11i,11j,11k,11l,11m,11n,11o,11p,11q,11r,11s
11t,11u,11v,11w,11x,11y,11z,120,121,122,123,124,125,126,127,128
129,12a,12b,12c,12d,12e,12f,12g,12h,0,12i,12j,12k,12l,12m,12n
0,12o,12p,12q,12r,12s,12t,12u,12v,12w,12x,0,12y,12z,130,131
132,133,0,134,135,136,137,138,139,13a,13b,13c,13d,13e,13f,13g
NAME room 6
ITM 5 15,14
EXT 8,2 5 4,0
EXT 15,14 7 8,1
PAL 0

ROOM 7
0,0,0,0,0,0,13h,13i,13j,13k,0,0,0,0,0,0
0,0,0,0,13l,13m,13n,13o,13p,13q,13r,13s,0,0,0,0
0,0,13t,13u,13v,13w,13x,13y,13z,140,141,142,143,144,0,0
0,0,145,146,147,148,149,14a,14b,14c,14d,14e,14f,14g,14h,0
0,14i,14j,14k,14l,14m,14n,14o,14p,14q,14r,14s,14t,14u,14v,0
0,14w,14x,14y,14z,150,151,0,152,153,154,155,12,156,157,0
158,159,15a,15b,15c,15d,0,0,0,15e,15f,15g,15h,15i,15j,15k
15l,15m,15n,15o,0,0,0,0,0,0,0,rd,2e,15p,15q,15r
15s,15t,0,15u,15v,15w,0,15x,15y,0,70,15z,0,160,0,161
162,163,0,164,165,166,167,168,169,16a,16b,16c,0,16d,16e,16f
0,16g,16h,16i,16j,0,16k,16l,16m,16n,16o,16p,16q,16r,16s,16t
0,16u,16v,16w,16x,16y,16z,170,171,172,173,174,175,176,177,0
0,0,178,179,17a,17b,17c,17d,17e,17f,17g,17h,17i,17j,17k,0
0,0,17l,17m,17n,17o,17p,17q,17r,17s,17t,17u,17v,17w,0,0
0,0,0,2e,17x,17y,17z,180,181,182,183,184,185,0,0,0
0,0,0,0,0,0,186,187,188,189,12,0,0,0,0,0
NAME room 7
EXT 8,1 6 15,14
EXT 8,14 8 2,2
PAL 0

ROOM 8
18a,13t,18b,48,18c,0,18d,ic,0,18e,18f,18a,0,fa,g,18g
0,18h,bf,c0,18i,br,0,0,30,0,18j,0,0,18k,18j,18l
bq,18m,5e,18n,0,18o,18p,ds,18q,7v,0,18r,18s,18a,0,0
18t,0,18u,18v,18w,18x,18y,18z,190,191,192,1x,193,0,2o,194
195,ds,196,197,198,199,19a,19b,19c,19d,19e,19f,19g,19h,bq,19i
19j,19k,19l,0,19m,19n,19o,19p,19q,19r,19s,19t,bf,0,4k,7u
0,0,19u,19v,19w,19x,19y,19z,1a0,1a1,1a2,1a3,1a4,1a5,1a6,1a7
1a8,1a9,12z,1aa,1ab,1ac,1ad,1ae,1af,1ag,1ah,1ai,1aj,bf,1ak,1al
18z,g,1am,1an,1ao,1ap,1aq,1ar,1as,1at,1au,1av,1aw,1ax,0,1ay
1az,1b0,1b1,0,1b2,1b3,1b4,1b5,1b6,1b7,1b8,185,cr,cr,1b9,1ba
2n,7u,0,0,1bb,1bc,1bd,1be,1bf,1bg,1bh,1bi,1a6,8p,1bj,1bk
1bl,0,1bm,1bn,1bo,1bp,1bq,1br,1bs,1bt,1bu,1bv,1bw,1bx,18x,c0
ch,1by,i8,1bz,1c0,1c1,0,0,1c2,1c3,1c4,1c5,1c6,1c7,i5,1c8
1c9,c8,1ca,1cb,ck,1cc,1cd,1ce,1cf,bn,0,1cg,0,1ch,1ci,1cj
18x,1ck,1cl,cg,1j,131,5e,bo,0,cr,1cm,1cn,1co,8a,1cp,1cq
1c9,1cr,0,2n,18x,1cs,8a,1ct,1cu,1cv,1cj,i8,0,14h,1cw,1cx
NAME room 9
ITM 0 13,14
EXT 13,14 0 13,13
EXT 2,2 7 8,14
PAL 0

TIL 1
00000011
00001000
00000000
00000000
00000000
00000000
00000010
10000010
NAME room1 1

TIL 2
00011111
00011111
00000111
01000111
00000111
00000001
00000000
00000010
NAME room1 2

TIL 3
11111111
11011111
01110011
11111010
11111011
11110110
11111111
11111110
NAME room1 3

TIL 4
10000000
11000000
11100100
11110000
11111000
11111100
11111110
10111111
NAME room1 4

TIL 5
00001000
00001000
00001000
00001000
00001100
00000000
00000000
00000000
NAME room1 5

TIL 6
00111111
01111111
00101111
00110111
00111111
00011101
00010101
01011101
NAME room1 6

TIL 7
11111111
11111110
11111111
11111111
11111111
11111011
11111111
11111111
NAME room1 7

TIL 8
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 8

TIL 9
11111101
11111111
11111111
11111111
10010110
11001111
11111111
11111111
NAME room1 9

TIL 10
11111111
11111111
11111110
11111100
01111010
11111110
11111100
11111100
NAME room1 29

TIL 11
00000001
00001111
01000000
00000000
00000000
00000000
00000000
10000000
NAME room1 30

TIL 12
10000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 31

TIL 13
00000100
00000000
01000000
00000000
00000000
00000100
00000000
00000000
NAME room1 32

TIL 14
00010000
00110000
00100000
01100000
00000000
00000000
00000000
00000000
NAME room1 33

TIL 15
00000000
00010000
00100100
00000010
00000000
00000000
00001001
00000000
NAME room1 34

TIL 16
11111111
11111111
10111111
01111111
00101100
00111111
00011111
01010101
NAME room1 35

TIL 17
11111110
11111111
11110111
11111111
11111111
11111111
11111111
11111111
NAME room1 36

TIL 18
01101111
00101111
10111111
01111111
11111111
10111110
00111111
11111111
NAME room1 37

TIL 19
11111111
11111111
11111111
11111011
11111001
11111101
11111111
11111111
NAME room1 38

TIL 20
01111101
11010111
11111110
11011011
01111111
01011111
01110101
10011111
NAME room1 65

TIL 21
11101111
10111111
11111111
11111111
11111111
11111111
11011111
01111111
NAME room1 66

TIL 22
11111111
11111111
11111111
11111111
11111111
11111111
11111011
11111111
NAME room1 67

TIL 23
11111111
11111111
10111111
11111111
11111111
11111111
11111111
10111110
NAME room1 68

TIL 24
11110000
11100000
01100000
11100000
10110001
01110000
11010000
01110100
NAME room1 69

TIL 25
00000010
00000001
00000011
00010011
00000110
00011001
00011111
00011111
NAME room1 70

TIL 26
10110111
01111111
11111111
11111111
11111111
11111111
11111111
11101011
NAME room1 71

TIL 27
11111111
11111110
11111110
11110100
11111100
11111000
11110000
11010000
NAME room1 72

TIL 28
00000000
00000100
01000000
00000000
10000000
00000000
00000000
00000000
NAME room1 73

TIL 29
01000000
00000000
00000000
00000001
00000001
00000001
00100001
00000001
NAME room1 74

TIL 30
00000000
00000010
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 101

TIL 31
00000000
00000000
00000001
00000000
00000001
00100000
00000000
00000000
NAME room1 102

TIL 32
00000000
00001000
00000000
00000000
01000000
00000010
00000001
00000001
NAME room1 103

TIL 33
11110111
11011111
11111110
11111110
01111011
01111111
00111111
10011111
NAME room1 104

TIL 34
11111111
11111111
11111111
11111111
11101111
11111111
11101111
11111111
NAME room1 105

TIL 35
00000000
10010001
11100000
11111000
11111000
11111110
01111111
11111111
NAME room1 106

TIL 36
00000000
00000000
00000000
00000001
00000000
00000000
10000000
11110000
NAME room1 107

TIL 37
01001001
01000001
01000000
11000000
00000000
00000000
00000000
00000000
NAME room1 108

TIL 38
01111111
11111011
10111111
11111111
10101111
01111111
11101111
10110111
NAME room1 109

TIL 39
11111111
11111011
11111111
11110110
11111111
11111111
11111111
11111111
NAME room1 110

TIL 40
11111111
11111111
11111111
11111111
11111111
11111111
10111111
11111111
NAME room1 137

TIL 41
11111111
11111010
11011111
11111011
11111100
11111110
11110110
11101100
NAME room1 138

TIL 42
11000000
10000000
00000000
00100000
00000000
10110000
00000000
00000000
NAME room1 139

TIL 43
00000000
10000000
00000000
00010100
00000001
00000011
00010111
00000111
NAME room1 140

TIL 44
00010111
01011111
00111111
11101111
11111111
01111111
01111111
11111111
NAME room1 141

TIL 45
11111011
11111111
11111100
11111100
11101000
11110010
11100000
11000000
NAME room1 142

TIL 46
11000000
00000000
10000000
00000000
00000000
01000000
00000000
00000000
NAME room1 143

TIL 47
00000000
00000000
00000000
00100000
00100000
00100000
00111110
00000011
NAME room1 144

TIL 48
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00010000
NAME room1 145

TIL 49
00000011
00100000
00000000
00000000
00000000
00100010
00100000
00000000
NAME room1 146

TIL 50
00000000
00000000
00000000
10000000
00010000
00000000
00000000
11110000
NAME room1 173

TIL 51
00000001
00000000
01000000
00000001
00000000
00000000
10000000
00000011
NAME room1 174

TIL 52
01111110
01111111
01010111
00011110
00101111
01111111
00111111
01010111
NAME room1 175

TIL 53
10111111
11111111
11111111
11111111
01111111
11111111
11111111
11111111
NAME room1 176

TIL 54
11111111
11111111
11111111
11111111
01111111
11111111
11111111
11111111
NAME room1 177

TIL 55
11111111
11111111
11111111
11111111
10111111
11111111
11111111
11111111
NAME room1 178

TIL 56
11111111
11001111
11010110
11111111
11111110
11111011
11111011
11111110
NAME room1 179

TIL 57
11111000
11100001
01100000
11000100
10000000
10000010
00000000
00000000
NAME room1 180

TIL 58
00000000
00100000
00000000
00000000
10000000
00000000
00000000
00000010
NAME room1 181

TIL 59
00000000
00000011
01000000
00000100
00000000
00000000
00000000
00000000
NAME room1 182

TIL 60
00001100
00000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME room1 209

TIL 61
00000000
00000000
00010000
00000000
00000000
00001000
00000000
00000000
NAME room1 210

TIL 62
00100100
00000100
00000100
00000000
00000000
10000000
00000000
00000000
NAME room1 211

TIL 63
01000000
00001000
00000000
00010000
00000000
00000000
00010010
00000000
NAME room1 212

TIL 64
00001100
01110000
00000000
00000000
00000000
00000000
00000000
00010000
NAME room1 213

TIL 65
00000000
00000000
00000000
00000000
00000100
10000000
00000000
00000000
NAME room1 214

TIL 66
00000111
00001100
00011011
00111111
01011110
01110110
11111111
11110110
NAME room1 215

TIL 67
11011111
11111111
11011011
11111111
11111111
11110011
10111111
11111111
NAME room1 216

TIL 68
11100111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 217

TIL 69
11111111
11111111
01111101
11111111
11111111
11111111
11111101
11111111
NAME room1 218

TIL 70
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000100
NAME room2 18

TIL 71
10001000
01000100
00000000
00001000
10001010
00000011
00010001
00000100
NAME room2 19

TIL 72
11111110
10001100
01000000
00000001
00010111
00001100
10000000
10000000
NAME room2 20

TIL 73
01110001
01000011
11001110
10011000
00110010
01100001
01000111
00011110
NAME room2 21

TIL 74
01101000
00110000
01111001
00000111
00001110
11111100
00011000
10110000
NAME room2 22

TIL 75
00001000
11111111
10001111
00011000
00111001
00101010
01101000
11000000
NAME room2 23

TIL 76
10001111
00000000
11110000
00111111
11110000
00000001
01000011
10000110
NAME room2 24

TIL 77
11100001
00000111
00111110
11111111
11111100
10011000
00110000
01100001
NAME room2 25

TIL 78
11110001
10000011
00000011
00011111
01111110
11011000
11110001
11000011
NAME room2 26

TIL 79
11001011
00111110
11111000
10110000
01100011
11000110
10010111
00001110
NAME room2 27

TIL 80
00101111
00011000
11110000
11000011
00000110
00111100
00100011
11101110
NAME room2 54

TIL 81
11100011
11000011
10001111
10011111
00011111
00111110
11111000
00110011
NAME room2 55

TIL 82
10000110
00001100
00111000
10000011
00010110
00111100
01111111
10100000
NAME room2 56

TIL 83
00100111
00111000
01110000
11000000
00000001
10010111
11111101
00001011
NAME room2 57

TIL 84
00011111
00110100
01101001
11001000
11001001
10001000
00011100
00110011
NAME room2 58

TIL 85
10000000
01000100
01000001
00001111
01011000
10110000
00111111
11111111
NAME room2 59

TIL 86
00001000
00010000
00011000
00001000
00001100
00000100
10000100
00010100
NAME room2 60

TIL 87
00000000
00101001
01000001
01000001
10000001
10000011
10000011
10000011
NAME room2 61

TIL 88
10001000
10001000
00011000
01110000
10000000
00000001
00000011
00000110
NAME room2 62

TIL 89
00011001
00110000
00110000
01000000
11000000
10000000
10000000
00000000
NAME room2 63

TIL 90
01111100
11011001
11000000
01000000
01000100
01010011
11000110
11100110
NAME room2 90

TIL 91
01001100
01000111
11000110
01000100
11001100
10011100
00010100
00010110
NAME room2 91

TIL 92
00100001
00100001
00100001
11100101
01101001
00110001
00011001
00001011
NAME room2 92

TIL 93
00110110
01100110
01000110
11000110
10000110
10000110
00000100
00110100
NAME room2 93

TIL 94
00000000
00000000
00000000
00000000
00000000
10100010
00000000
00011000
NAME room2 94

TIL 95
00000000
00000000
00000100
00000000
00000000
10000100
00010000
10110001
NAME room2 95

TIL 96
00000000
00000000
00000000
00000001
10000100
00000000
00000000
00010001
NAME room2 96

TIL 97
00010000
00000001
00000000
00000000
00010010
01000000
11000000
10000000
NAME room2 97

TIL 98
00000100
00001100
01011001
01110000
01001100
01000000
00010100
01000000
NAME room2 98

TIL 99
00011000
00110010
01100000
11101000
11000000
10010001
00000101
00000011
NAME room2 99

TIL 100
00000000
10000000
00001000
00000000
00000000
00000000
01000000
00000000
NAME room 6 126

TIL 101
01000011
00100010
00110110
00111100
00001000
00001000
00001000
01000110
NAME room 6 127

TIL 102
00000000
00000000
00000000
00110000
01111000
01001000
01101000
00101000
NAME room 6 128

TIL 103
01011000
11010000
11010010
01110000
01100001
01110000
00100000
00110000
NAME room 6 129

TIL 104
00000001
00100011
00000110
00100101
00000010
00000010
00111010
00101110
NAME room 6 130

TIL 105
11010000
01001000
11000000
10001000
00000001
01100001
00000001
00001100
NAME room 6 131

TIL 106
11010000
10010010
10010000
10010000
11110000
00000000
00000010
10000000
NAME room 6 132

TIL 107
00110000
00100000
01100001
01000001
01000001
11000001
10000011
10000010
NAME room 6 133

TIL 108
10010000
10010000
00010000
00010000
00010000
00110000
00100000
00100000
NAME room 6 134

TIL 109
00100010
01100110
01000100
01000100
01000100
01001000
01001000
01001000
NAME room 6 135

TIL 110
00001101
00001011
00001011
00011010
00010110
00010100
10000101
10000100
NAME room 6 162

TIL 111
01000110
01000110
01000110
01000110
01000110
01000111
01000101
01000101
NAME room 6 163

TIL 112
00100010
00100110
00100100
01100100
00001100
00001000
00001000
00011000
NAME room 6 164

TIL 113
00001000
00011000
00010000
00110000
00100001
00100001
01100001
01000010
NAME room 6 165

TIL 114
01000011
11000010
10000010
10000100
10001101
00001111
00001010
00001010
NAME room 6 166

TIL 115
11000001
10000001
10000001
10000010
00000010
00000010
00000010
00000100
NAME room 6 167

TIL 116
00100011
00100001
00100001
00100010
00100010
00100010
01100010
01000010
NAME room 6 168

TIL 117
01001010
01011111
00110101
11100101
11001101
10011001
10011001
10111001
NAME room 6 169

TIL 118
01010000
01010000
01010000
01010000
01010000
01010000
01010001
11010001
NAME room 6 170

TIL 119
10010000
10010001
11010001
01010001
01010001
00010001
10110011
00100010
NAME room 6 171

TIL 120
10001000
10001000
00011000
00010000
00010001
00100001
01100011
11000110
NAME room 6 198

TIL 121
00100000
01000000
11000001
10000001
10000011
00000010
00000110
00001100
NAME room 6 199

TIL 122
01010010
11110011
10100001
00000000
00010000
00000000
00000000
00101000
NAME room 6 200

TIL 123
00011000
00110000
11100000
00000000
00000000
00001000
00101000
10101010
NAME room 6 201

TIL 124
10000000
10000100
11000001
01000000
00000001
01000100
01010100
01110100
NAME room 6 202

TIL 125
01101001
01001000
01000000
01110000
00000000
00010101
10000001
10100101
NAME room 6 203

TIL 126
01010001
01110000
10000010
00000010
00000000
00010000
01000010
01010000
NAME room 6 204

TIL 127
10100101
11100111
11000010
11000000
00101000
00001100
10000101
10100101
NAME room 6 205

TIL 128
00010100
00011100
00011000
00000000
00000000
00000000
00101010
00101110
NAME room 6 206

TIL 129
00000001
01000001
01000000
01000000
00000000
00000000
00001100
00111111
NAME room 6 207

TIL 130
00100000
00101000
00001000
00001000
00000000
00000000
00000000
00001000
NAME room 6 234

TIL 131
00000000
01000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 6 235

TIL 132
00000000
00000001
00000011
00000110
00011000
01110000
11000000
00000000
NAME room 6 236

TIL 133
01111000
11000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 6 237

TIL 134
00100000
00100000
01100000
11000000
10000000
10000000
11000000
00000000
NAME room 6 238

TIL 135
00000100
00000100
00000100
00000100
00000100
00000010
00000001
00000001
NAME room 6 239

TIL 136
00100000
00100000
00110000
00011100
00000111
00000001
00000000
10000000
NAME room 6 240

TIL 137
00000010
00000011
00000001
00000001
00000000
11100000
00000000
00000000
NAME room 6 241

TIL 138
00011000
00001100
00000100
10000010
10000011
11000001
01000001
01100000
NAME room 6 242

TIL 139
00110000
00001000
00001100
00000100
00000010
00000011
10000001
10000001
NAME room 6 243

TIL 140
00100110
10110011
10010001
10000011
01000000
01001100
01001110
01100000
NAME room 7 20

TIL 141
01011010
01011110
11010011
11010000
01010000
01011100
01010011
01010001
NAME room 7 21

TIL 142
10001000
10101000
10001100
11100100
00111100
00000000
00000000
10000000
NAME room 7 22

TIL 143
11000000
10100000
10010000
11001100
01001010
01000001
01100000
00100010
NAME room 7 23

TIL 144
00000000
00000000
00000000
00000000
00000000
00000000
10000000
01000000
NAME room 7 24

TIL 145
00000010
00000100
00001010
00010110
00010100
00100100
01100100
10000100
NAME room 7 25

TIL 146
00110000
00100010
01100001
01000000
11100100
10000001
10010001
10000001
NAME room 7 26

TIL 147
00110100
00100101
01101110
01001000
01001010
11010010
10010000
00110001
NAME room 7 27

TIL 148
00000001
11111111
00100000
00000100
11000100
00100100
01000011
00100110
NAME room 7 28

TIL 149
11000000
00000101
00000110
10101110
01100111
11100000
10100000
01000011
NAME room 7 29

TIL 150
10010000
00000100
00000000
11000010
00110000
00010000
10010000
00000000
NAME room 7 56

TIL 151
00001000
00000000
00000000
00100000
00000000
00000000
00000000
00000000
NAME room 7 57

TIL 152
00000010
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 58

TIL 153
00111011
00000001
00001011
10001000
00000000
00000110
00000000
00000000
NAME room 7 59

TIL 154
00000110
00000011
10000000
10000000
01000000
00110000
10011110
00100011
NAME room 7 60

TIL 155
00100001
10000011
11000110
01111100
00000000
00000000
00000000
10000000
NAME room 7 61

TIL 156
00101100
00001000
00001011
00011011
00110011
01110001
11000000
10000100
NAME room 7 62

TIL 157
00000100
00000100
11010010
00011010
00000011
00100111
10011101
01110001
NAME room 7 63

TIL 158
00000000
00000000
00000001
00000001
00000001
00000001
00000001
00000001
NAME room 7 64

TIL 159
10011000
10001110
10000011
11000000
01110000
00011000
01001110
00010011
NAME room 7 65

TIL 160
00110000
00100000
01000000
01000000
01000000
01000000
01100000
00100000
NAME room 7 92

TIL 161
00100000
00100000
00100000
00100000
00100000
00100000
00100000
00100000
NAME room 7 93

TIL 162
00000111
00000001
00000001
00000001
00000001
00000001
00000000
00000000
NAME room 7 94

TIL 163
10001100
01011000
00011000
00110000
01000000
10000000
10000000
10000000
NAME room 7 95

TIL 164
01111001
01111111
00101101
00100000
00011100
00011001
00001000
00001110
NAME room 7 96

TIL 165
01001000
01001010
11111110
10010011
01000000
00010100
00000000
00000000
NAME room 7 97

TIL 166
00000000
10100010
00100110
11111111
00000000
00000000
00000000
00000000
NAME room 7 98

TIL 167
00000000
01000000
01000000
11111010
00001111
00000000
00000000
00000000
NAME room 7 99

TIL 168
00010000
00011100
00000100
00000100
10001100
11111000
00000011
00000011
NAME room 7 100

TIL 169
00110000
11100000
10000000
10000001
10000000
11101000
00111111
00000000
NAME room 7 101

TIL 170
00100100
01100100
01000100
01000100
01000100
10000110
10000110
00000110
NAME room 7 128

TIL 171
00110000
00011100
00001110
00001011
00011001
00010000
00010000
00011000
NAME room 7 129

TIL 172
01111111
00001000
00001000
00001000
10001000
11101000
00111100
00000101
NAME room 7 130

TIL 173
00100000
11100000
00100000
01100000
01100000
01000000
11000001
10000011
NAME room 7 131

TIL 174
01011000
01110001
01110001
01110001
01110011
11110011
10110011
00100011
NAME room 7 132

TIL 175
11000111
11000011
11000001
01000001
01100001
01110001
01011100
01100111
NAME room 7 133

TIL 176
11101100
11011000
10000000
00000000
00000000
10000000
10000000
11110000
NAME room 7 134

TIL 177
10000100
11001000
01101000
00110000
00110000
00100000
00100000
01000000
NAME room 7 135

TIL 178
10000000
10000000
01000000
00100000
00010000
00010000
00001000
00000100
NAME room 7 136

TIL 179
10111111
10111101
10011100
10010110
10010011
11010011
01010001
11010001
NAME room 7 137

TIL 180
01100000
00110000
00010000
11001000
01101100
11110111
00011000
00000000
NAME room 7 164

TIL 181
01101000
01101100
01100100
01000100
01000100
01000101
10010111
11011110
NAME room 7 165

TIL 182
00001100
00001000
00111000
00110000
00100000
01100000
01100000
10000000
NAME room 7 166

TIL 183
01001100
11000100
10000010
10000010
10000010
10000001
10001110
11110000
NAME room 7 167

TIL 184
00010000
00010001
00010110
00011000
01100000
10000000
00000000
00000000
NAME room 7 168

TIL 185
11100000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 169

TIL 186
11101000
00011111
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 170

TIL 187
00000000
10000000
01111111
00000000
00000000
00000000
00000000
00000000
NAME room 7 171

TIL 188
01001100
00100000
11111111
00000000
00000000
00000000
00000000
00000000
NAME room 7 172

TIL 189
11000011
11111100
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 173

TIL 190
00110000
00100000
00100000
00100000
01100000
01000000
01000000
11000000
NAME room 9 27

TIL 191
01110000
00011000
00001110
00000010
00000000
00000000
00000000
00000000
NAME room 9 28

TIL 192
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00110000
NAME room 9 29

TIL 193
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00111000
NAME room 9 30

TIL 194
00000000
00010000
00000000
00000000
00000000
00000000
10000000
00000000
NAME room 9 31

TIL 195
00000000
00000000
00000001
00000000
00000000
00000000
00000000
00000000
NAME room 9 32

TIL 196
00110000
00010000
00011000
00001000
00001000
00000011
00000011
00000001
NAME room 9 33

TIL 197
00001100
00001000
00011000
01110000
01000000
00000000
10000000
10011111
NAME room 9 34

TIL 198
00000000
00000000
00000000
00000000
00000000
00000001
11111001
10000001
NAME room 9 35

TIL 199
00000000
00000000
00000000
00000000
00000000
10000000
11000000
11000111
NAME room 9 36

TIL a
00000000
00000100
00100000
00000000
00000010
00000000
01000000
00000000
>
00000000
00000100
00100000
00000000
00000010
00000000
01000000
00000000
NAME another tile

TIL b
00000000
01000000
00000000
00000010
00000000
00000000
00010000
00000000
NAME another one

TIL c
00001000
00110000
01000000
01000000
01000000
01000000
00100000
00000000
NAME swirly

TIL d
00000000
00110000
00001000
00001000
00001000
00010000
00000000
00000000
NAME swirly 2

TIL e
00000000
00000000
00000100
00000000
00000000
00010000
00000000
00000000
NAME dotty

TIL f
00000000
00100000
01110000
10101000
00100000
00100000
00100000
00100000
NAME arrow

TIL g
00000000
00000000
00000000
00000000
00001000
00000000
00000000
00000000
NAME blank

TIL h
11100000
11110000
11010000
11000000
11100000
01111111
11110000
01000000
NAME room1 10

TIL i
00000000
00000000
01000000
00000000
00000000
10000000
00000000
00000000
NAME room1 11

TIL j
00000010
00001110
00000000
10000000
00000000
00010000
00000000
00000000
NAME room1 12

TIL k
00001011
00010011
00000011
00000111
00010111
00000111
00101111
00001101
NAME room1 13

TIL l
11111111
11111110
11111110
11111111
11111001
11111111
11111110
11111010
NAME room1 14

TIL m
10001000
10000000
10000000
10100100
10000000
10000000
00000000
00000000
NAME room1 15

TIL n
00001000
10000000
10000010
10000000
10000000
10000000
10000000
10000000
NAME room1 16

TIL o
00000011
00000001
00000000
00001000
00000000
10000000
00000000
00000000
NAME room1 17

TIL p
00000000
11000000
00000001
00000000
00000000
00000010
00000000
00000000
NAME room1 18

TIL q
00111111
00011110
00011111
00001111
00000111
00000011
00001001
00101001
NAME room1 19

TIL r
11111101
10111111
11111101
11111010
11111101
11111111
11101111
11100011
NAME room1 20

TIL s
10000000
11000000
10000000
10100000
11000000
11011000
11110000
11111100
NAME room1 21

TIL t
01001001
00001111
00001111
00011111
00001011
00011111
10001111
00111111
NAME room1 22

TIL u
11111111
00111011
11111111
11111111
11110111
11101111
11111111
11111111
NAME room1 23

TIL v
11111111
11111111
11111001
11111111
11111111
11111110
11111110
11111111
NAME room1 24

TIL w
11100100
01111100
11100000
10100000
11100000
01100100
11110001
11100000
NAME room1 25

TIL x
00000001
00000001
00000001
00000000
00000000
00000000
10000000
00000000
NAME room1 26

TIL y
00000000
00000000
11110001
00000000
00000000
00000001
00000001
01000000
NAME room1 27

TIL z
00001111
00001111
00011110
00110111
00111101
01011111
01111111
01111111
NAME room1 28

TIL 1a
10110100
11010000
11110000
11110000
11010010
10100000
10110000
11010000
NAME room1 39

TIL 1b
00000000
00000000
10000000
11100000
00111110
00000000
01000000
00000000
NAME room1 40

TIL 1c
00000000
00000000
00000100
00000001
00000001
00000011
01010111
00000110
NAME room1 41

TIL 1d
10111111
11111111
00111111
11111111
01111111
11111111
10111111
11111111
NAME room1 42

TIL 1e
01111010
00001000
11111000
11111000
11111000
11110010
11110000
11111000
NAME room1 43

TIL 1f
00000000
00000100
00000000
00000000
00000000
00000000
00000000
01000000
NAME room1 44

TIL 1g
00000000
00000000
00000000
00010000
00011000
00000000
00000000
00000000
NAME room1 45

TIL 1h
00000000
00000000
00000000
00000100
00000000
10000000
00000000
00000000
NAME room1 46

TIL 1i
00000000
00000000
00000010
00000000
00000000
00000000
00001000
00000000
NAME room1 47

TIL 1j
00000000
00000000
00000000
00000000
00000000
00000010
00000000
00000000
NAME room1 48

TIL 1k
01001111
00001100
10010111
00000101
00000011
00001011
00000011
00000001
NAME room1 49

TIL 1l
11111111
11111111
11011111
11111111
01111111
11101110
01101110
11011111
NAME room1 50

TIL 1m
11111111
11011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 51

TIL 1n
11111111
11111111
11111111
11111110
11111111
11111111
11111111
11111111
NAME room1 52

TIL 1o
11110111
11111111
11111111
11011111
11111111
11111110
11111111
11111111
NAME room1 53

TIL 1p
11111000
11110000
10010000
11101000
11100000
10110000
11101000
11000001
NAME room1 54

TIL 1q
00000000
00000000
01000000
00000000
10000100
11111100
00000000
00000000
NAME room1 55

TIL 1r
00101111
00111111
00110110
00111111
00111111
01101111
01101111
11101111
NAME room1 56

TIL 1s
11111111
11111111
11111111
11001111
11111011
11101111
11111111
10111111
NAME room1 57

TIL 1t
11100000
11100000
11000000
11010000
10000000
11000000
00000000
00000000
NAME room1 58

TIL 1u
00000100
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 59

TIL 1v
11100000
10000000
10000000
11000000
00000000
00000000
00000000
00100000
NAME room1 60

TIL 1w
01000000
00000000
00000000
00000000
00000000
11000000
01100000
00110000
NAME room1 61

TIL 1x
00000000
00000000
00000000
00000000
10000000
00000000
00000000
00000000
NAME room1 62

TIL 1y
00010000
00000000
00000000
10000000
10000000
10000000
10000000
10000000
NAME room1 63

TIL 1z
00000000
00001001
00001000
00000000
00000000
00000001
00000000
00000000
NAME room1 64

TIL 2a
00000000
01010000
00000000
10000000
00000000
00000000
00000000
11100000
NAME room1 75

TIL 2b
00010000
00010000
00010000
00000000
01100000
00000000
10001000
11100000
NAME room1 76

TIL 2c
00000011
00000000
00000000
00000000
00000000
00000000
00000100
01000000
NAME room1 77

TIL 2d
10000000
00000000
00000010
00000010
00000010
01000110
00001100
00000000
NAME room1 78

TIL 2e
00000001
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 79

TIL 2f
00110101
00011111
00000111
00001101
00000110
00001011
00000111
00000101
NAME room1 80

TIL 2g
11111111
11111111
11111111
00110111
11111111
11001111
01111111
11111011
NAME room1 81

TIL 2h
11111111
11101111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 82

TIL 2i
11010000
11111000
11011111
11111111
11111101
11111011
11111111
11111111
NAME room1 83

TIL 2j
00111111
01101111
11111011
10111111
11011111
01111111
11111111
11111101
NAME room1 84

TIL 2k
11111111
11111111
11111111
11011111
11111011
11111111
11111111
11111100
NAME room1 85

TIL 2l
11100000
01100000
11000000
11000000
00000000
10000000
00000000
00100000
NAME room1 86

TIL 2m
00000000
00001000
00000000
00000001
00000000
00000000
00000000
00001000
NAME room1 87

TIL 2n
00000000
00000000
00000000
00000000
00000000
00010000
00000000
00000000
NAME room1 88

TIL 2o
00100000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 89

TIL 2p
11111000
11111001
11111110
11111111
11111111
11011111
11111111
11111011
NAME room1 90

TIL 2q
00000000
00100000
00000000
10000000
11000000
11110000
11111000
11111110
NAME room1 91

TIL 2r
00000000
00000000
00010000
00000000
00000000
00000000
00000001
10000000
NAME room1 92

TIL 2s
01000011
00000111
10000011
00100000
00000011
00000011
00000000
00000001
NAME room1 93

TIL 2t
11111111
01111111
11111111
11111111
01111111
11111111
10111111
11110111
NAME room1 94

TIL 2u
11111111
11111111
11111111
11111111
11111111
11111111
11111111
10111111
NAME room1 95

TIL 2v
11111101
11111101
11111101
11111111
11111111
11111111
11111111
11111111
NAME room1 96

TIL 2w
11111101
11111111
11111111
11111111
11111111
11101111
11111111
11111111
NAME room1 97

TIL 2x
11111111
11111111
11111111
11011101
11001111
11111111
11111111
11111111
NAME room1 98

TIL 2y
01111010
11111100
11110100
11111000
11111001
10100001
11100001
10100000
NAME room1 99

TIL 2z
00000000
00000000
01000100
00000000
00000000
00000000
11000000
11100000
NAME room1 100

TIL 3a
11111111
11111111
11111111
11111111
11111111
11111111
11111101
11111111
NAME room1 111

TIL 3b
11111111
11111111
11111111
11111111
11111111
11111011
11111111
11111111
NAME room1 112

TIL 3c
11111111
11111111
11111111
11111001
10011111
11111111
11111010
01101100
NAME room1 113

TIL 3d
01101000
11000000
10000000
10000000
00100000
00000000
00000000
00000000
NAME room1 114

TIL 3e
00011000
00000000
00000000
00000000
00000000
00000001
00000000
10000000
NAME room1 115

TIL 3f
01000000
00000000
00000000
00000100
00000000
00000000
00010000
00000011
NAME room1 116

TIL 3g
00000100
10100000
00000100
00000000
10000001
00111111
11111111
11111111
NAME room1 117

TIL 3h
00010000
11001000
00000100
00011111
11110111
11111111
11111111
11111111
NAME room1 118

TIL 3i
00001111
00000111
00100011
00000101
00000010
00000000
00010000
00000000
NAME room1 119

TIL 3j
11111111
11111111
11111111
11111101
11111111
01111111
00011111
00001111
NAME room1 120

TIL 3k
11111101
11111111
11111011
01111111
11111111
11111111
11111111
11111111
NAME room1 121

TIL 3l
01101100
11011110
11101011
11111010
11101111
11111111
11111110
11111111
NAME room1 122

TIL 3m
00000001
00000001
00111111
11010101
11011111
11111010
11111111
11111111
NAME room1 123

TIL 3n
11111011
11111111
01101111
01111111
11110111
11110011
10111011
11111111
NAME room1 124

TIL 3o
11111111
11111111
11111010
11111110
11111011
11111110
11111101
11111101
NAME room1 125

TIL 3p
11010100
01111001
11010000
11110000
10010100
11100000
00100000
10000100
NAME room1 126

TIL 3q
00000000
00100000
00000000
00000000
10000000
00000001
00000000
00000000
NAME room1 127

TIL 3r
00000000
00000011
00000000
00000000
00000001
00000111
00000111
01001111
NAME room1 128

TIL 3s
00001111
00111111
01111110
11111110
11111111
11111111
11111111
11011111
NAME room1 129

TIL 3t
11111111
11111111
11111101
11111111
11101111
11101100
11111000
11000001
NAME room1 130

TIL 3u
10111111
11101011
11111111
11000000
00000010
00100100
00000000
01000010
NAME room1 131

TIL 3v
00000100
00001000
10000000
00000000
00001000
00000000
00000000
00000000
NAME room1 132

TIL 3w
00000011
00000001
10100001
10000010
00000100
00000000
10000000
00000000
NAME room1 133

TIL 3x
01111111
11111111
01111111
00111111
00011111
10011111
00100011
00000011
NAME room1 134

TIL 3y
11111111
11011111
11011111
11111111
11111111
11111111
11111111
01111111
NAME room1 135

TIL 3z
11111011
11011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 136

TIL 4a
01111111
11111111
10101011
00011111
00001011
00001111
00000111
00000111
NAME room1 147

TIL 4b
11111111
01111111
11111111
11111011
11111111
11111111
11101111
01111111
NAME room1 148

TIL 4c
11111111
11111111
11111111
11011111
11111111
11111111
11111111
11111111
NAME room1 149

TIL 4d
11111110
11111011
11111111
11111110
11111111
11111111
11111111
11111111
NAME room1 150

TIL 4e
11111101
01111000
11101000
11101100
11011000
10101000
11011010
11111101
NAME room1 151

TIL 4f
00000100
00000000
00000000
00000000
10000010
00001001
00000111
00101111
NAME room1 152

TIL 4g
00011110
00011111
01111111
01111111
11111111
11111011
11111011
11111111
NAME room1 153

TIL 4h
11111111
11111011
11111111
11111111
11111010
11111110
11101000
11111000
NAME room1 154

TIL 4i
00000000
10010100
10000000
00100000
00000000
00000000
00100000
10000000
NAME room1 155

TIL 4j
00001000
00000000
00000000
00000000
00001000
00001000
00000000
01000000
NAME room1 156

TIL 4k
00000000
00000000
00000000
00100000
00000000
00000000
00000000
00000000
NAME room1 157

TIL 4l
00000000
00100000
00100000
00001000
00000000
00000000
00000000
00000000
NAME room1 158

TIL 4m
00000000
00000000
00000000
00000000
00000001
00000000
00010000
00000000
NAME room1 159

TIL 4n
00000000
00000000
00000010
00000000
00100001
00000000
00000000
00010000
NAME room1 160

TIL 4o
00100001
00000011
00000000
00001000
00001000
00001000
00000000
00000100
NAME room1 161

TIL 4p
11111111
11101011
11101111
11011111
10111101
11111101
01111011
00101111
NAME room1 162

TIL 4q
11111111
01111111
11111111
10111111
11111111
11111111
11111111
11111111
NAME room1 163

TIL 4r
11111100
11110101
11111111
11111110
11101111
11111111
11111111
11110111
NAME room1 164

TIL 4s
00011111
11111111
01111111
11010111
11111111
11111111
11111111
11111110
NAME room1 165

TIL 4t
11111111
11111011
11101111
11111111
11111110
11111110
11111100
11001001
NAME room1 166

TIL 4u
10110100
11000000
10000000
00000000
00001000
00000000
00000000
00000100
NAME room1 167

TIL 4v
00000000
00000000
10000000
00000101
00000000
00000000
00000000
00000000
NAME room1 168

TIL 4w
00000000
00000000
00000000
10000000
10100000
11111000
00000000
00000010
NAME room1 169

TIL 4x
00000000
00010010
00000000
00000000
00000000
00000000
00000000
00010000
NAME room1 170

TIL 4y
00100000
00000000
00000000
00100000
00000000
00010000
00010000
00011000
NAME room1 171

TIL 4z
00000000
00000000
00000000
00000000
00000000
10000010
00000000
00000011
NAME room1 172

TIL 5a
00000000
00000000
00000000
00000000
00000000
00000000
01000010
00000000
NAME room1 183

TIL 5b
00000000
00001000
00001000
00000000
00000000
00000000
00000000
00001000
NAME room1 184

TIL 5c
00101000
10001000
00011000
00010000
00100000
00000000
00001000
00000000
NAME room1 185

TIL 5d
00000000
00000000
10000000
00000000
00000000
00000000
00110000
00010000
NAME room1 186

TIL 5e
00000000
00000000
00000000
00000000
00000000
00000100
00000000
00000000
NAME room1 187

TIL 5f
00000000
00000000
00000000
00100100
00000001
00000001
00000111
01000111
NAME room1 188

TIL 5g
01111011
11111111
01110101
11111111
11011111
11111111
10111111
01110111
NAME room1 189

TIL 5h
11111111
11111111
11111111
11111111
11111111
11111111
11111111
01111111
NAME room1 190

TIL 5i
11111111
11111101
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 191

TIL 5j
01111111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME room1 192

TIL 5k
11111111
11111011
01111110
11111111
11111101
11011111
11111010
11111111
NAME room1 193

TIL 5l
11010100
11011000
10110000
11110000
01110000
11010001
11100000
11001000
NAME room1 194

TIL 5m
00000000
00000000
00010000
00010000
00010000
00001111
00000000
00000001
NAME room1 195

TIL 5n
00000000
00000000
01000000
00000100
00000100
00001100
00001000
00001000
NAME room1 196

TIL 5o
00000000
00000000
00000000
00000010
00000000
00000000
00000000
00010000
NAME room1 197

TIL 5p
00000000
00000000
00000000
00000100
00000100
00000100
00000100
00000100
NAME room1 198

TIL 5q
00000000
01000100
00000000
00000000
00000000
00000000
00000000
00000000
NAME room1 199

TIL 5r
00000000
00000000
10000000
00000100
01000100
00000100
00000100
00000100
NAME room1 200

TIL 5s
00000000
01000000
00000000
00000000
00000000
00001000
00000000
01000000
NAME room1 201

TIL 5t
00000000
00000001
00000000
00000000
00000110
00000100
00000001
00000010
NAME room1 202

TIL 5u
01001101
00011111
00101111
00111111
01111011
11011011
10111111
11101111
NAME room1 203

TIL 5v
11111111
11111111
10111010
11111111
11111111
11111111
01100111
11110111
NAME room1 204

TIL 5w
11111111
11111111
11111111
11111111
11111110
11111111
11111101
11111111
NAME room1 205

TIL 5x
11111110
11111111
11101101
11111111
11111010
11110110
11011101
11111000
NAME room1 206

TIL 5y
11000000
10000000
10000000
00100000
10000000
00000000
00000000
10000000
NAME room1 207

TIL 5z
00000000
00000000
10000000
00000000
00000000
10001000
10000000
00000000
NAME room1 208

TIL 6a
11011000
10111001
11101100
11110000
01110000
10000000
01101001
11000000
NAME room1 219

TIL 6b
00000000
00000011
00000001
00000000
00000000
00000000
00000000
00000000
NAME room1 220

TIL 6c
00000000
00010000
00000000
10000000
10000001
10010000
10000000
00000100
NAME room1 221

TIL 6d
00001000
01000000
00000001
00000000
00000000
00010000
00000000
00000000
NAME room1 222

TIL 6e
00000000
00000000
00001111
00011001
00110000
01100010
01000000
00000000
NAME room1 223

TIL 6f
00000000
00000000
00000000
10000000
10000000
00000000
00000001
00000000
NAME room1 224

TIL 6g
00000000
00000001
10001000
00000000
00001111
00000000
00000000
00000000
NAME room1 225

TIL 6h
11111111
11111110
10011111
00001111
01010111
11011011
11011111
11011111
NAME room1 226

TIL 6i
10011111
11011111
11011111
11011111
11001111
11101111
11111111
11111111
NAME room1 227

TIL 6j
00000000
00000000
00000000
00000000
00000000
00000000
00000000
01000000
NAME room2 1

TIL 6k
00100000
00000000
00100000
00000000
00000000
00000000
00000000
00000001
NAME room2 2

TIL 6l
00000001
00000000
00000000
00000000
00010000
00001000
00000000
00000000
NAME room2 3

TIL 6m
00001100
00110100
00000111
00000000
00101000
00000111
00000000
00000100
NAME room2 4

TIL 6n
01000110
01001011
11000001
01110100
11111000
10001100
00000111
00000001
NAME room2 5

TIL 6o
01100000
00111001
00011111
10101000
10100001
10000000
11111111
00000011
NAME room2 6

TIL 6p
00100010
11110011
11010001
00011100
00011111
01000001
11111111
11011110
NAME room2 7

TIL 6q
11111000
00000110
11000011
01111001
00000000
10001111
11010000
01000011
NAME room2 8

TIL 6r
00011000
00001100
00001111
11111001
11001100
10000011
00000000
11111000
NAME room2 9

TIL 6s
00011001
01110000
11000001
10001001
10000000
11001111
11111000
10111000
NAME room2 10

TIL 6t
00000110
11000111
10011100
01110000
11000001
00000011
00000111
01111100
NAME room2 11

TIL 6u
00000001
11111011
00111101
01101111
11111001
11001111
10011110
00111000
NAME room2 12

TIL 6v
11000000
00011111
11110000
00001111
11111100
10000000
00111000
11100001
NAME room2 13

TIL 6w
11111100
10011101
11110011
11000110
00001111
00111111
00011110
01111000
NAME room2 14

TIL 6x
11000111
10001111
00011100
01111001
11110000
11000100
01000001
01000111
NAME room2 15

TIL 6y
00000000
00000000
00000000
00000000
00000000
00010000
00000000
00010000
NAME room2 16

TIL 6z
00000010
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 17

TIL 7a
11010010
00110000
00100000
01101111
11111000
11100010
10001000
00000000
NAME room2 28

TIL 7b
00011111
10111100
01110000
11000101
00000001
00000111
11111100
11111111
NAME room2 29

TIL 7c
00000000
00000000
00000000
00000000
00000000
00000100
00000001
00000000
NAME room2 30

TIL 7d
00000100
00000000
00000000
00000000
00000000
00000000
00001000
00000000
NAME room2 31

TIL 7e
00001000
00100000
01110100
01000010
01100000
01000000
11000000
10000000
NAME room2 32

TIL 7f
00000000
00000000
00000000
00000000
00000010
01000000
00000000
00100010
NAME room2 33

TIL 7g
00110000
00011111
01000001
01111111
11000001
10000000
00001001
00000000
NAME room2 34

TIL 7h
11110000
11001000
11010010
10000000
00010100
00000001
00010011
01000010
NAME room2 35

TIL 7i
00100001
00101011
00100000
00000000
00011111
11110000
00110100
01100000
NAME room2 36

TIL 7j
10000000
00000001
00001110
10111000
11111001
01110000
11000001
10000000
NAME room2 37

TIL 7k
00111100
11100011
00000110
00001100
00000100
00000000
10000000
00010100
NAME room2 38

TIL 7l
11001011
00000001
00000011
10001010
00000010
10000011
00001100
10111001
NAME room2 39

TIL 7m
10000001
11001001
10001001
10111111
11100011
10000011
10000001
10010011
NAME room2 40

TIL 7n
00011000
01100000
11000001
00000011
00010110
01001100
00011000
00110001
NAME room2 41

TIL 7o
00111111
01100000
10000000
00011111
00111111
11110000
10000000
10001111
NAME room2 42

TIL 7p
11111111
00100000
00000000
11111000
11111111
00001111
00111111
11100000
NAME room2 43

TIL 7q
00000000
00000000
00000010
00000000
00000000
01000010
00000000
10100010
NAME room2 44

TIL 7r
00000000
00000000
00000000
00000000
00001100
00000000
00000010
10010000
NAME room2 45

TIL 7s
00000001
01101010
11000010
10000110
10100101
10100100
10000100
11011100
NAME room2 46

TIL 7t
00000000
00000000
00000100
01000000
10000010
00000010
00000110
00001100
NAME room2 47

TIL 7u
00000000
00000000
00000000
00000000
01000000
00000000
00000000
00000000
NAME room2 48

TIL 7v
00000000
00000100
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 49

TIL 7w
01001000
00001011
00000000
00000000
00001001
01000011
00011100
00000000
NAME room2 50

TIL 7x
00000000
11100101
00110000
00011000
11111111
10100000
10000001
10000011
NAME room2 51

TIL 7y
11000111
10000000
00100010
00000000
11101111
01111000
11000000
00000011
NAME room2 52

TIL 7z
10100001
10001000
11000111
01110001
11111111
00000111
11111100
10000001
NAME room2 53

TIL 8a
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00001000
NAME room2 64

TIL 8b
00000000
00000100
00000000
00000000
00000110
00000000
00000100
00000000
NAME room2 65

TIL 8c
00000000
00000000
00000100
00010000
00000001
00000000
00000011
00000001
NAME room2 66

TIL 8d
00000110
11001100
00111100
00110000
00000011
01111110
11001100
11111000
NAME room2 67

TIL 8e
00010110
01001100
01111000
11000000
10001000
00000011
01001111
00000111
NAME room2 68

TIL 8f
00000111
01111000
00000001
00111111
11111100
11111000
10110100
01100001
NAME room2 69

TIL 8g
00001100
00000000
11111111
00011011
00010110
11101101
10011000
10110000
NAME room2 70

TIL 8h
00101110
01111000
11000000
10000101
00010001
00110011
00110011
01110011
NAME room2 71

TIL 8i
00110010
01100010
01101010
11010010
00001010
10010010
00000010
00000110
NAME room2 72

TIL 8j
01011010
00010110
10110100
00101101
10101001
00001001
00011000
00100001
NAME room2 73

TIL 8k
01100111
11000111
10001111
10011110
00011010
00110110
00110110
01101110
NAME room2 74

TIL 8l
11111111
11111000
00111000
11111110
01110111
01010001
01011000
11001000
NAME room2 75

TIL 8m
00000100
00000100
00100110
00000110
00000011
10000001
11001001
01100001
NAME room2 76

TIL 8n
10000100
10000100
10000100
10000100
10000101
10000111
10010110
10010100
NAME room2 77

TIL 8o
00001100
00111000
01110000
11101001
10000000
00000000
00010000
00000000
NAME room2 78

TIL 8p
00000000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 79

TIL 8q
00001000
00000010
00001000
00000000
00000000
00000000
00000000
00000000
NAME room2 80

TIL 8r
00000000
00000000
00000000
00000000
00000000
00000000
01000000
00000001
NAME room2 81

TIL 8s
00000011
00000000
00001010
00000000
00000000
00001111
00011001
11110111
NAME room2 82

TIL 8t
00000000
00010000
00000001
10011111
01110110
11001100
00001101
01011100
NAME room2 83

TIL 8u
10001100
11111000
11100001
10000011
00010111
00001110
00011010
00110010
NAME room2 84

TIL 8v
11100001
11101111
11000100
10000100
00001111
00111110
01100000
01000000
NAME room2 85

TIL 8w
01101010
00000000
00111111
01100001
10000011
00000110
01111000
11000001
NAME room2 86

TIL 8x
11100010
11100110
11001100
10010000
00110000
01100011
11000111
10001100
NAME room2 87

TIL 8y
00100101
00101100
00001000
10011011
01110011
11000100
00001100
00001100
NAME room2 88

TIL 8z
00100101
01100001
01000111
11001101
00001000
00111100
01110000
11010000
NAME room2 89

TIL 9a
01000010
11000010
10100011
10001111
10101010
00101000
00001010
00001000
NAME room2 100

TIL 9b
01001001
11000011
10000100
00101000
10001000
10011000
00110011
11000110
NAME room2 101

TIL 9c
10000111
00011110
00110110
00100100
01101100
11011001
10110001
01100011
NAME room2 102

TIL 9d
00001000
01010001
00110001
01100001
01000011
11000110
10000100
00001101
NAME room2 103

TIL 9e
11111100
10000110
00011001
00010001
00100000
01100100
11000011
00000001
NAME room2 104

TIL 9f
10011000
10011000
00101100
01100110
01000010
11010010
10000011
11000001
NAME room2 105

TIL 9g
11100110
11100110
11100110
01001111
01000111
01000111
00000111
00010111
NAME room2 106

TIL 9h
00010011
00100000
00101100
00101100
00100100
00100110
00110010
00110011
NAME room2 107

TIL 9i
00001010
10101100
00001100
10100100
11000101
01100101
00101001
00110001
NAME room2 108

TIL 9j
00100100
01100100
01001100
11001111
10001110
00001010
00001000
00011000
NAME room2 109

TIL 9k
01110000
01101010
11000000
00100001
10000001
00000011
00001011
00000110
NAME room2 110

TIL 9l
01100010
11001110
10011000
10110000
00100000
01100011
11000110
00000100
NAME room2 111

TIL 9m
01100011
01000110
01111100
10101100
10100000
11100000
01000001
11000001
NAME room2 112

TIL 9n
00000010
00000000
00111100
01100000
11000000
10000011
10000110
00011000
NAME room2 113

TIL 9o
00000000
10010000
00000001
00000010
00000000
00000100
00000000
00001000
NAME room2 114

TIL 9p
10001110
00111000
01100100
11010000
10000100
10010000
10000000
00000001
NAME room2 115

TIL 9q
00011001
10110011
00100011
01101101
11011010
10010110
10010100
10010100
NAME room2 116

TIL 9r
10000100
00001101
10011001
10000001
00001111
00011100
00001100
11001100
NAME room2 117

TIL 9s
11000010
10111110
11100010
10000010
00000111
00011100
10011000
00110000
NAME room2 118

TIL 9t
10011000
10011001
00111100
00101000
00101101
00100100
01100100
11001100
NAME room2 119

TIL 9u
00001001
00000001
00001001
01000001
00000010
00010010
00000110
00001100
NAME room2 120

TIL 9v
11101000
01100000
01110010
01111000
01101000
01101000
00101001
01101001
NAME room2 121

TIL 9w
00001111
10011010
00110010
01100010
11011101
10010011
10110011
00100111
NAME room2 122

TIL 9x
00110001
00110001
01010001
11001001
11001001
11001000
01001000
01011001
NAME room2 123

TIL 9y
00110011
00100010
11101110
00101000
00101000
00111010
01110000
01000010
NAME room2 124

TIL 9z
00011000
00011011
00010000
00110000
00100100
01100000
11100000
11100000
NAME room2 125

TIL a0
00001100
00011000
00110000
00111000
00010000
00010000
00110010
11100000
NAME room2 126

TIL a1
10001100
00011000
00110001
01100011
01001110
01111000
11000000
01100001
NAME room2 127

TIL a2
10000111
10011100
10010000
00110011
00100110
01101100
11001000
10001000
NAME room2 128

TIL a3
00010000
00110000
11100000
10000100
00100001
00100011
00110010
00010110
NAME room2 129

TIL a4
00000000
00000000
00000010
00100000
10000000
00000000
00001000
00100000
NAME room2 130

TIL a5
10000011
00000010
00001010
00000010
00000011
00101010
00001110
00100001
NAME room2 131

TIL a6
00010110
10010111
00110101
10100100
00100101
00100100
00100101
00100100
NAME room2 132

TIL a7
00001110
00001010
01111011
01101001
01001000
01011000
00110000
00100000
NAME room2 133

TIL a8
00110000
00110000
00111000
00011011
00011100
00001100
00001100
10001100
NAME room2 134

TIL a9
10001000
10001000
00001000
00001000
00100000
00000000
00000010
00100000
NAME room2 135

TIL aa
01011000
00100000
10100000
01100101
01100001
01100011
01100010
11001100
NAME room2 136

TIL ab
01011001
11010001
10010001
10110000
00100000
01000000
11000001
00000000
NAME room2 137

TIL ac
00100101
01001101
01001101
01001101
11001101
10011100
10011000
00111000
NAME room2 138

TIL ad
00011110
00000011
00001001
00000001
10000100
11000000
01000000
01000000
NAME room2 139

TIL ae
11010100
11000001
01101101
01100001
01110011
00111011
00001110
00001110
NAME room2 140

TIL af
11000001
11000001
10000001
10000010
00000010
00101010
00000010
00000010
NAME room2 141

TIL ag
10000010
00000110
00001100
00011000
00110000
00010000
01110000
00010000
NAME room2 142

TIL ah
00101001
00000011
10000010
00000100
00100100
00100000
10100011
01111110
NAME room2 143

TIL ai
00011001
00000001
00000001
00100001
11100101
10000000
10000000
00000010
NAME room2 144

TIL aj
00010100
00010101
00011111
00110010
10100010
10100010
10100010
11100011
NAME room2 145

TIL ak
11100000
00000000
00000000
00000000
00000000
00000000
01110000
10000000
NAME room2 146

TIL al
00000000
01001000
00000000
00001001
00000001
00000000
00000000
00000000
NAME room2 147

TIL am
01100101
01001100
11001000
10011000
00010000
00000000
00000000
00000000
NAME room2 148

TIL an
00100000
00000001
10000000
00000000
00000000
00000000
00000000
00100000
NAME room2 149

TIL ao
00011000
00010000
00000000
00000000
10000000
00000000
00000000
00000000
NAME room2 150

TIL ap
00000100
00100001
00000101
00000001
00000011
00001111
01011001
00010011
NAME room2 151

TIL aq
10000100
10010100
10000110
10010101
11100000
11000010
01010000
01000000
NAME room2 152

TIL ar
00000000
00000011
00011010
00000110
01010100
00010100
00110100
00000100
NAME room2 153

TIL as
11111000
10010001
00010000
00010010
00010001
00010000
10010000
00001000
NAME room2 154

TIL at
01001100
01100000
00000100
00000000
00100000
00000000
00000000
00000000
NAME room2 155

TIL au
00000111
00000110
10100110
00000110
10101111
11000111
11100111
01100011
NAME room2 156

TIL av
00000010
00000100
00001100
00001111
00001100
00011001
00111001
00110001
NAME room2 157

TIL aw
00010010
00100011
01100001
11000101
00000000
10000100
00000100
00001100
NAME room2 158

TIL ax
01000000
11000001
10000000
10010100
10011000
11110010
01100000
01100000
NAME room2 159

TIL ay
00100000
00100001
00100001
10100101
01100111
11000010
01000010
11000110
NAME room2 160

TIL az
11101111
11011000
10110000
11000000
10000011
00001110
00011100
00110010
NAME room2 161

TIL b0
00000000
00000000
00000000
00100010
10000000
00000000
00000000
00000000
NAME room2 162

TIL b1
01000000
00000000
00000000
00000000
00000000
00000000
00001000
00001000
NAME room2 163

TIL b2
10000000
00000000
00000010
00000000
00000010
00000000
00000001
00000000
NAME room2 164

TIL b3
00010011
00110110
11100010
01000010
01000111
11000100
00000000
01000001
NAME room2 165

TIL b4
01000000
01000010
11000000
01000000
00000000
00000000
00000000
00000000
NAME room2 166

TIL b5
00000100
00000001
00001000
00000000
00000000
00000000
00000000
00000000
NAME room2 167

TIL b6
00001100
00100111
00000000
00100000
00000000
00000000
00000010
01000000
NAME room2 168

TIL b7
00000000
01000000
00000000
11000000
00000000
00000000
00000000
00000000
NAME room2 169

TIL b8
01100001
01100101
01100001
01100101
01100001
01110101
01100001
00100001
NAME room2 170

TIL b9
01100011
01000110
11000100
11001100
11001001
11001001
11001011
11010011
NAME room2 171

TIL ba
00001100
00000100
00011100
01010001
11100111
11100100
10111100
00001100
NAME room2 172

TIL bb
01000000
01000000
01000010
11110000
00000000
00000010
00100000
00000011
NAME room2 173

TIL bc
10000100
10001100
10011001
10010011
01110110
01011111
11111000
11100000
NAME room2 174

TIL bd
01100010
11100000
11001000
10000000
00000000
11100000
00000000
00000000
NAME room2 175

TIL be
01000000
00000000
00000000
10001000
00000000
00000000
00000000
00000000
NAME room2 176

TIL bf
00000000
00000000
00100000
00000000
00000000
00000000
00000000
00000000
NAME room2 177

TIL bg
00000000
00000001
00000001
00000000
00000000
00000000
00000000
00000000
NAME room2 178

TIL bh
00000000
00000000
00000000
00000000
00000000
00000000
00000011
00000110
NAME room2 179

TIL bi
00000000
10100000
00000000
10000000
00000000
00000000
11100000
01100000
NAME room2 180

TIL bj
00110011
10011111
00111111
01111110
11111000
11110000
11110001
11110001
NAME room2 181

TIL bk
10110111
10100110
01101100
11011000
10011010
11110000
11000010
11000000
NAME room2 182

TIL bl
10001100
00001000
00001100
10000101
10000111
01101111
00111110
01111100
NAME room2 183

TIL bm
00101110
00111101
01111110
11101000
11000000
10000010
00001000
01000001
NAME room2 184

TIL bn
11000000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 185

TIL bo
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00100000
NAME room2 186

TIL bp
00000000
00100000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 187

TIL bq
00000000
00000000
00000000
00000000
00010000
00000000
00000000
00000000
NAME room2 188

TIL br
00000000
00100000
00000000
00000000
00000000
00000000
00100000
00000000
NAME room2 189

TIL bs
00000000
00000001
00000000
00000010
00000000
00000000
00000000
00000000
NAME room2 190

TIL bt
00000001
00000011
00000110
00111000
01100000
11000000
00000000
00000000
NAME room2 191

TIL bu
10100000
00100000
00100000
00000000
00000000
00000000
00000000
00000000
NAME room2 192

TIL bv
10100001
01100111
01000111
01001111
01111110
01111110
11110000
01000000
NAME room2 193

TIL bw
10010010
00000001
00010011
00000011
00000111
00011110
01111100
11111010
NAME room2 194

TIL bx
11111000
11111000
11101100
10000100
00000110
00000010
00000011
00000011
NAME room2 195

TIL by
00000000
00000000
00000000
00000000
00010000
00000000
00000000
10100000
NAME room2 196

TIL bz
00000000
00000000
00100000
00000100
00000000
00000000
00000000
00000000
NAME room2 197

TIL c0
00000000
00000000
00000000
00000000
00000000
00000000
00100000
00000000
NAME room2 198

TIL c1
00000000
00000000
01100000
00000000
00010000
00000000
00000000
00000000
NAME room2 199

TIL c2
10000000
10001010
10101100
10000010
10000000
10000101
10010011
00001011
NAME room2 200

TIL c3
11110000
11100001
11101000
11000000
11100000
10000000
10000001
10000000
NAME room2 201

TIL c4
00000111
00000111
00000111
00001111
00011110
00111110
00111000
01111000
NAME room2 202

TIL c5
10000000
10000000
10000000
01100000
00000000
10000000
00000000
01000000
NAME room2 203

TIL c6
00000000
00000000
00000000
00000000
00100000
00000000
00100000
00000000
NAME room2 204

TIL c7
10000001
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room2 205

TIL c8
00000000
00000000
00000000
00000000
00000000
00000000
00000010
00000000
NAME room2 206

TIL c9
00000000
00000000
00000000
00000000
00000000
00000000
01000000
00010000
NAME room2 207

TIL ca
00000000
00000000
00000000
00000000
00100000
00010000
00100000
00000000
NAME room2 208

TIL cb
00100111
00000111
01001111
00011111
01111110
11111011
11111110
00000000
NAME room2 209

TIL cc
10000001
10010000
10010000
00000001
00000111
10011111
11111100
00000000
NAME room2 210

TIL cd
01111010
11110010
11100000
11000000
10000000
10000000
10000000
00000000
NAME room2 211

TIL ce
00000000
00000000
00000000
10000000
00000000
00000000
01000000
00000000
NAME room2 212

TIL cf
00000000
00000000
00000000
00001100
00000000
00000100
00000000
00000000
NAME room2 213

TIL cg
00000000
00000000
00000000
00000000
00000000
00000000
00000100
00000000
NAME room3 1

TIL ch
00000000
00000000
00000000
00000100
00000000
00000000
00000000
00000000
NAME room3 2

TIL ci
00000000
00000000
00000000
00000000
00010000
00000000
00000010
01000010
NAME room3 3

TIL cj
00001000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room3 4

TIL ck
00000000
00000000
00000000
00000000
00000000
00000000
10000000
00000000
NAME room3 5

TIL cl
00000000
00000000
00000000
10000000
00000000
00000000
00000000
00000001
NAME room3 6

TIL cm
00000000
01000001
00000011
00000011
00000101
00000001
00000000
00000000
NAME room3 7

TIL cn
00000000
00000000
10001000
11000000
00000000
10000000
10000000
11000000
NAME room3 8

TIL co
00000100
00000000
00000000
00000000
00000000
00000000
00000000
01000000
NAME room3 9

TIL cp
00000000
00001000
00000000
00000000
00000000
00000000
00010000
00000000
NAME room3 10

TIL cq
00000000
00000000
00000000
00010000
00000001
00000000
00000000
00000000
NAME room3 11

TIL cr
00000000
00000000
00000000
00010000
00000000
00000000
00000000
00000000
NAME room3 12

TIL cs
00000000
00000000
00000000
00000000
00000000
00000000
00000000
01000001
NAME room3 13

TIL ct
01000000
00000000
00000000
00000001
00000000
00000000
00000000
00000100
NAME room3 14

TIL cu
00000000
01000000
01111000
00001111
00000000
00000010
00000000
00000000
NAME room3 15

TIL cv
00000010
00000010
00000010
11111110
00000010
00000011
00110011
01100001
NAME room3 16

TIL cw
00000000
00000000
00000000
00001001
00001000
00001110
00001000
00001000
NAME room3 17

TIL cx
11000000
00000000
00000000
01000000
00000000
00000000
00000000
01000000
NAME room3 18

TIL cy
00000000
00000000
00000000
10000000
10000000
10000000
10000000
01000000
NAME room3 19

TIL cz
00000000
00000000
00000100
00000000
00001001
00000000
00000000
00000000
NAME room3 20

TIL d0
01000000
00100000
00010000
00000000
00000000
00000000
00000010
10000000
NAME room3 21

TIL d1
00000000
00000000
00001000
00000000
00000000
00000000
00000001
00000000
NAME room3 22

TIL d2
00000000
00000000
00000000
00000100
00000000
00000000
00000000
00000001
NAME room3 23

TIL d3
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000010
NAME room3 24

TIL d4
00000000
00001000
00000000
00000000
00000010
00000000
00000000
00000000
NAME room3 25

TIL d5
10000000
10000000
00000100
00000010
00000000
00000000
00000000
00000010
NAME room3 26

TIL d6
00000101
00100001
00100001
00100010
00100110
00100100
00101100
00101000
NAME room3 27

TIL d7
00000000
00000000
00000000
00000000
00001000
11000000
01110000
00010000
NAME room3 28

TIL d8
10001110
10000011
10000001
10000000
10000000
10001000
10010000
10010000
NAME room3 29

TIL d9
11000001
10000001
10000001
10000011
10001110
10001100
10001110
10001010
NAME room3 30

TIL da
00001000
00001000
00011000
00110000
00100000
01100001
01110000
01010000
NAME room3 31

TIL db
00000000
00000000
00000000
00010000
01011100
00001000
00001110
01000111
NAME room3 32

TIL dc
01000000
01100000
00100000
00110000
11010100
00010110
10010111
00010011
NAME room3 33

TIL dd
00000100
00000000
00100000
00000001
00010111
00000110
00000100
10000110
NAME room3 34

TIL de
00000100
00000000
10000100
10000000
00000001
00100111
00000011
00100110
NAME room3 35

TIL df
00000000
00000000
00000000
00000000
00000000
00100010
00000000
00000000
NAME room3 36

TIL dg
00110000
00010000
00010010
00001000
00001110
00000110
00000011
10010001
NAME room3 37

TIL dh
00111000
00100001
00110011
00010111
00011001
00001001
00000101
10000111
NAME room3 38

TIL di
00010001
00010011
00010010
00010010
00011011
00001001
00001101
00000100
NAME room3 39

TIL dj
00100001
01100001
01000010
10000010
00011100
00110000
10100000
11100000
NAME room3 40

TIL dk
10001010
11001011
01001001
01001001
01001001
01001001
11001001
11001001
NAME room3 41

TIL dl
11010000
10010010
10010001
00010011
00010110
00011101
00000001
01100001
NAME room3 42

TIL dm
00000101
00000100
11000100
01001100
10011100
10011000
00011000
00011000
NAME room3 43

TIL dn
10010010
01011010
00101001
01011001
01001000
01111000
00101111
00000000
NAME room3 44

TIL do
11000010
01100010
00100110
00100100
10010100
10010100
10011000
10011001
NAME room3 45

TIL dp
00001110
00011100
00111000
10111000
01110000
01100010
11100000
11100001
NAME room3 46

TIL dq
10000000
00000010
00000110
00100110
00001110
00001100
00111000
11100010
NAME room3 47

TIL dr
00000100
00000000
00000000
00000000
01000000
00000000
00010000
00110001
NAME room3 48

TIL ds
00000000
00010000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room3 49

TIL dt
01000000
00000000
00000000
00000000
00000000
00000000
10000010
00000001
NAME room3 50

TIL du
00000000
00001001
00000000
00000000
00000000
00010000
00011001
10001000
NAME room3 51

TIL dv
11000011
11100010
00011010
00001110
00000110
00000110
00000110
01000010
NAME room3 52

TIL dw
00000110
00000010
00000000
00000000
00000001
00001111
00111000
01100000
NAME room3 53

TIL dx
11000000
11000000
10000000
10000001
11111111
00000000
00000000
00000001
NAME room3 54

TIL dy
01001001
01001000
01111000
11111111
00000000
00000000
00001111
11111000
NAME room3 55

TIL dz
11100001
10100001
10010001
10011111
00001101
00000001
11111110
00000011
NAME room3 56

TIL e0
00010000
00010000
11110000
00010000
00010000
10110001
10100011
01100010
NAME room3 57

TIL e1
00000000
00100000
01100001
11100001
10100010
00100110
00011100
00000000
NAME room3 58

TIL e2
10011001
10011001
10110010
00110011
01110111
01100110
01100110
10101100
NAME room3 59

TIL e3
11000001
10000111
10001100
10001011
00001010
00011000
00011000
01110000
NAME room3 60

TIL e4
00000000
00000000
00000000
11011110
01110001
00000000
00000000
00000000
NAME room3 61

TIL e5
00100000
00100000
00100000
00100000
10100000
00100010
00100000
00100001
NAME room3 62

TIL e6
00000001
00000000
01000000
00000000
00000000
00000000
11000000
10010001
NAME room3 63

TIL e7
00000000
00000000
10011111
00000001
00000000
00001000
01000001
00000111
NAME room3 64

TIL e8
00000000
10000000
00001000
11000000
01100000
01110000
10011000
00001110
NAME room3 65

TIL e9
11000000
01100100
00111100
10001100
00000100
10001100
00000100
00000100
NAME room3 66

TIL ea
00000011
00000001
00000100
00000000
00010100
00000001
00001111
00011001
NAME room3 67

TIL eb
01000000
11000000
11000001
01000001
01000001
11000001
11000011
11000010
NAME room3 68

TIL ec
00011111
01110000
10000000
00000000
00000000
00000011
00000011
00001110
NAME room3 69

TIL ed
00000000
00000000
00001111
00111000
01100000
10000000
00000000
00000000
NAME room3 70

TIL ee
00000001
11100000
10111110
00000011
00000000
00000000
00000000
00000000
NAME room3 71

TIL ef
11100110
01111100
01011100
01001111
11010000
11110000
10111000
10101100
NAME room3 72

TIL eg
00000001
00000001
11110000
10010000
00010000
00010000
00001000
00001100
NAME room3 73

TIL eh
11011000
01110011
11000110
00001100
00111001
00000001
00000010
00000010
NAME room3 74

TIL ei
11010000
00010000
00110000
11000001
10000000
00000001
00000111
00001111
NAME room3 75

TIL ej
00111100
00100000
00000011
00001111
00111100
11000000
11111101
10011111
NAME room3 76

TIL ek
00100011
11111100
11000011
10000001
00000000
00001000
11000000
11111111
NAME room3 77

TIL el
00000000
00100000
00100000
11100000
01001000
10000000
10001000
00100000
NAME room3 78

TIL em
00011100
01110000
11000000
10001001
00000000
00000000
00001111
00000110
NAME room3 79

TIL en
00100001
00000000
00000000
00100000
00000000
00110000
11111111
00111000
NAME room3 80

TIL eo
11000100
00111100
00001111
00000000
00000000
00000010
00000000
11001111
NAME room3 81

TIL ep
00011001
00110101
11100101
00000101
00000110
00000011
00000011
11111110
NAME room3 82

TIL eq
11000010
11000010
11000110
10000101
10000111
11101100
11001101
10001111
NAME room3 83

TIL er
00111100
01101100
01111000
11000000
10000000
10000000
10000000
10000000
NAME room3 84

TIL es
10100110
11100001
11000001
00000000
00000000
00000000
00000000
00000000
NAME room3 85

TIL et
00000110
00000011
11100001
00111000
00001100
00000011
00000001
00000001
NAME room3 86

TIL eu
00000010
00001110
10001000
10000000
11000001
01100001
00110001
00010001
NAME room3 87

TIL ev
00011011
00110000
01100000
11000000
10000000
00010000
00010000
10000000
NAME room3 88

TIL ew
11111110
01110000
00011000
01000111
01000000
01100000
00000000
00000000
NAME room3 89

TIL ex
00000000
00000000
00001000
11111111
00000000
00000000
00000000
01000010
NAME room3 90

TIL ey
00001000
00000000
01100000
11000000
00001000
00000001
00100000
00000000
NAME room3 91

TIL ez
10000000
00000000
00000110
00001000
00000000
00000000
00000000
00000000
NAME room3 92

TIL f0
01111100
11000000
10000000
00000000
00000000
00100000
00001111
00011000
NAME room3 93

TIL f1
01001100
00000010
00000001
10000000
00111011
11101110
10001100
00011000
NAME room3 94

TIL f2
01101110
00111001
10001111
01100000
10011111
10000000
01100000
00111000
NAME room3 95

TIL f3
00110000
11110000
00011000
00001100
11111111
00000001
00111111
11100001
NAME room3 96

TIL f4
10001111
10011100
11011100
01111100
00111100
11011100
11011110
10011110
NAME room3 97

TIL f5
10001001
11001101
01100101
00110100
00010100
00001100
00001100
00001110
NAME room3 98

TIL f6
11000000
01100000
11111110
00010000
00001001
00001111
00001100
00110111
NAME room3 99

TIL f7
00000000
01000000
00011000
00000000
11111111
00111111
00000000
01001000
NAME room3 100

TIL f8
00010010
00000111
00001100
00011000
11100101
10000101
11111101
00000000
NAME room3 101

TIL f9
11000100
10000000
00000000
00000000
11100000
00111100
10000000
11100000
NAME room3 102

TIL fa
00000000
00000000
00000000
00000000
00100000
00000000
00000000
00000000
NAME room3 103

TIL fb
00001000
00011000
00010000
00110001
00100001
11100001
10001111
00011000
NAME room3 104

TIL fc
01110000
11100001
11000011
11000010
11000010
11000010
01000010
01000000
NAME room3 105

TIL fd
00000111
11111100
00100111
00000000
00000000
00000100
00000000
00100001
NAME room3 106

TIL fe
10000000
00001000
10001000
11001000
01111100
00011111
01101001
11001001
NAME room3 107

TIL ff
11111110
01101011
00001111
00000101
00000111
00000011
00000000
00000001
NAME room3 108

TIL fg
00000000
00000000
10000000
01100000
00110000
10111000
11001100
11000100
NAME room3 109

TIL fh
00000000
00000000
00000000
00000000
00000011
00000010
00000010
00000010
NAME room3 110

TIL fi
00001011
00001010
01111111
11001001
10001001
00001001
00001001
00011011
NAME room3 111

TIL fj
11100010
00000011
11111111
00000000
00000000
11111110
00000001
00000000
NAME room3 112

TIL fk
00000000
00000100
00000000
00000110
00111101
11100000
11111111
00000000
NAME room3 113

TIL fl
00000000
00000100
11000000
00000101
00000000
00000000
11111111
00111000
NAME room3 114

TIL fm
00000000
00000000
00000010
00000000
01000001
00111110
11000010
00000000
NAME room3 115

TIL fn
00001000
00000000
01000000
00000000
01100000
00000000
00000000
00000000
NAME room3 116

TIL fo
00010000
00110001
01100001
11000001
00000001
00010000
00000000
00000000
NAME room3 117

TIL fp
11100001
10000000
00000000
00000000
00100000
00000000
00011111
00110100
NAME room3 118

TIL fq
00000001
00000010
00000110
00001100
01110000
11000000
10010000
00000011
NAME room3 119

TIL fr
00001001
00001001
00001001
00100111
10000111
00001111
01110011
10000011
NAME room3 120

TIL fs
00000110
00001000
00010000
11100000
11110000
01100000
11100000
11110000
NAME room3 121

TIL ft
01000011
01000001
01000000
01000000
01000000
01100000
00110000
00010000
NAME room3 122

TIL fu
00000000
10000000
11000000
01110000
00011111
00000000
00000000
00000000
NAME room3 123

TIL fv
00000000
00000000
00000000
00011111
11110000
00000000
00000000
00001111
NAME room3 124

TIL fw
00000000
00000000
00000000
11111111
00000000
00000000
00000000
10000111
NAME room3 125

TIL fx
00000010
00000010
00000010
00000011
11111111
00011011
11100011
10000011
NAME room3 126

TIL fy
00110011
01100111
11000111
10011110
11110100
11100111
01010111
01011011
NAME room3 127

TIL fz
11111000
11101111
11110001
00011100
00000110
11000001
11100000
00110000
NAME room3 128

TIL g0
00000000
00000000
11111110
00100010
00110001
00010000
10011100
11000111
NAME room3 129

TIL g1
00001000
00001000
00001111
00000000
10010000
00000001
00000000
00000000
NAME room3 130

TIL g2
00000000
00000000
11000000
01111100
00000001
10010000
00000000
00000000
NAME room3 131

TIL g3
00000000
00000000
00000000
00000000
11110000
00000000
00000000
00000000
NAME room3 132

TIL g4
00100000
10000001
00000111
00001100
00011000
00110000
00100000
00000100
NAME room3 133

TIL g5
01101100
11001000
00010000
00010001
00110011
01100010
01000110
01000100
NAME room3 134

TIL g6
10000110
10001000
10010000
10110000
00100000
01100111
01001100
11011000
NAME room3 135

TIL g7
00000001
10010001
00000000
00001000
00000001
11110111
00011100
01110000
NAME room3 136

TIL g8
00110000
10011000
11101100
11011111
11110111
01011001
01001001
00101001
NAME room3 137

TIL g9
00011000
00000111
00000000
11000000
01000000
01000000
11000000
11000000
NAME room3 138

TIL ga
00000000
11111111
00000000
00000000
00000000
00000000
00000111
00011100
NAME room3 139

TIL gb
11111000
10000000
00000011
00001110
00110001
11000011
00000110
00001100
NAME room3 140

TIL gc
01111111
11110001
11001011
10010111
00011101
00111001
11111001
10010001
NAME room3 141

TIL gd
11111110
11111000
00010000
00010001
00110001
00100011
00100011
00110011
NAME room3 142

TIL ge
01001101
01110100
11011010
10001011
00001101
00001100
00000110
00000011
NAME room3 143

TIL gf
10011110
10001101
00000111
10011000
11001000
01110000
00011100
00001010
NAME room3 144

TIL gg
01000001
00100000
10100000
00010000
00011100
00011111
00000001
00000010
NAME room3 145

TIL gh
11111000
00000000
00000000
00000000
00000000
11100000
10011100
11000011
NAME room3 146

TIL gi
00000000
00000000
00000000
00001000
00000000
00000000
00000001
00000000
NAME room3 147

TIL gj
00000000
00001000
00001000
00000000
00000000
00000000
00000000
00000000
NAME room3 148

TIL gk
00000000
01000000
00000000
00000100
00000000
00000000
10000000
00010001
NAME room3 149

TIL gl
01000000
01000011
00111111
00000001
00010001
00000010
00000110
00000100
NAME room3 150

TIL gm
11010000
11000000
11100001
00101001
00100010
00110010
00011010
00001110
NAME room3 151

TIL gn
11000010
00000000
00100001
00100001
00000010
00010110
00000110
00101000
NAME room3 152

TIL go
00101001
01101000
11101000
01101001
01001011
01001011
01001111
01001110
NAME room3 153

TIL gp
01000000
11100001
11111111
11111110
10000001
00001110
00011000
01110001
NAME room3 154

TIL gq
01111000
11100011
10001110
00011000
00110000
01100000
11000000
10011111
NAME room3 155

TIL gr
11110001
10000111
00011100
00110000
01100100
01100100
01100101
11000111
NAME room3 156

TIL gs
10010001
00010001
00100001
01100001
11000001
10000000
00000000
00000000
NAME room3 157

TIL gt
00010110
00011100
00001100
00000101
10100101
10111101
10011101
10011101
NAME room3 158

TIL gu
00000011
00000001
00000000
00010000
00000000
00000010
00000000
00000000
NAME room3 159

TIL gv
10000111
11000010
01100010
01111001
01111001
00111100
00101100
00101100
NAME room3 160

TIL gw
10000000
10000000
10000010
11000000
01000000
11000000
11100000
01100000
NAME room3 161

TIL gx
01111101
00000100
00000000
00000000
00000000
00100000
00000000
00000000
NAME room3 162

TIL gy
11000000
01110000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room3 163

TIL gz
00000000
00000000
00000000
00000000
00000000
01000000
00000000
00000000
NAME room3 164

TIL h0
00101100
00000000
00000000
00000001
00000011
00100010
00000110
00001100
NAME room3 165

TIL h1
00000100
00011100
01100000
11000001
00000011
00000111
00001111
00100010
NAME room3 166

TIL h2
01111000
01010000
00110001
00100000
11000010
10000000
00011111
01110000
NAME room3 167

TIL h3
01111111
01111000
11111111
01111100
01010110
01010111
10110101
11000101
NAME room3 168

TIL h4
11000011
00000110
11111100
01000000
01000000
01100000
00100000
00110000
NAME room3 169

TIL h5
00010110
00110011
00100001
00100001
00100001
01000000
01000001
11100001
NAME room3 170

TIL h6
11000110
11000110
11000111
11000110
10000010
10000110
10000110
00000101
NAME room3 171

TIL h7
00001000
10000000
10000000
11000000
00000100
00000000
00000000
11000000
NAME room3 172

TIL h8
10011101
11011101
01110110
00110111
00000111
00000010
00000010
00000010
NAME room3 173

TIL h9
00000000
00001000
00000000
00000000
11000000
11100000
11110000
01010000
NAME room3 174

TIL ha
00101100
00101111
00100001
00110001
00010001
00010001
00000000
00010000
NAME room3 175

TIL hb
01110000
01100000
00111100
00000111
00000000
10000000
11000000
01100000
NAME room3 176

TIL hc
00000000
00000000
11100000
00111110
10000010
01100000
00110000
00011000
NAME room3 177

TIL hd
00000000
00000000
00001000
00000000
00000000
00000000
00000000
00000000
NAME room3 178

TIL he
00000010
00000000
00000000
00000000
00000000
00000000
00000000
00010000
NAME room3 179

TIL hf
00001000
00000000
00001111
00000001
00000110
00001100
00111000
11100001
NAME room3 180

TIL hg
00000010
01000010
10001111
11110011
00000010
00000010
00010010
00001110
NAME room3 181

TIL hh
11000001
10000011
10000111
00000110
00001100
00001100
00011000
00110000
NAME room3 182

TIL hi
10000101
00000101
00001100
00000100
00001110
00001010
00001010
01010010
NAME room3 183

TIL hj
00011000
00001001
00001001
00000010
00000010
00000010
00000010
00000010
NAME room3 184

TIL hk
10100001
10100001
00100010
00100010
00100010
00000010
00100010
00100010
NAME room3 185

TIL hl
00001000
00011000
00010000
00110000
00101000
01001000
01001000
01001000
NAME room3 186

TIL hm
10000000
01000000
01000000
00100000
00100000
00100000
00110000
00000010
NAME room3 187

TIL hn
00000010
00000010
00010010
10000001
00000001
00000001
00000001
00000001
NAME room3 188

TIL ho
01010000
01010000
01001000
00101100
00010100
00000100
00000000
00000000
NAME room3 189

TIL hp
00010000
00010000
00001000
00000000
00000000
00000000
01000000
00000000
NAME room3 190

TIL hq
00111100
00000100
00000000
00000000
00000000
00000000
01000000
00000000
NAME room3 191

TIL hr
00001100
00000000
00000000
00000000
00010000
00000000
00000000
00000000
NAME room3 192

TIL hs
00000100
00000000
00100000
00000000
00000000
00000000
00000000
00000010
NAME room3 193

TIL ht
00000000
00010000
00000000
00000000
00000000
00000000
00000000
00000010
NAME room3 194

TIL hu
00000011
00000000
00000000
10000000
00000000
00000000
00000000
00000000
NAME room3 195

TIL hv
00000000
00000000
00000000
00000011
00000110
00100000
00000000
00000000
NAME room3 196

TIL hw
00111000
01101000
11011000
10010000
00010001
00110000
00100000
00000000
NAME room3 197

TIL hx
00100000
00110000
00100000
00000000
00010000
00000000
00000000
00000001
NAME room3 198

TIL hy
00110010
00100010
00100011
00100001
00100001
01100000
11000000
10000000
NAME room3 199

TIL hz
00000010
00000010
00010010
00000010
10000011
11000001
00000000
00000000
NAME room3 200

TIL i0
00100010
00000010
00000000
00000000
00000000
00000000
00000000
00000000
NAME room3 201

TIL i1
01001000
01001000
01001110
00000010
00000010
00000000
00000000
00000000
NAME room3 202

TIL i2
00000001
00000001
00000000
00000000
00000000
00000000
00000100
00000000
NAME room3 203

TIL i3
00000000
00000000
00000000
00000000
00000001
01000000
00000000
00000000
NAME room3 204

TIL i4
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00100001
NAME room3 205

TIL i5
00000000
00000000
00001000
00000000
00000000
00000000
00000000
01000000
NAME room3 206

TIL i6
00000000
01000000
00000000
00000000
00000000
00000000
00000000
00001000
NAME room3 207

TIL i7
00000001
00000011
00000010
00000110
00000000
00000000
00000000
00000000
NAME room3 208

TIL i8
00000000
00000000
00000000
00000000
00000000
00000001
00000000
00000000
NAME room3 209

TIL i9
00100000
00000000
00000000
00000000
00000000
00001000
00000000
00000000
NAME room3 210

TIL ia
00000000
00000000
00000000
00000100
10000000
00000000
00000000
00000000
NAME room3 211

TIL ib
00000100
00000000
01000000
00000000
00000000
00000000
00000000
00000000
NAME room3 212

TIL ic
00000000
00000000
00000000
00000000
00000000
00011000
00000000
00000000
NAME room3 213

TIL id
00000000
00000001
00000000
00000000
00000000
00000000
01000000
00000000
NAME room3 214

TIL ie
00000001
00000000
00000000
00000000
00001000
00000000
00000000
00000000
NAME room3 215

TIL if
00000000
00000000
00000100
00000000
00000000
00000000
00000000
00010000
NAME room3 216

TIL ig
10101111
11111100
11111101
11111111
11111111
11111111
11111011
11111111
NAME room4 1

TIL ih
11111111
00111111
11111111
11111111
11111111
11111101
11101101
11111101
NAME room4 2

TIL ii
11111011
11111111
11100111
11111101
11111111
11111110
11111110
11111111
NAME room4 3

TIL ij
11111111
11111111
11111011
11110000
11100000
11101010
11111011
11111011
NAME room4 4

TIL ik
11101111
11101111
11111101
11111101
11111111
11111111
11111111
11111111
NAME room4 5

TIL il
11001000
11001000
11001000
11001000
11001000
11001100
11001100
11001000
NAME room4 6

TIL im
00011100
00011110
00011110
00011110
00011110
00011111
00110111
00110111
NAME room4 7

TIL in
00110100
00110100
00111100
00111100
00110100
00101100
10100110
10100110
NAME room4 8

TIL io
10110110
10110100
10111100
11111100
01111100
01111100
01111100
01111000
NAME room4 9

TIL ip
00011000
00011000
00011001
00011001
00011000
00011000
00011000
00011000
NAME room4 10

TIL iq
01011111
01011111
01011111
11001101
11001111
11001111
11001111
01001011
NAME room4 11

TIL ir
11111101
11111101
11111111
11111111
11011111
11001000
11100011
01111111
NAME room4 12

TIL is
11111111
11101111
11111101
11111111
11111111
11111111
11110111
11110111
NAME room4 13

TIL it
11111111
11111111
11111111
11110110
11111110
11111111
11111110
11111111
NAME room4 14

TIL iu
11111111
11111111
11111111
11111110
11111110
11111110
00111111
10111111
NAME room4 15

TIL iv
10111001
10111111
11111111
11111111
11111111
00111110
10011111
11111111
NAME room4 16

TIL iw
11111111
01111111
01111111
01111111
00111111
10011110
11111111
11111111
NAME room4 17

TIL ix
11110001
11100111
11111101
11111111
11111111
11101111
11111111
11101111
NAME room4 18

TIL iy
11111111
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME room4 19

TIL iz
01111011
11111011
11111011
11110011
11110011
11111111
11111110
11111110
NAME room4 20

TIL j0
11111011
11111011
11111000
11111111
11111111
11111111
11111111
11111111
NAME room4 21

TIL j1
11001000
11001000
01001000
11001000
11001000
11001000
11001000
11001000
NAME room4 22

TIL j2
00110111
01100111
01100110
01100111
10100111
10101111
11101110
11001110
NAME room4 23

TIL j3
10100110
10100110
10100110
11100110
11110110
11010010
10111010
10110010
NAME room4 24

TIL j4
01101000
01101000
01111000
00111000
00111000
00011000
00011000
00011000
NAME room4 25

TIL j5
00011000
00011000
00010000
00010000
00010000
00010000
00010000
00111000
NAME room4 26

TIL j6
01011111
01011111
01011111
01011111
01001101
01011111
01010111
01011111
NAME room4 27

TIL j7
11111111
11111111
11111111
11111111
11111111
11111111
11011111
11111011
NAME room4 28

TIL j8
01111111
11111110
11111111
11111111
11111111
11111101
11111111
11111111
NAME room4 29

TIL j9
10011111
11011111
11011111
11111111
11111111
11111111
11111111
11111111
NAME room4 30

TIL ja
11111111
11111111
11111111
11111111
11011111
11001111
00000011
11110110
NAME room4 31

TIL jb
11111111
01111111
11111111
11111111
01111111
11111111
11110011
10000111
NAME room4 32

TIL jc
11111111
11111111
11111111
11111111
11111110
11111110
11111110
11110000
NAME room4 33

TIL jd
11101111
11111111
11111111
01111111
01111111
11111101
11111111
11110111
NAME room4 34

TIL je
11111110
11111110
11111110
11111110
11111110
11111111
11111111
10111111
NAME room4 35

TIL jf
10111101
11111111
11011110
11111111
00011111
11111111
11111111
11111111
NAME room4 36

TIL jg
11001000
11001000
11001000
11001000
11001000
11001000
11000000
11000001
NAME room4 37

TIL jh
11001111
11001111
10011111
10011101
10011100
10001100
10001100
10001100
NAME room4 38

TIL ji
10110010
11110010
01110010
11110011
11110001
11110001
11110001
01110001
NAME room4 39

TIL jj
00011000
00011000
00001000
00001000
00011000
10011000
10011000
10011000
NAME room4 40

TIL jk
00101000
00101000
00101000
00101000
00111000
00111000
00011000
00011000
NAME room4 41

TIL jl
01011111
01001111
01000111
01001111
01001111
01001111
01001101
01001111
NAME room4 42

TIL jm
11111011
11111111
11111111
11111111
11011111
11111111
11111111
11111111
NAME room4 43

TIL jn
11111001
11111011
11111011
11111010
11111011
11111001
11111110
11111111
NAME room4 44

TIL jo
11111111
11111011
11111001
11111110
11111110
11111111
01111111
11111111
NAME room4 45

TIL jp
11111111
11011111
01111111
11111111
11111111
11111111
11111111
11110111
NAME room4 46

TIL jq
11110111
11110111
11110111
11111111
11111111
11111111
11111111
11110110
NAME room4 47

TIL jr
11101111
11111111
11010111
11111111
11111111
11111111
11111110
11111101
NAME room4 48

TIL js
11110111
11111111
11111111
11111111
11111111
11111111
11111110
01111111
NAME room4 49

TIL jt
11111111
11111111
11111111
11111111
11101111
11001111
00011111
11111111
NAME room4 50

TIL ju
11111110
11111011
11111111
11111111
11011111
11111111
11111111
11111111
NAME room4 51

TIL jv
10010001
10010001
10010011
10010010
00010010
00110110
00110110
00110110
NAME room4 52

TIL jw
10001100
10001000
00011000
00011100
00111100
01111110
11111110
11111111
NAME room4 53

TIL jx
01110001
01110001
00110001
00110000
00110000
00110000
00110000
00110000
NAME room4 54

TIL jy
10011000
10011100
10011100
10011100
10011100
10011100
11011100
01010100
NAME room4 55

TIL jz
00011000
00011000
00011000
00011000
00011000
00011100
00011100
00011100
NAME room4 56

TIL k0
01101111
01101011
01101111
01101111
01101111
01100101
01100111
01100111
NAME room4 57

TIL k1
11101111
11111111
11111101
11111101
11111101
01111101
11111101
11011111
NAME room4 58

TIL k2
11111111
11111111
11111110
11111110
11111110
11111110
11111111
11111111
NAME room4 59

TIL k3
11111111
11111111
01111111
11111111
11111111
01111111
01111111
11111111
NAME room4 60

TIL k4
11111111
11110111
11110111
11111111
11111111
11111111
11111111
11001111
NAME room4 61

TIL k5
11111111
11111111
10111111
10111111
10111111
10001111
11100011
11111111
NAME room4 62

TIL k6
01111101
11011011
11000111
11111111
11111111
11111111
11111111
11111111
NAME room4 63

TIL k7
11111011
11111100
11111110
11111110
11101111
11111111
11111111
11111111
NAME room4 64

TIL k8
11111111
01111111
11111111
11111111
11111111
11111110
11111111
11111011
NAME room4 65

TIL k9
11111111
01111111
11111111
01111111
01111101
00111110
11111110
11111110
NAME room4 66

TIL ka
00100111
00100111
00100011
01100001
01100011
01100011
01100010
01000010
NAME room4 67

TIL kb
11111111
10111111
00110010
00110010
00110010
00110010
01110010
01111010
NAME room4 68

TIL kc
00110000
00110000
00110000
00110000
00110000
00110000
00110000
00011000
NAME room4 69

TIL kd
01011100
01111100
00111100
00111100
00101100
00001100
00001100
00000100
NAME room4 70

TIL ke
00001100
00001100
00001100
00001110
00001110
00001110
00001110
00001110
NAME room4 71

TIL kf
01100111
01100011
01100011
00100001
00110001
00111001
00011001
00011000
NAME room4 72

TIL kg
11111111
11111111
11111011
11111111
11111010
10011111
11111111
11111111
NAME room4 73

TIL kh
11111111
11111111
11111111
01110111
11111111
11101111
01110010
11111111
NAME room4 74

TIL ki
11111111
11111111
11111111
11111111
11111111
01111011
01111111
11111110
NAME room4 75

TIL kj
11100111
11111111
11111111
11111111
11111111
11111111
11111101
10111111
NAME room4 76

TIL kk
11111111
11111111
11111111
11101111
11111110
11111111
11111111
11010111
NAME room4 77

TIL kl
11011111
01111011
01101111
10011111
00000010
00000000
00001000
00000000
NAME room4 78

TIL km
11111101
11111111
10101101
00000100
00000001
00000000
01101000
00000000
NAME room4 79

TIL kn
11111111
11111111
11010010
00000000
00000000
00010000
01000001
00010000
NAME room4 80

TIL ko
11011111
11011111
11110111
00011111
01000001
00000001
00011000
00000000
NAME room4 81

TIL kp
11111000
11111000
11110101
10111001
11110001
00000001
01000101
00010011
NAME room4 82

TIL kq
11000010
10000010
10000010
10000010
10000010
00000010
00000110
10000110
NAME room4 83

TIL kr
01111010
01111111
01101101
01101111
01100110
01100110
01111011
01100010
NAME room4 84

TIL ks
00011000
00011000
00011000
00011000
10011000
10011000
10011000
00011000
NAME room4 85

TIL kt
00000100
00000100
00001100
00001100
00011100
00011100
00111100
00111100
NAME room4 86

TIL ku
00001010
00001010
00001010
00001111
00001111
00001111
00001101
00001101
NAME room4 87

TIL kv
00011100
00011100
00111110
00011110
00011111
00001111
10000110
11000011
NAME room4 88

TIL kw
01111001
11111111
10111111
00011010
00111110
10001100
01001000
00000100
NAME room4 89

TIL kx
11111011
11111111
11111111
10110111
00010001
01000100
00100000
10001010
NAME room4 90

TIL ky
01101001
01111111
11111111
00111011
00001111
00010000
01001010
01000000
NAME room4 91

TIL kz
01111011
01110111
00000111
00001000
00000100
01001000
00000000
10010100
NAME room4 92

TIL l0
01111101
11110111
01111111
01000101
00100000
01000000
01000011
10010000
NAME room4 93

TIL l1
00010001
01000000
00101101
10000100
00010000
00000000
00000000
00000000
NAME room4 94

TIL l2
01001010
00000000
00111000
00000010
00000000
00000000
00000000
00000000
NAME room4 95

TIL l3
00000001
00011000
10000000
01001010
00000000
00000100
10000000
10000000
NAME room4 96

TIL l4
00100100
00000000
00000010
01010000
00000000
00000100
10000000
00000000
NAME room4 97

TIL l5
10000101
01000011
00000011
00000011
10000001
10000111
00011111
01111111
NAME room4 98

TIL l6
10000110
10000100
10001100
11111100
11111000
11110000
11110001
11110001
NAME room4 99

TIL l7
11100010
11100010
11100010
11100010
11100010
11000010
11000010
01000010
NAME room4 100

TIL l8
00011000
00011000
00110000
00110000
01110001
01110001
01110001
11100010
NAME room4 101

TIL l9
01111100
01011000
10001000
10001000
10001000
00011000
01111000
11111000
NAME room4 102

TIL la
00000101
00000101
00000111
00001111
00001011
00001111
00001101
00001101
NAME room4 103

TIL lb
11000001
01100000
00110000
00011000
10011110
10001111
10001111
11000001
NAME room4 104

TIL lc
10100000
11000000
01000100
01000000
01010000
11111111
11111111
11111011
NAME room4 105

TIL ld
00100000
10100010
00000000
10000000
00001000
11000000
11111000
01111111
NAME room4 106

TIL le
00000000
00001001
01000000
00001101
00000000
10000000
00000000
10000000
NAME room4 107

TIL lf
00100000
00000001
00010001
00100000
00010010
10000001
10011000
00010001
NAME room4 108

TIL lg
00000100
00000000
00100000
00000000
00100101
00000100
00100000
00000000
NAME room4 109

TIL lh
00110100
00000000
00000111
00111111
01111110
11110000
01100000
01100000
NAME room4 110

TIL li
00000000
00011111
11111100
11111111
00000000
10000001
10000000
00000000
NAME room4 111

TIL lj
11111111
11111110
01111111
11001000
00000000
00100000
00010000
00000000
NAME room4 112

TIL lk
10100000
11100111
11111111
11111111
00000111
10000000
00000000
10000001
NAME room4 113

TIL ll
11100111
11011111
10111111
11111111
11111110
01111100
11111010
11110000
NAME room4 114

TIL lm
11100001
11000000
11000001
10000011
00010111
00000111
00001110
01011100
NAME room4 115

TIL ln
11000010
11000111
10000111
10000111
00011111
00011110
00010100
00110000
NAME room4 116

TIL lo
11100010
11001100
00001100
00011101
11111111
00110001
10110110
11100010
NAME room4 117

TIL lp
11110000
11110000
11100000
11111111
11000000
10000000
10000000
10001000
NAME room4 118

TIL lq
00001100
00001100
00011000
11111100
00011000
10011000
00011001
10010000
NAME room4 119

TIL lr
11000001
11100011
01101100
11100000
11001000
01100000
00111000
00000111
NAME room4 120

TIL ls
11111001
00001110
00000001
01000000
00000100
10100000
00000000
10000000
NAME room4 121

TIL lt
11111111
01100000
10110000
01111000
00011100
00001110
00000111
01001011
NAME room4 122

TIL lu
11101110
00111000
00011100
01001110
00000111
00110011
10000000
11000000
NAME room4 123

TIL lv
00000001
00000100
00000000
11111111
11000000
11000010
01110000
00011100
NAME room4 124

TIL lw
00000000
10001000
00000000
10000000
10000100
11000100
01000000
11110000
NAME room4 125

TIL lx
00000000
10000001
00000111
11111110
11111000
10000001
00000011
00000110
NAME room4 126

TIL ly
01111111
11100111
10111111
01100001
11100000
10000000
00000001
00010000
NAME room4 127

TIL lz
00000000
11111111
11111111
11001111
00000000
00000000
00000001
00010111
NAME room4 128

TIL m0
00001111
11111111
11111011
11111110
00001000
00111000
11100000
00000000
NAME room4 129

TIL m1
11000000
10000000
00000000
00000001
00000011
00001111
00011110
01111100
NAME room4 130

TIL m2
00111000
01110000
01100000
11000000
11000000
00000000
01010000
00000001
NAME room4 131

TIL m3
00110000
01110000
01110000
11100010
11100000
11100000
11100000
11001000
NAME room4 132

TIL m4
11100000
11100101
11100000
11100001
11100000
11100010
11110000
11110000
NAME room4 133

TIL m5
11000000
11001010
01100000
10110000
00101100
00101111
00010111
00010011
NAME room4 134

TIL m6
00011000
00010001
00010000
00010100
00001110
00001111
00100111
10000111
NAME room4 135

TIL m7
01000000
10000000
00000000
00000000
00011000
00000000
10000000
10000100
NAME room4 136

TIL m8
11111000
00110110
00011111
00001111
00000101
00010010
00000001
10000000
NAME room4 137

TIL m9
00000011
00000011
00100011
10100010
10000011
11000011
11000011
11100011
NAME room4 138

TIL ma
01110000
00111000
10011100
10000110
10000011
11000001
01010000
01000000
NAME room4 139

TIL mb
00000110
00000011
10000000
00000000
00000100
11000000
11000000
11110000
NAME room4 140

TIL mc
00010000
10001100
11100110
01111111
00011000
00001110
10000011
00000000
NAME room4 141

TIL md
00011100
01110000
11100000
00000000
00000011
01111111
01110001
11000111
NAME room4 142

TIL me
00000000
00000010
00001111
01111110
11111100
11110000
11000010
00000000
NAME room4 143

TIL mf
10011100
01110000
11000000
00000011
00000000
00000001
00000011
00001101
NAME room4 144

TIL mg
00000001
00000011
00001101
00011010
01101100
11111000
01100000
10000000
NAME room4 145

TIL mh
11111100
11011000
00011000
00011000
00111000
00111000
01110001
11100001
NAME room4 146

TIL mi
01000001
01000011
00000011
00000110
00001110
00011100
00111000
01110000
NAME room4 147

TIL mj
11000000
11000000
01001010
01000000
01000000
01100000
00100000
00100000
NAME room4 148

TIL mk
11111010
01011000
01101100
01110100
01011110
11000110
01000011
11000011
NAME room4 149

TIL ml
00011000
00010000
01010000
00010000
00001000
01001000
00001010
10001000
NAME room4 150

TIL mm
11000010
11000010
01100001
01100001
11110001
01110001
00110001
00110100
NAME room4 151

TIL mn
11100000
01111100
00111110
00001111
00001101
00000011
10000001
10000000
NAME room4 152

TIL mo
00000000
00000000
00000100
10000000
11000000
11100010
11100000
11110000
NAME room4 153

TIL mp
11100011
11100001
01110001
01110001
01110001
01110001
01110001
01110001
NAME room4 154

TIL mq
01000000
01000100
11000000
10000000
10000000
10000000
10000100
10100000
NAME room4 155

TIL mr
10111111
10000000
10000001
10000001
10000000
10000111
10000000
10000000
NAME room4 156

TIL ms
00001010
11110000
00001111
10000000
11000000
01100000
00110000
00011100
NAME room4 157

TIL mt
11001110
10011110
10111100
10101000
01111000
01010000
10100000
11100000
NAME room4 158

TIL mu
00001000
00000001
01000011
01000100
10001111
10011110
00111000
11110000
NAME room4 159

TIL mv
00111011
11001110
00111000
11100000
10000000
00000001
00000111
00011110
NAME room4 160

TIL mw
00000001
00000011
00000110
00001100
01111000
11110010
11100000
11000010
NAME room4 161

TIL mx
11000100
00000001
00000011
00000111
00001111
00011111
00111111
00111011
NAME room4 162

TIL my
11000000
10000000
00000011
10000000
10000000
00010101
00000000
00000000
NAME room4 163

TIL mz
00100000
00100000
00100010
00100000
01100001
01000001
11000011
10000110
NAME room4 164

TIL n0
11000001
11000001
11000101
11000011
10000001
10000001
00000011
00000001
NAME room4 165

TIL n1
10001000
10001000
10000100
10100100
10000100
10000100
10010100
10000100
NAME room4 166

TIL n2
00110000
00110000
01110000
00110000
00110010
00110000
00111000
00111000
NAME room4 167

TIL n3
10000000
10001000
10000000
11000000
01000000
01000001
01001001
01000010
NAME room4 168

TIL n4
11110000
01110000
01100000
11000001
11000010
10000111
00000111
00001110
NAME room4 169

TIL n5
01110001
11110001
11100001
01100001
11000001
11001001
00000001
00000001
NAME room4 170

TIL n6
10000010
10000000
10000110
01000000
11100000
01110000
00111000
00011110
NAME room4 171

TIL n7
11000000
11000000
10100010
10010000
10001000
11000110
01110001
00011001
NAME room4 172

TIL n8
00000111
00000000
00001000
00001000
10000010
00000000
00000000
10000011
NAME room4 173

TIL n9
11000001
11000011
10011111
10011110
00011100
00011000
00111000
00110000
NAME room4 174

TIL na
11100000
10000000
00000000
00000001
00000011
10000111
00001100
10011010
NAME room4 175

TIL nb
00111001
01100001
11100011
11000011
10000110
00000110
00001110
00001100
NAME room4 176

TIL nc
10000000
10001000
00000001
00000011
00000111
00000111
00011100
00111100
NAME room4 177

TIL nd
01110011
11111011
11000011
10000011
10000011
00010011
01000011
00001011
NAME room4 178

TIL ne
00000011
00101001
00000011
00000010
01000110
00000100
00000100
00001100
NAME room4 179

TIL nf
10000100
00001000
00001000
01011000
00010000
00010001
00100000
10100000
NAME room4 180

TIL ng
00000001
00000001
00000011
00010011
00000010
00000110
00011100
00011001
NAME room4 181

TIL nh
10000100
10010110
10000100
00000100
00011100
00001000
00001000
00001000
NAME room4 182

TIL ni
00111000
01011000
00011000
00011000
10111000
01111000
01110000
01100000
NAME room4 183

TIL nj
01000110
01000100
01000100
01001100
01001000
00101000
00101000
00101000
NAME room4 184

TIL nk
00011110
00110100
00100100
01110110
01011110
01001111
01000111
01000001
NAME room4 185

TIL nl
00000001
00000000
00101000
00000000
00000000
00000000
11100000
00100000
NAME room4 186

TIL nm
10001111
10000011
11000001
01100000
00110000
00011100
00000111
00000000
NAME room4 187

TIL nn
00001110
01000011
10000000
11000000
01101000
00011000
11001110
01110011
NAME room4 188

TIL no
01000000
11101000
01111000
00011110
00000011
00000000
00001000
11000010
NAME room4 189

TIL np
01110000
01111001
10111000
11111000
11011000
11001000
11001000
11001000
NAME room4 190

TIL nq
00010000
00110000
00110000
00110000
00110101
00110000
01110000
01010100
NAME room4 191

TIL nr
00001100
00001100
00001000
00001001
00001011
00001111
00001111
00001100
NAME room4 192

TIL ns
01111000
11111000
11110000
01100000
11000000
10000000
00000000
00010000
NAME room4 193

TIL nt
00000110
00000110
00001100
01011100
00111001
00110000
00110000
01100001
NAME room4 194

TIL nu
01001000
00001000
00010100
00010000
00110000
00100001
11100010
11001100
NAME room4 195

TIL nv
00100010
01000000
01000000
10000001
10000001
10001011
00000110
00001100
NAME room4 196

TIL nw
10110000
01100000
11000000
11000000
10000100
01010000
00000000
00000001
NAME room4 197

TIL nx
00010000
00010000
00010000
00110000
01100001
00100001
01000011
01000111
NAME room4 198

TIL ny
01100001
01000000
11000000
11000000
10000000
10000000
10000000
00010000
NAME room4 199

TIL nz
00101000
00101000
00101000
00101010
00101000
01101100
01000100
11001100
NAME room4 200

TIL o0
01000000
11000100
00100000
00100000
00100100
00110000
00110000
00111000
NAME room4 201

TIL o1
10010000
01011100
00101101
00011110
00000111
10000001
00000000
00000000
NAME room4 202

TIL o2
00000000
00100000
00000000
00000000
10000001
11100000
01111100
00111111
NAME room4 203

TIL o3
00011000
00000111
00000000
00010000
00000000
00010100
00000000
11111111
NAME room4 204

TIL o4
01110010
11011111
00111111
00000000
00000000
00000000
00111111
11111011
NAME room4 205

TIL o5
10001000
10001100
00001100
00001100
00001100
00001100
01001100
00001100
NAME room4 206

TIL o6
01111000
00101000
00111100
00011100
00001111
00000111
01000111
00001111
NAME room4 207

TIL o7
00011100
00111100
01101100
11001101
11001100
10000100
10000110
11000010
NAME room4 208

TIL o8
00000000
10000001
00000001
00000000
10000000
00000010
00000010
00000000
NAME room4 209

TIL o9
01101001
01001011
01000011
01000110
11000110
11001110
11000100
11001100
NAME room4 210

TIL oa
10011000
10010000
00100000
01000000
01000000
10010000
10000000
10001000
NAME room4 211

TIL ob
00011100
00111000
00110000
01110000
01100100
11100000
11000000
11000000
NAME room4 212

TIL oc
00000000
00000000
00000000
00001001
00100001
00000001
00000011
00000010
NAME room4 213

TIL od
11000110
10001010
10011100
10010100
00101100
00101000
01111000
01010000
NAME room4 214

TIL oe
00000000
00000001
00101011
00000010
00000010
00000110
01000100
00000100
NAME room4 215

TIL of
10000110
10000111
00000011
00000011
00010011
00010011
00000011
10000011
NAME room4 216

TIL og
10011110
10001111
10000100
10000010
10000011
11000001
10000000
11000001
NAME room4 217

TIL oh
00000000
10000000
11101001
11111000
01111110
10110111
01111101
00001111
NAME room4 218

TIL oi
01111100
10111110
00011111
00000111
00000011
00000000
11100000
11111000
NAME room4 219

TIL oj
01111111
00000000
00100000
10000000
11000000
11100000
00111000
00001110
NAME room4 220

TIL ok
11111111
10000000
10000000
00000000
00010010
00100000
00000100
00000000
NAME room4 221

TIL ol
00001100
00001100
10001100
00001100
00001000
00001000
10011000
00010000
NAME room4 222

TIL om
00011100
10011000
00010000
00010000
00110000
00110000
00110000
00110000
NAME room4 223

TIL on
11000011
11100001
01100001
00110000
00011000
00001100
00101100
10000100
NAME room4 224

TIL oo
00000000
10000100
10000010
11000000
01100100
01100100
00100000
00110000
NAME room4 225

TIL op
11001100
11001100
11001100
11001100
11001100
11001100
11101100
11001100
NAME room4 226

TIL oq
10000000
10000001
10001001
10000101
10000001
10001001
10000001
10010000
NAME room4 227

TIL or
10000010
10001000
10100000
10000000
10000000
10100000
10001001
10000010
NAME room4 228

TIL os
00001100
00101000
00010000
00100000
01000001
10000001
00000001
00000001
NAME room4 229

TIL ot
01110000
11100010
11100000
11000000
11000000
11000000
10001000
10000000
NAME room4 230

TIL ou
00000100
00000100
00001000
00001010
00001000
00001000
00001000
00001000
NAME room4 231

TIL ov
00000001
00001000
00010000
00000000
00001000
00000001
00000000
10000000
NAME room4 232

TIL ow
11110100
11111100
11011100
01100110
00010011
00001101
00000111
00000011
NAME room4 233

TIL ox
00000011
00100001
00000000
00000000
00000100
00000100
11110000
11011100
NAME room4 234

TIL oy
01111110
11111001
00111111
00000111
00000011
01000000
00000000
00000000
NAME room4 235

TIL oz
00100111
10000000
11000000
10101011
11110000
11011000
01011100
00101100
NAME room4 236

TIL p0
11111111
01111111
00000000
00000000
00000011
00100001
00000000
00000000
NAME room4 237

TIL p1
00110100
01100000
11000000
10000100
10000000
00100101
00000000
00100000
NAME room4 238

TIL p2
00110000
00110000
00110000
00110000
00110000
00010000
00011000
00011000
NAME room4 239

TIL p3
00100110
00000010
00000010
00000010
10000001
00000001
00000001
00000001
NAME room4 240

TIL p4
00110000
00011000
00011000
00001000
00001000
00001100
00000100
00000100
NAME room4 241

TIL p5
10001110
11001110
11100110
11010110
11100010
01111011
01110001
00110001
NAME room4 242

TIL p6
10000000
10000010
10000000
10000000
11011010
01000000
01100000
10110000
NAME room4 243

TIL p7
11000010
10000010
11000010
11001010
01000010
01000010
01000010
01101010
NAME room4 244

TIL p8
00000001
00000001
00001001
10000001
00100001
00000000
00000010
00001000
NAME room4 245

TIL p9
10000000
10000010
10000000
11000000
11100000
11110000
11111000
00010000
NAME room4 246

TIL pa
00010000
00010000
00010000
00011000
00001110
10000011
00000001
10100001
NAME room4 247

TIL pb
00000000
00000000
10001000
00000000
00000000
00000000
00000100
10000000
NAME room4 248

TIL pc
00000001
00000001
00000000
00001000
00000000
00000000
00010000
00000001
NAME room4 249

TIL pd
11100111
10100001
10100000
11100000
11100000
11101001
11100000
11000000
NAME room4 250

TIL pe
01000010
10000000
11000000
01100001
00100000
00110000
00010001
00010000
NAME room4 251

TIL pf
00011101
00011101
00011100
00001100
00001100
00001100
00111100
00000100
NAME room4 252

TIL pg
00000000
10010000
00000000
00000101
00001010
01100000
00101110
00000000
NAME room4 253

TIL ph
00111100
00001111
00000011
00000000
10000001
11011111
00110000
00000000
NAME room5 1

TIL pi
00000000
00000000
11111111
00111111
11111000
00000000
00000000
00000000
NAME room5 2

TIL pj
00000001
00111111
11100000
11111000
00111110
00001111
00000001
00000000
NAME room5 3

TIL pk
00000100
11111100
00000111
00000100
00000010
10000010
11100010
11111010
NAME room5 4

TIL pl
00000000
00000000
00000000
11000000
00111101
00000011
10000001
10000001
NAME room5 5

TIL pm
01110110
01101100
11101000
11001000
10001000
00010000
11010000
01100000
NAME room5 6

TIL pn
00011111
00111101
00111101
00111010
00110010
01100010
01000010
01000010
NAME room5 7

TIL po
11111001
01110001
01110000
01100000
01100000
01100000
01100000
01100000
NAME room5 8

TIL pp
00011110
10010100
10011100
10101000
10101000
11111000
10010000
10010000
NAME room5 9

TIL pq
00001010
00001010
00001010
00001010
00001010
00001010
00001111
00001111
NAME room5 10

TIL pr
01000000
01000000
01000000
01000101
01011111
01110010
11100010
01000100
NAME room5 11

TIL ps
00011000
00110000
11100000
11000000
11000000
10000000
10000001
10000010
NAME room5 12

TIL pt
00000000
00000011
00000000
00000011
00111100
11000000
10010011
00000000
NAME room5 13

TIL pu
00000001
00000111
00001110
11110000
00000000
00000000
11111111
00000000
NAME room5 14

TIL pv
11111100
00000000
00000000
00000001
11100100
00001000
00100000
00000001
NAME room5 15

TIL pw
00000000
00000100
01000001
00000011
00001111
00011111
00110111
11111111
NAME room5 16

TIL px
11100000
11111000
11111111
11111011
11111011
11111111
11011111
11111111
NAME room5 17

TIL py
00000000
00000000
11111111
11111111
10011011
11111111
11111101
11111111
NAME room5 18

TIL pz
00000000
00000000
11111100
11111111
11111111
11111101
11101000
11111000
NAME room5 19

TIL q0
00011010
00001111
00000111
00000001
10000000
11111000
11111101
00111100
NAME room5 20

TIL q1
00000001
10000001
10000001
10000001
10000001
10000001
10000001
10000001
NAME room5 21

TIL q2
00111000
00100110
01000011
01000111
01001100
01101000
01000000
01000000
NAME room5 22

TIL q3
01000010
01000010
01000010
11000010
11000010
01100010
00110010
00011010
NAME room5 23

TIL q4
01100000
01100000
01100001
01100001
00100001
00100001
00100001
00100001
NAME room5 24

TIL q5
10110000
10100000
10100001
10100001
11000001
11000001
11000001
11000001
NAME room5 25

TIL q6
00111100
11101100
10001100
00001100
00001100
00001100
00011100
00011100
NAME room5 26

TIL q7
01000101
01000101
01000110
01001010
01001010
01001100
01001100
01001100
NAME room5 27

TIL q8
00001100
00111000
01100001
00000010
00000001
00000011
00000111
00011110
NAME room5 28

TIL q9
00100011
00001111
00111111
11111111
11110111
11111111
11111111
11010011
NAME room5 29

TIL qa
00000111
11111111
11111111
11111111
10111101
11111101
10111111
11111111
NAME room5 30

TIL qb
11111111
11111111
11110111
01111111
11111111
11011111
11111111
11111101
NAME room5 31

TIL qc
11111111
11111111
11011111
11110101
01111111
11111111
11111111
11111111
NAME room5 32

TIL qd
11110101
11111111
10111111
11111111
11111100
10111111
11111111
11111111
NAME room5 33

TIL qe
11111011
11111111
11111111
11111111
11111111
11110111
11111111
11111111
NAME room5 34

TIL qf
11111000
11111000
11110000
11010010
11110010
11111111
10111111
10000110
NAME room5 35

TIL qg
00011110
00011110
01111110
00110110
00111110
00111110
00111110
00111110
NAME room5 36

TIL qh
11000001
11000001
11000001
01000001
01100011
01110011
00111011
00100011
NAME room5 37

TIL qi
01000000
01111000
01000111
01000001
01000000
01100000
01100000
01100000
NAME room5 38

TIL qj
01011100
01010100
01010100
11010100
11010100
01110100
00110110
10110010
NAME room5 39

TIL qk
00100001
10100001
00100011
01100010
01000011
11000111
01100101
00100101
NAME room5 40

TIL ql
11000001
10000001
10000000
10000000
00000000
00000000
00000000
00000000
NAME room5 41

TIL qm
00011100
00011100
10011100
10101000
10101000
11101000
01111000
01110001
NAME room5 42

TIL qn
00111000
00111000
00110000
00110000
01110000
01110000
10110000
00110000
NAME room5 43

TIL qo
00011111
00111111
00111110
01111011
01111111
01111111
01111111
01101011
NAME room5 44

TIL qp
11110111
11111111
11110111
11111111
11111111
01100111
11111111
11111111
NAME room5 45

TIL qq
11111111
01111101
11111100
11111111
11011111
11111111
11110111
11111111
NAME room5 46

TIL qr
11111101
11101111
00011111
11011111
11111111
11111101
11111111
10111100
NAME room5 47

TIL qs
10000111
11111111
11111111
11111111
11111111
11111111
01111101
11011111
NAME room5 48

TIL qt
11111111
11111111
11111111
11011101
11011111
11111111
11111111
11111110
NAME room5 49

TIL qu
11111111
10110111
11111111
11111111
11111111
11101111
11110111
11111111
NAME room5 50

TIL qv
11111110
11111110
11111110
01111110
11110110
11111111
11100111
11111101
NAME room5 51

TIL qw
00111010
00111110
00111110
00110110
00111110
10111110
11111110
11111100
NAME room5 52

TIL qx
00010000
00010000
00010000
00010000
00001000
00001000
00001000
00001000
NAME room5 53

TIL qy
01100000
01010000
01010000
01010000
01001000
01001000
01001000
01001000
NAME room5 54

TIL qz
00110010
01010010
00010010
00011010
00011010
00011001
00011001
00011001
NAME room5 55

TIL r0
00100101
00100101
00100101
00100110
00100110
00100110
00100110
00100110
NAME room5 56

TIL r1
00000000
00000000
00000000
00000000
00000001
00000001
00000010
00000010
NAME room5 57

TIL r2
01111111
01100011
01100010
10100110
10100100
01001100
01001000
10001000
NAME room5 58

TIL r3
01011000
01101000
01101100
01100100
11100100
10100100
10100100
10100100
NAME room5 59

TIL r4
01111111
01111111
01111000
01101011
01111111
01111111
01111111
01101111
NAME room5 60

TIL r5
11111010
11111111
00111111
11111100
11111111
11111011
11111111
11011111
NAME room5 61

TIL r6
11111111
11111111
11111111
11101111
11111111
11111111
11111011
01111011
NAME room5 62

TIL r7
11111111
10111111
11111011
11111111
11111111
11110110
11111111
11010111
NAME room5 63

TIL r8
11011111
01011111
11101111
11111111
11111111
11111111
11110011
11111111
NAME room5 64

TIL r9
11111101
10111111
10111111
11111111
11111111
11111111
11111111
11011111
NAME room5 65

TIL ra
11111111
10011111
11011110
11011111
11011111
11001111
10011111
11111100
NAME room5 66

TIL rb
11111111
10111111
11111011
11111111
11101111
11111111
10111111
11111001
NAME room5 67

TIL rc
11111100
01111100
11111100
11101100
11111100
11111100
11111100
11111000
NAME room5 68

TIL rd
00001000
00001000
00001000
00001000
00001000
00001000
00001000
00001000
NAME room5 69

TIL re
01001100
00100100
00100100
00010100
00011100
00001100
00001100
00001010
NAME room5 70

TIL rf
00011001
00011001
00011000
00011000
00011000
00011000
00011000
00011000
NAME room5 71

TIL rg
00101010
10110010
11010110
01010100
01010100
01110100
00110100
00010100
NAME room5 72

TIL rh
00000100
00001101
00001010
00011010
00010100
00111000
00101000
00110000
NAME room5 73

TIL ri
10011001
00010001
00010001
00010010
00110100
00100100
00101000
00101000
NAME room5 74

TIL rj
00100101
01000100
01000100
01001000
01001000
01001000
01001100
01001100
NAME room5 75

TIL rk
01110011
01111111
01111111
11111111
11101111
11111111
11111101
11110111
NAME room5 76

TIL rl
11111011
01111111
11111111
11111111
11110111
11111111
11011110
11111110
NAME room5 77

TIL rm
11111111
11011111
11111111
11011111
11111111
11111101
11111111
11101111
NAME room5 78

TIL rn
11110111
11111111
11111111
11111110
11000001
11111111
11111011
11111011
NAME room5 79

TIL ro
11111111
11111111
11111111
11111111
11011011
11111111
11111111
11111111
NAME room5 80

TIL rp
01011111
11111111
11111110
11111111
11011110
11111111
11111111
11111101
NAME room5 81

TIL rq
11111111
11111111
11111101
11111111
11111001
11111111
11111111
10110111
NAME room5 82

TIL rr
11111101
11111101
11111111
10111111
10111111
10111111
11111010
11111111
NAME room5 83

TIL rs
11111000
11111000
11111000
11111000
11101000
11111000
11111000
11111100
NAME room5 84

TIL rt
00001000
00001000
00011000
00010000
00110000
00010000
00011000
00011000
NAME room5 85

TIL ru
00000110
00000110
00000110
00000110
00000110
00000110
00000110
00000110
NAME room5 86

TIL rv
00011000
00001000
00001000
00001000
00001000
00001100
00001100
00001100
NAME room5 87

TIL rw
00011100
00011100
00011100
00011101
00011001
00011001
00010001
00010001
NAME room5 88

TIL rx
01110000
01000011
10000001
10000000
10000000
00000000
00000001
00000001
NAME room5 89

TIL ry
00110000
01010000
11110000
11100000
10100000
10100000
11100000
01100000
NAME room5 90

TIL rz
01011100
01111000
01011000
10110000
10110000
10110000
10110000
10110000
NAME room5 91

TIL s0
11111111
11111111
11111011
11111111
11111111
11111111
11110111
11110111
NAME room5 92

TIL s1
11111110
11111110
10111111
11111111
11111111
11111111
11111111
01111011
NAME room5 93

TIL s2
11111111
10111110
10111111
10011111
11101111
11111111
11111111
11001111
NAME room5 94

TIL s3
11111101
11111101
01111111
11111111
01111111
11110111
11111111
00111111
NAME room5 95

TIL s4
11111111
11011111
11111011
11111111
11111111
11111111
11111111
11111111
NAME room5 96

TIL s5
11011011
11111111
11111111
11111011
11111011
10010111
11001111
11111111
NAME room5 97

TIL s6
11111111
10110111
01111111
11111111
11111101
10111111
10111111
11111111
NAME room5 98

TIL s7
11111111
10110111
11111111
11111111
11011110
11111111
11111111
11111011
NAME room5 99

TIL s8
11111100
11101100
01111100
11111110
11101110
11111100
11111100
11111100
NAME room5 100

TIL s9
00011100
01110100
01110110
01110011
01010011
01010001
01110001
00100000
NAME room5 101

TIL sa
00000010
00000110
00000100
00000100
10000100
10000100
10010100
11100100
NAME room5 102

TIL sb
00010110
00010111
00000111
00010111
00000111
00000111
00000111
00000110
NAME room5 103

TIL sc
00110011
00110011
10110010
10010010
00010010
00010110
00010010
00011110
NAME room5 104

TIL sd
00000011
00000010
00000010
00001110
00001001
00001001
00001011
00001111
NAME room5 105

TIL se
01000000
01000000
11100000
11100000
10100000
10100000
10000000
00010000
NAME room5 106

TIL sf
10100000
11100000
11100000
11100000
11100000
11100000
01100000
01100000
NAME room5 107

TIL sg
11111111
11111111
11111111
11111111
11111111
11110111
11111111
11111111
NAME room5 108

TIL sh
01111111
11111111
11111111
11101111
11101111
11111111
01111111
11111111
NAME room5 109

TIL si
11111111
11111111
11111111
11111110
11011111
11111100
11101111
11111111
NAME room5 110

TIL sj
11111111
11111111
11001110
11111111
11111111
01111111
11111111
01011111
NAME room5 111

TIL sk
11100001
11111111
11111111
11111111
11001111
11111111
11111111
00111101
NAME room5 112

TIL sl
11111111
11011001
11111101
10111001
01111111
11111111
11111111
11111111
NAME room5 113

TIL sm
10111011
11110111
11111110
11111111
10111111
11110111
11111111
11111111
NAME room5 114

TIL sn
11111111
11101111
11111101
11111111
11111111
11110111
11111111
11111101
NAME room5 115

TIL so
00111100
11111100
01101100
11111100
01111110
11011110
11111110
01111110
NAME room5 116

TIL sp
00100000
00110000
00010000
00010000
00010000
00010000
00011000
00010000
NAME room5 117

TIL sq
10110100
01010100
01010100
01011100
01001110
01001110
01000110
01000110
NAME room5 118

TIL sr
00000110
00000110
00000110
00000110
00000110
00000110
00000100
00000100
NAME room5 119

TIL ss
00011010
00011110
00011010
00011110
00010110
00010110
00010110
00010010
NAME room5 120

TIL st
00001101
00001101
00001101
00000101
00000111
00000110
00000110
00001100
NAME room5 121

TIL su
00000000
00000000
00000000
00010000
00011000
00001000
00001000
00001000
NAME room5 122

TIL sv
01100000
01100000
01100000
01100000
01110000
01110000
01100000
01100000
NAME room5 123

TIL sw
11011111
11111111
11111111
11111111
11111110
11111000
11111011
11111011
NAME room5 124

TIL sx
11101111
11111110
11111111
11111110
11111111
11111010
11111110
11111111
NAME room5 125

TIL sy
11111111
11101111
11111111
11110111
11100111
01111110
01111111
11111111
NAME room5 126

TIL sz
11111101
11111111
01111111
11111111
11111011
11111011
11111011
11111111
NAME room5 127

TIL t0
11111111
11110111
11111111
10111111
10011111
11111111
11111101
10110110
NAME room5 128

TIL t1
11101111
11111111
11111110
10111111
10111111
01110011
01110111
11110111
NAME room5 129

TIL t2
01111011
11111111
11111101
11100111
10111111
11111111
11111111
11111111
NAME room5 130

TIL t3
10111111
11111101
11111110
11110111
11111111
11111111
11101110
11111111
NAME room5 131

TIL t4
11111110
10111110
11111010
11111010
11111110
11011110
11111110
11111110
NAME room5 132

TIL t5
00010000
00010100
00010100
00010100
00010100
00010100
00010100
00010000
NAME room5 133

TIL t6
01000110
01000110
01000110
01000110
01000110
01000110
01000100
01000000
NAME room5 134

TIL t7
00001100
00001100
00001000
00001000
00001000
00001000
00001000
00001000
NAME room5 135

TIL t8
00010010
00010110
00110110
00110110
00110110
00010110
00111010
00111110
NAME room5 136

TIL t9
00001100
00001100
00001100
00001000
00001000
00001000
00001000
00001000
NAME room5 137

TIL ta
00001000
00001000
00001000
00000100
00000100
00000100
00000100
00000100
NAME room5 138

TIL tb
01100000
01100000
01100000
01100000
01000001
01100001
01110001
01011001
NAME room5 139

TIL tc
11111111
10111111
11111111
11111101
01111111
01111111
01111111
01101111
NAME room5 140

TIL td
11111111
11100111
11111111
11111111
11111111
11111110
00111111
11111111
NAME room5 141

TIL te
11110111
11111111
11111111
11111101
11011111
11111111
11111111
11111111
NAME room5 142

TIL tf
11101111
11111111
01111101
01111111
01111111
01111111
01101111
00011110
NAME room5 143

TIL tg
11111111
11111111
11101111
11111111
11111110
11111101
11111111
01111111
NAME room5 144

TIL th
00000001
00001101
01011101
11001001
11011011
10011011
10100101
00011101
NAME room5 145

TIL ti
11111000
10110000
10100101
01100111
10100111
11101100
11001111
01000101
NAME room5 146

TIL tj
01111111
00111111
00111101
00011111
00011111
01111100
11111011
01110000
NAME room5 147

TIL tk
11011110
11111110
11111110
10111110
11111111
01111111
00111111
00011111
NAME room5 148

TIL tl
00011000
00010100
00010000
00011000
00011100
00011100
00011100
00011000
NAME room5 149

TIL tm
01001000
01001000
01001000
01001000
01001000
01011000
01011000
01010010
NAME room5 150

TIL tn
00011000
00011000
00010000
00010000
00011000
00011000
00011000
00011000
NAME room5 151

TIL to
00111010
00110010
00110010
00110110
00110010
00110110
01100010
01100010
NAME room5 152

TIL tp
00001000
00001000
00001000
00001000
00001000
00001000
00001000
00010000
NAME room5 153

TIL tq
00000100
00000100
00000000
00000010
10000010
00000010
00000010
01000001
NAME room5 154

TIL tr
01001001
01001000
01001000
01010000
00110010
00110000
00110010
00110000
NAME room5 155

TIL ts
01111111
01111111
01111111
01111011
01111111
11111111
11101111
11111011
NAME room5 156

TIL tt
11101111
11111110
01111101
11100001
11111111
11110111
11111111
01111111
NAME room5 157

TIL tu
11101011
11111111
11111111
11110111
11111111
11111111
11111111
11111111
NAME room5 158

TIL tv
01111111
11111111
11111110
11111111
11111111
11000011
10011001
10000001
NAME room5 159

TIL tw
11111001
11111111
01011111
10011111
11011111
11011111
11011111
11011011
NAME room5 160

TIL tx
00111111
00110111
01001110
10100110
11010111
11100011
11111000
11111011
NAME room5 161

TIL ty
11000011
11010011
11000001
11101000
10101100
10101110
11101111
11100111
NAME room5 162

TIL tz
11110001
00111001
11111111
11111111
10110101
01111111
00110111
10110000
NAME room5 163

TIL u0
10001111
11001111
11001111
11101111
11101111
01001111
11011011
10011111
NAME room5 164

TIL u1
00011000
00011000
00011000
00011000
10011000
00011000
00011000
00011000
NAME room5 165

TIL u2
01010010
01110010
11100000
11100100
11100100
11101100
11101000
11000000
NAME room5 166

TIL u3
00011000
00011000
00011000
00011000
00011000
00011000
00011001
00011001
NAME room5 167

TIL u4
01100110
11100010
10100010
10100110
11000010
11000110
11000110
11000110
NAME room5 168

TIL u5
00011000
00011000
00011000
00010000
00010000
00010000
00010000
00010000
NAME room5 169

TIL u6
01000001
01000001
01000001
00000001
00000001
00000101
00000001
00000101
NAME room5 170

TIL u7
00110000
00010000
00010000
00010000
00001000
00001100
00001100
00001100
NAME room5 171

TIL u8
11111111
11111111
11111111
11111111
11111111
10110111
11111010
01111111
NAME room5 172

TIL u9
11111111
01111111
11110111
11011111
11111001
11111111
10000111
00110011
NAME room5 173

TIL ua
01000111
10001111
10011101
10011101
10000111
00010111
01001000
11110010
NAME room5 174

TIL ub
00011001
01011111
00111101
00111011
10011111
10011000
01011111
11001111
NAME room5 175

TIL uc
11111000
11110001
10100011
11001000
11011011
00011011
00110110
01110111
NAME room5 176

TIL ud
01111011
00111010
10011000
01100001
00110001
10100011
10100010
10010110
NAME room5 177

TIL ue
00000011
00001001
01000100
11110110
11110111
11110100
00100001
00000111
NAME room5 178

TIL uf
10000110
10011111
11000000
01001100
01000110
00000111
00000111
01010001
NAME room5 179

TIL ug
00010111
00001111
01101011
00101111
00001111
01001111
00101111
10101111
NAME room5 180

TIL uh
00011000
00010000
00010000
00010000
00010000
00011000
00001000
00001000
NAME room5 181

TIL ui
11000000
11001000
11001000
01001000
01001000
01011000
01010000
01010000
NAME room5 182

TIL uj
00011001
00011010
00011000
00011000
00011001
00011001
00011001
00111011
NAME room5 183

TIL uk
11000110
10000110
10000111
10001111
10001011
11011001
11001001
00001001
NAME room5 184

TIL ul
00010000
00010000
00010000
00010000
10010000
01010000
00010000
00010000
NAME room5 185

TIL um
00010101
00010001
00010001
00000000
01000000
00000000
00000000
00000000
NAME room5 186

TIL un
00001010
10001011
10000101
10000101
10000101
10000101
10000101
10000100
NAME room5 187

TIL uo
01111010
01111100
01111100
11111000
11111000
11111000
01111000
11111001
NAME room5 188

TIL up
01111100
10001101
00101100
01100110
01110110
01110100
00110101
11100101
NAME room5 189

TIL uq
00001000
11101100
11101110
01000010
11101010
11001010
11011010
10011010
NAME room5 190

TIL ur
11100110
11100011
01011011
01011001
01011101
01011100
01011110
10111110
NAME room5 191

TIL us
01110011
01000110
01110111
01110101
01010110
01110111
00111011
10111001
NAME room5 192

TIL ut
00110110
10110010
10110010
10110011
10110001
10111001
10110001
00000001
NAME room5 193

TIL uu
10001111
11101010
01101111
01101111
01100100
01110000
01110001
01110011
NAME room5 194

TIL uv
01010111
01010111
01010111
01010110
00010000
11010111
10000000
11001111
NAME room5 195

TIL uw
00101011
10101110
10101110
10101110
00100110
00100110
00000110
00010110
NAME room5 196

TIL ux
00110000
00110000
00110000
00110000
00110000
10110000
11110000
01110000
NAME room5 197

TIL uy
00101011
00101011
00101010
00110010
00110010
00110010
00110110
00110100
NAME room5 198

TIL uz
00001001
00001001
00010001
00010001
00010001
00010001
00010001
00010001
NAME room5 199

TIL v0
00010000
00010000
00110000
00110000
00110000
00110000
01100000
00100000
NAME room5 200

TIL v1
00100000
00100000
00100000
00100000
00100000
00100000
01100000
00100000
NAME room5 201

TIL v2
10000010
10000010
10000010
10000011
10000001
11000001
11000001
11000001
NAME room5 202

TIL v3
11110101
11110101
11110101
11110101
10110001
10111001
10111100
10011101
NAME room5 203

TIL v4
10110101
11001101
11101101
11001101
01011101
11011000
10011010
10110010
NAME room5 204

TIL v5
00010010
11000100
10001000
10011000
01011000
00111000
00111110
01101111
NAME room5 205

TIL v6
00011110
10001110
01100110
00010110
11010010
11011000
11011001
11010001
NAME room5 206

TIL v7
10111101
11011100
11000110
11101111
11010111
11010011
01011001
11010100
NAME room5 207

TIL v8
00010000
01110100
01110100
01010100
01011110
00011110
10011010
10011010
NAME room5 208

TIL v9
01110011
01101010
01101011
01101010
01101010
01101010
01101010
01101010
NAME room5 209

TIL va
11001111
11001111
11001011
10101111
10010111
10010111
01010110
00110110
NAME room5 210

TIL vb
10010110
10010110
01010110
01000110
01000110
00011110
00111100
10111100
NAME room5 211

TIL vc
01010000
01010000
01010000
01010000
01010000
01110000
00110000
00110000
NAME room5 212

TIL vd
01010100
01010100
01010100
01010000
01011000
01011000
01011000
01111000
NAME room5 213

TIL ve
00100001
00100101
00100001
00100001
00111001
00111001
00100001
00110001
NAME room5 214

TIL vf
00100010
00110000
01110001
01010000
01110000
01110000
01110000
01110000
NAME room5 215

TIL vg
00000000
01100000
11100000
11000001
11000001
11000001
11000001
11000001
NAME room5 216

TIL vh
10000001
10000001
11100001
11000001
11000001
11000001
11000001
10000001
NAME room5 217

TIL vi
10011101
10011001
10011011
10011011
10011011
10001101
00001101
00001111
NAME room5 218

TIL vj
10110010
10110010
01110011
01100001
01101011
01101100
01101101
01101101
NAME room5 219

TIL vk
11100111
11101101
01101111
01101110
10101100
10101101
10000011
11000000
NAME room5 220

TIL vl
10010011
10100100
00001111
01011110
10011111
10000011
00111000
01001110
NAME room5 221

TIL vm
11010110
11010110
10010110
11010110
11010110
11110101
11110001
01110011
NAME room5 222

TIL vn
10001110
11001111
11100101
11100011
00110101
11111010
11011011
11111010
NAME room5 223

TIL vo
01101010
01101000
01011001
01011011
01010010
01000110
00000101
00010001
NAME room5 224

TIL vp
10110110
00110100
01110000
01110000
11100000
00000010
00000010
00000010
NAME room5 225

TIL vq
00101100
01111000
11111000
11011000
10110000
11110000
11110000
11100000
NAME room5 226

TIL vr
00001000
00001000
00001000
00001000
00001000
00010000
00010000
00110000
NAME room5 227

TIL vs
00111000
00111000
00110010
00100111
00100001
00100000
00100001
00100001
NAME room5 228

TIL vt
11100000
10100000
11110000
10110000
10110010
10110000
10101000
00100000
NAME room5 229

TIL vu
01110010
11110010
11100010
00100010
00100010
00100100
00100100
00101100
NAME room5 230

TIL vv
01110000
01110000
01010000
01010000
01010000
01010000
01010000
01110000
NAME room5 231

TIL vw
11000001
01000001
01000001
01000001
01000001
00000011
10000010
10000010
NAME room5 232

TIL vx
10000001
10000001
01000001
00000001
00000001
00000001
00000001
00000001
NAME room5 233

TIL vy
10001111
10001111
10001100
11001111
01001111
01000111
01000011
01000011
NAME room5 234

TIL vz
01101000
01101110
01101111
00101111
10110111
10010101
11000110
11000100
NAME room5 235

TIL w0
11100010
01110100
00000001
11000001
10100000
00000101
00000100
10000010
NAME room5 236

TIL w1
11100011
11111000
00000000
11111111
10000000
11111111
11011111
11011011
NAME room5 237

TIL w2
00100110
00000100
01000000
11110010
00000100
11110001
11000111
10011111
NAME room5 238

TIL w3
01011010
10011001
11000011
11101100
01100011
01000111
01100111
01101111
NAME room5 239

TIL w4
01100001
01100101
01101101
01101100
01101100
01100100
01010100
01010100
NAME room5 240

TIL w5
10100100
00001100
01011001
01010001
10001111
00011110
10111010
10111100
NAME room5 241

TIL w6
11100000
11000000
10000000
10000000
00000000
00000000
00000000
00000000
NAME room5 242

TIL w7
00110000
00110000
00110000
01100000
01000000
11000000
10000000
10000000
NAME room5 243

TIL w8
00110001
00110001
00110010
00110010
00110010
00110010
00110010
01100010
NAME room5 244

TIL w9
01100000
01110000
01100000
01100000
01100000
01100000
01111100
01011110
NAME room5 245

TIL wa
01101000
01101000
01110000
00110000
00110000
00110000
00100000
00100000
NAME room5 246

TIL wb
01010001
01010001
01010011
00110111
00111110
00110000
00110000
00110000
NAME room5 247

TIL wc
10000010
00000110
00000100
00000100
00001100
00011100
00111100
01101100
NAME room5 248

TIL wd
00000001
00000001
00000001
00000000
00000000
00000000
00000000
00000000
NAME room5 249

TIL we
01000011
01000011
11000001
10100000
11100000
01100000
00110000
00011000
NAME room5 250

TIL wf
11100001
01110001
11110001
11011000
11111000
01111000
00111000
00111001
NAME room5 251

TIL wg
10001010
00101000
00101100
00101110
10100110
01110011
01101011
11111101
NAME room5 252

TIL wh
11011111
01011010
01011100
00011101
00011001
01001101
10110001
11111000
NAME room5 253

TIL wi
01111100
10100001
10001111
10011110
00110111
01111111
01111101
01110111
NAME room5 254

TIL wj
00100010
00000000
01001000
00000010
00000000
00001000
01000001
00001000
NAME room 6 1

TIL wk
00000010
01000000
00000101
00000000
00000000
00100010
00000000
00000010
NAME room 6 2

TIL wl
00000000
01000010
00000000
00001000
00000000
01000000
00000000
00010100
NAME room 6 3

TIL wm
01000000
00001000
00000000
01000001
00000000
00000000
00110010
00000010
NAME room 6 4

TIL wn
00010000
00000000
01000000
00000000
00001001
01000000
00000000
00010010
NAME room 6 5

TIL wo
00001001
10000000
00001000
00000000
00000000
00101000
00000000
01000010
NAME room 6 6

TIL wp
00000000
00010000
10000000
00000000
00011000
10000000
00000000
00000011
NAME room 6 7

TIL wq
01000001
00000000
00010000
10000000
00000000
00000100
00000000
00000000
NAME room 6 8

TIL wr
00010001
00000000
00000001
00100000
00000000
00000000
00010011
10000000
NAME room 6 9

TIL ws
00000001
00000000
00100000
00000100
00000000
00000000
00000010
01000000
NAME room 6 10

TIL wt
00000010
00100000
00100000
00000010
00000000
00000000
01000000
00000001
NAME room 6 11

TIL wu
00000000
00000010
00000000
00000000
00000000
00001000
00000000
00000000
NAME room 6 12

TIL wv
00000100
00100000
00000001
00000000
00000000
01001000
00000000
00000000
NAME room 6 13

TIL ww
00000000
00000100
01000000
00000000
00000000
00000000
00001000
01000000
NAME room 6 14

TIL wx
00000100
00000000
00000000
01000000
00000100
00000000
01000000
01000000
NAME room 6 15

TIL wy
00000000
00100001
01000000
00001000
01000000
00000000
00001010
00000000
NAME room 6 16

TIL wz
00000001
00000000
00000000
01010000
00000000
00001000
10000000
00000000
NAME room 6 17

TIL x0
00100000
00000000
00000000
10000000
00010000
00000000
01000000
00000000
NAME room 6 18

TIL x1
00000000
00100001
00000000
10001001
00000000
00000000
01000000
00000010
NAME room 6 19

TIL x2
00000000
00010010
01000000
00000000
00000000
10001010
00000000
00000000
NAME room 6 20

TIL x3
00000000
00100000
00000010
01000000
00000000
00010001
00000100
00000001
NAME room 6 21

TIL x4
01000000
00000000
00000000
00010000
00000011
00001110
01111000
11000000
NAME room 6 22

TIL x5
01000000
10000111
00111100
11100001
10000011
00000110
00001101
00011000
NAME room 6 23

TIL x6
10111111
11110000
11000000
10000000
00000000
00000000
11100000
00100000
NAME room 6 24

TIL x7
11111111
00110000
01100000
01100000
00100001
00100001
00100001
00100001
NAME room 6 25

TIL x8
11111100
01100111
11000000
10000000
11111111
00000000
00000000
00000001
NAME room 6 26

TIL x9
00000000
11000000
01110000
00011100
11100111
00111110
00000011
11110000
NAME room 6 27

TIL xa
00000100
10000000
00000000
00000000
00000100
11100000
11111001
00111110
NAME room 6 28

TIL xb
01000100
00000000
00000000
10000000
00000100
00000000
00000000
00000010
NAME room 6 29

TIL xc
00000000
00000000
00000001
10010000
00000000
00000000
00010000
00000000
NAME room 6 30

TIL xd
00000010
00000000
00000000
00100000
00000000
00010100
00000000
10000000
NAME room 6 31

TIL xe
00000000
00000000
10001000
00000001
00000000
10000000
00000001
00001000
NAME room 6 32

TIL xf
10001000
00100000
00000000
00000010
00000000
00000000
01101000
00000000
NAME room 6 33

TIL xg
00000010
00000000
00100000
00001000
00000000
00100001
00000000
00000000
NAME room 6 34

TIL xh
00000000
00000000
00000000
00010010
00000000
00000000
00000001
00000011
NAME room 6 35

TIL xi
00001100
10000000
00001000
00000011
00001110
01111000
11000000
00000000
NAME room 6 36

TIL xj
00000111
10111100
11100000
10000000
00000000
00000000
00000000
00000000
NAME room 6 37

TIL xk
00000000
00000000
00000000
00000001
00000001
00000011
00000110
00000100
NAME room 6 38

TIL xl
00110000
01101111
11011000
10110000
00000000
00000011
00000110
00000100
NAME room 6 39

TIL xm
00010000
11011100
01100100
00110100
00010100
10010100
11111110
10001010
NAME room 6 40

TIL xn
00100001
00100001
00100001
00100001
00100001
00100001
00100001
00100011
NAME room 6 41

TIL xo
01111110
10000000
00000000
00011111
00110100
01100000
11000000
10000010
NAME room 6 42

TIL xp
00001111
00000000
00000000
11111000
00000110
00000001
01000000
01100000
NAME room 6 43

TIL xq
10000011
11110000
00011000
00000111
00000001
11000000
01110000
00001100
NAME room 6 44

TIL xr
10000000
11100000
00111000
00001100
10000110
01100011
00110001
00011000
NAME room 6 45

TIL xs
00000000
00000000
00000010
00000000
00100000
00000010
11000000
01100001
NAME room 6 46

TIL xt
00000000
00000100
00000000
00100001
00000000
00000100
00100000
00000000
NAME room 6 47

TIL xu
00000000
01000000
00000000
00000010
00010000
00000000
00000000
00010000
NAME room 6 48

TIL xv
10100001
00000100
10100000
00000011
00100000
00001000
00000010
10000000
NAME room 6 49

TIL xw
00000000
00010010
00000000
01000000
00010101
01000001
10000001
00010101
NAME room 6 50

TIL xx
00001110
00111000
11100000
10000000
10000000
00000000
00000000
00000000
NAME room 6 51

TIL xy
00001100
00011000
00010000
00010000
00110000
00100001
00100011
00110110
NAME room 6 52

TIL xz
00011100
00010000
00110000
01100000
11000000
10000000
00000000
00000000
NAME room 6 53

TIL y0
10001010
10001010
10001010
10001010
10001010
10001010
10001010
10001010
NAME room 6 54

TIL y1
00100010
00100010
01000010
01000010
01000010
01100010
00100010
00100010
NAME room 6 55

TIL y2
10000010
10000110
10000100
11000100
01001100
01001000
01000000
01000000
NAME room 6 56

TIL y3
01100000
11100000
10100000
10110000
10010000
11010000
11010000
10011000
NAME room 6 57

TIL y4
00000110
11000001
11000000
11100000
10111000
10001100
11000100
01100100
NAME room 6 58

TIL y5
00001100
10000010
11110001
00011100
00000111
00000001
01100000
00100000
NAME room 6 59

TIL y6
00110000
00011000
00001100
11000111
01100001
11110000
01101100
00111100
NAME room 6 60

TIL y7
00000001
00000000
00010000
00000000
10001000
10000000
01000001
01001000
NAME room 6 61

TIL y8
00000010
00000000
00000000
00010000
01000100
00000000
00000000
00011000
NAME room 6 62

TIL y9
00101100
00000000
00100000
00001000
00000000
01000010
00000001
10010000
NAME room 6 63

TIL ya
00000001
01000001
00010010
10000100
00000000
00100100
00100000
00000000
NAME room 6 64

TIL yb
00000000
10000000
10000000
11000000
01111001
10001111
00000000
00101101
NAME room 6 65

TIL yc
00000000
00000001
00111110
11100000
10000000
11111000
00001111
00000001
NAME room 6 66

TIL yd
00011111
11100000
00000000
00001000
00001111
00000001
00000000
11100000
NAME room 6 67

TIL ye
11111100
00111000
00001110
00000011
00000000
11000000
00111111
00000000
NAME room 6 68

TIL yf
00000000
00000000
00000001
10000001
01111111
00000010
11111010
00000010
NAME room 6 69

TIL yg
10001010
10001010
10001010
00001010
00001010
00001010
00001010
00001010
NAME room 6 70

TIL yh
00100010
01100010
01100111
01010001
01010001
01010001
01011001
11001001
NAME room 6 71

TIL yi
01000001
01100011
00100010
00100000
00100000
00100000
00110000
00010000
NAME room 6 72

TIL yj
10001000
00001100
00000100
00000000
00000000
00000000
00000000
00000000
NAME room 6 73

TIL yk
01100000
01000000
00000000
00000000
00000000
00000000
00000000
00111111
NAME room 6 74

TIL yl
00000000
00000000
00000000
00000000
00000000
00000000
01111111
11000000
NAME room 6 75

TIL ym
00001011
00000101
00000101
00000111
00000111
00111100
11100000
00000001
NAME room 6 76

TIL yn
01000000
11000000
11000010
11000000
00000000
00000100
00000000
00100000
NAME room 6 77

TIL yo
00000000
00000000
00000010
00001000
00000000
01000000
00000010
00000000
NAME room 6 78

TIL yp
00000000
00000101
00100000
10000100
00010000
00000000
00100010
10000000
NAME room 6 79

TIL yq
00000011
00010000
10000000
00010001
00000000
10010000
00000100
00000000
NAME room 6 80

TIL yr
00000000
00000010
00110000
00000000
00000001
00000000
01000000
00011110
NAME room 6 81

TIL ys
10000000
00010100
00000000
00010000
00100100
00000000
00100000
10000101
NAME room 6 82

TIL yt
00111111
00000001
10001001
00000000
10010000
00000100
01000101
00010000
NAME room 6 83

TIL yu
00000000
11111111
00000010
01010000
00000010
10000000
00010000
00000011
NAME room 6 84

TIL yv
00000010
11100110
00111100
01001100
00001100
01000100
00010100
00000100
NAME room 6 85

TIL yw
00001010
00011010
00010010
00010010
00010010
00010010
00010010
00010010
NAME room 6 86

TIL yx
10001001
10001001
10001001
10001001
10001001
10001001
10001001
10001001
NAME room 6 87

TIL yy
00010000
00010000
00010001
00001111
00011001
00010100
00010000
00010000
NAME room 6 88

TIL yz
00000001
00111111
11100000
00010010
00000000
00001000
10000010
00000000
NAME room 6 89

TIL z0
11100000
00000000
00000100
00000000
00001000
01000000
00000000
00000010
NAME room 6 90

TIL z1
00000010
00010000
00000000
10000010
00010000
00000000
00000000
01000100
NAME room 6 91

TIL z2
01000000
00000100
00000000
01001000
00000000
00000000
00001000
10000000
NAME room 6 92

TIL z3
00000000
01000000
00000100
00000000
01000000
00001000
00000000
00000001
NAME room 6 93

TIL z4
10100000
00000000
00000100
01000000
00000000
00000010
00001000
00000000
NAME room 6 94

TIL z5
00011111
00001001
10011001
01010110
00011100
10011000
00110001
01101000
NAME room 6 95

TIL z6
00100010
00000000
00010000
00000000
10101111
01001101
10000111
00000000
NAME room 6 96

TIL z7
00010010
00010010
00011110
00110110
00100000
11100001
00100000
00100000
NAME room 6 97

TIL z8
00100000
01000100
00000001
00001100
00100000
00000000
00000100
00000000
NAME room 6 98

TIL z9
00000000
00100010
00001100
00000000
00000000
00000001
10001000
00100000
NAME room 6 99

TIL za
00100001
00001000
00000010
01001000
00000000
00000000
00001000
00000000
NAME room 6 100

TIL zb
00010100
01000100
00001100
00001000
10001000
00001000
00001000
01001000
NAME room 6 101

TIL zc
00010010
00100010
00100010
00100010
00100110
00100100
00100100
00100100
NAME room 6 102

TIL zd
10001001
10001001
10001001
10001001
10001001
10010001
10010001
10010001
NAME room 6 103

TIL ze
00110010
00100000
00100000
00100010
00100000
00101000
00100010
00100000
NAME room 6 104

TIL zf
00000100
00100000
00000100
00000000
00100000
00100100
00000000
00000000
NAME room 6 105

TIL zg
10001000
00100000
10000000
10001000
00000000
00001000
00000001
00000000
NAME room 6 106

TIL zh
00000000
00000100
01000000
00000000
00000000
00000000
00001000
00000000
NAME room 6 107

TIL zi
00000001
00000000
00010000
00000000
00000000
10000100
00000000
00000000
NAME room 6 108

TIL zj
00010000
00000010
00000000
00000000
10000100
00000000
00001000
00000000
NAME room 6 109

TIL zk
00000000
01000000
00000000
00000100
00000000
01000100
10000010
00000010
NAME room 6 110

TIL zl
00100001
00100000
00101000
10100001
10100011
10100110
11100100
11000111
NAME room 6 111

TIL zm
00100000
00000100
00000000
11000111
01000110
01000011
11000000
10000000
NAME room 6 112

TIL zn
00100010
10100000
00100000
11000000
01001111
11001000
11001001
01001111
NAME room 6 113

TIL zo
10010000
00000000
00000001
00001000
10000010
10000000
10000000
00010000
NAME room 6 114

TIL zp
00000000
00000000
00001100
00001001
10000000
00000100
00000000
00000100
NAME room 6 115

TIL zq
00000000
10010000
00000000
00100000
00000100
00000000
00000000
01110010
NAME room 6 116

TIL zr
00001000
10001000
00001000
00011000
10010000
00010000
00010000
00010000
NAME room 6 117

TIL zs
00100100
00101100
00101000
00101000
01111000
01010000
01010000
10010000
NAME room 6 118

TIL zt
11010001
01010001
01110001
00110001
00100001
00100010
00100010
00100010
NAME room 6 119

TIL zu
00101000
01100000
01001000
01000000
01000100
01000000
11000000
11000100
NAME room 6 120

TIL zv
01000000
00001000
10000001
00000100
00000000
00000000
10001000
00000001
NAME room 6 121

TIL zw
01000000
00000100
10000000
00000000
10010000
00000000
00000100
00000000
NAME room 6 122

TIL zx
00000000
00100100
00000000
10000000
00000100
00000000
10000000
00000100
NAME room 6 123

TIL zy
00000001
00010000
00000000
00000010
00000000
01000000
00000000
00000010
NAME room 6 124

TIL zz
01100000
00000010
00100000
10000000
00000000
00100000
00000100
00000000
NAME room 6 125

TIL 10a
11000000
11100010
10100000
10100000
10101000
11000100
11000000
11000000
NAME room 6 136

TIL 10b
00000000
00000110
00000000
10001111
00111001
01101100
01000111
11000000
NAME room 6 137

TIL 10c
00010000
00000000
00000000
00100011
10000000
10000100
10000000
00000000
NAME room 6 138

TIL 10d
00000000
00100000
00000000
00000100
00000000
01000001
00000000
00000000
NAME room 6 139

TIL 10e
01000000
00000000
00000000
00100000
00000000
00100100
00000000
00000000
NAME room 6 140

TIL 10f
00000000
00000000
10000100
00000000
00000000
00010001
00000000
00000000
NAME room 6 141

TIL 10g
00000000
01000010
00000000
00100000
00000000
00001100
01000000
00000000
NAME room 6 142

TIL 10h
00000010
01000011
00111101
00100100
10111100
00111000
00111000
00101100
NAME room 6 143

TIL 10i
00111000
00110000
01100000
11000011
10000111
10000101
10001011
00011010
NAME room 6 144

TIL 10j
00010001
00010001
00110001
10100011
10100010
00010010
00000111
01000101
NAME room 6 145

TIL 10k
00100010
00110110
10000110
10000011
10000011
10000011
10000101
00000101
NAME room 6 146

TIL 10l
01000000
00011111
00110010
10111110
10000000
10000000
10000100
11000100
NAME room 6 147

TIL 10m
11000000
01000000
11100001
01110001
00110001
00110011
00110010
00100010
NAME room 6 148

TIL 10n
10000010
10000010
10000010
00000010
00000110
00000100
00000100
00001000
NAME room 6 149

TIL 10o
00100000
00100000
00100000
01100000
01000000
01000000
01000001
01000001
NAME room 6 150

TIL 10p
11011000
10010000
10110000
10100000
10100001
10100001
01000001
01000001
NAME room 6 151

TIL 10q
11000000
11100000
10100001
10100001
10100011
00100010
00100010
00100010
NAME room 6 152

TIL 10r
10000001
10010000
00000000
00011011
00111111
01001101
01001100
01001110
NAME room 6 153

TIL 10s
00000010
00010000
00000001
10000000
11000000
11100001
10100100
10100000
NAME room 6 154

TIL 10t
00000001
00001000
00000000
00010000
01000000
11110000
10010000
10010000
NAME room 6 155

TIL 10u
00000000
00000000
00010000
10000000
00000000
00010000
10000000
00000110
NAME room 6 156

TIL 10v
00100100
00000000
10000000
00000011
00000111
00000101
00001011
00011010
NAME room 6 157

TIL 10w
00000000
00010010
00000000
00000000
00010000
00101001
00000000
00000001
NAME room 6 158

TIL 10x
10100100
00010110
00010010
10011010
00101011
00001101
00000101
10000111
NAME room 6 159

TIL 10y
00010110
00010100
00010100
00010100
00010100
00010110
00011010
00001011
NAME room 6 160

TIL 10z
00000101
00000101
01001001
00001001
00001001
01001001
00001001
00001000
NAME room 6 161

TIL 11a
10000110
10000110
10001110
01001010
01001010
01001010
01001010
01001010
NAME room 6 172

TIL 11b
00010010
00010110
00100100
00100100
00101100
00101000
00101000
00101000
NAME room 6 173

TIL 11c
00001000
00011000
00011000
10111000
00111000
00110001
01110001
01010001
NAME room 6 174

TIL 11d
11110011
11000010
11011011
11100001
10100101
10110000
10010000
10011000
NAME room 6 175

TIL 11e
10001101
10000100
10000100
01000010
01000010
11000010
11100010
10100010
NAME room 6 176

TIL 11f
10001100
10000100
10000100
11000100
01000100
01001100
01001000
11001000
NAME room 6 177

TIL 11g
10000100
11000101
01000110
01000100
01001000
01001000
01001010
11001000
NAME room 6 178

TIL 11h
01000101
01000101
11000101
10000101
10000101
10000101
10000111
10000111
NAME room 6 179

TIL 11i
00010000
00110000
00100000
01100000
01000000
01000000
11000001
10000001
NAME room 6 180

TIL 11j
01000010
01000110
01000100
11001100
10001000
10010000
10110001
00100001
NAME room 6 181

TIL 11k
00011010
00010010
00110100
01110100
11100100
11100100
11100100
11001100
NAME room 6 182

TIL 11l
00000100
00000100
00001000
00001000
00010000
00010000
00010000
00100000
NAME room 6 183

TIL 11m
01000011
01000001
01000111
01000100
01001100
01001001
01001001
01010010
NAME room 6 184

TIL 11n
00101001
00101001
01001001
11010001
10010011
10010011
00010110
00001110
NAME room 6 185

TIL 11o
10110011
10100010
11100010
01000110
11000100
10001001
10001000
10010000
NAME room 6 186

TIL 11p
00100010
00100010
00100110
00100100
00100100
00100100
00101000
00101000
NAME room 6 187

TIL 11q
01001010
01001010
01001011
01001001
01010001
01010001
01010001
01010001
NAME room 6 188

TIL 11r
00101000
00101000
00101000
00101000
00101000
00101100
00100101
00100101
NAME room 6 189

TIL 11s
01010001
01010010
01010010
10010010
10010110
10010100
10010100
00010100
NAME room 6 190

TIL 11t
11001000
01101000
00111100
01001001
00101001
00000001
01100000
00000001
NAME room 6 191

TIL 11u
01100010
01000010
01000000
01001000
01000000
00000100
00000100
01000100
NAME room 6 192

TIL 11v
10001000
10011000
11110000
00000000
00000011
00001011
00001001
00000000
NAME room 6 193

TIL 11w
01111000
00110000
00000010
01010000
01010000
00000011
00000110
00001100
NAME room 6 194

TIL 11x
11111111
00000001
01000011
00000010
00000010
11000011
00000000
00011100
NAME room 6 195

TIL 11y
00000011
00000110
00000100
00001100
00011000
10110001
11100011
01111110
NAME room 6 196

TIL 11z
01100001
01000011
01000111
11000110
10001110
10011100
00011000
01110000
NAME room 6 197

TIL 12a
00000100
00000000
00000000
00000000
00000001
00011110
11110000
10000000
NAME room 6 208

TIL 12b
00000000
00000000
00000001
00111111
11100000
00000000
00000000
00000001
NAME room 6 209

TIL 12c
00011000
00110000
11000001
00000011
00001100
00111000
11100001
10000011
NAME room 6 210

TIL 12d
00110000
01100011
10011110
00110000
00100000
01000000
10000001
00000011
NAME room 6 211

TIL 12e
00000111
10000001
00000000
00011110
01110001
11000011
10000110
00001100
NAME room 6 212

TIL 12f
01100000
11110000
00011110
00000011
11110000
00000000
00000111
00011100
NAME room 6 213

TIL 12g
10001100
00110000
00100000
11111001
00001111
00000000
10000000
10001000
NAME room 6 214

TIL 12h
00001000
00011000
01110000
11000000
00000000
00010000
00011110
01000011
NAME room 6 215

TIL 12i
00000000
00000000
10100000
00000000
00000000
00000000
00000000
00000000
NAME room 6 216

TIL 12j
00100100
00000000
01001000
00000000
00000000
00000001
01000101
01000000
NAME room 6 217

TIL 12k
10100001
00000000
00000100
00000100
00000000
00000000
00010000
00010000
NAME room 6 218

TIL 12l
00010000
00000000
00000000
01000000
00000100
00000100
01000000
01000000
NAME room 6 219

TIL 12m
10100101
00100100
00000000
00000000
00100100
00000100
00000000
00000000
NAME room 6 220

TIL 12n
00000011
00000000
00000000
00010000
00010000
00000000
00000000
00000000
NAME room 6 221

TIL 12o
00000000
00000000
00000000
00000000
00000000
00000001
00000011
00001100
NAME room 6 222

TIL 12p
00000011
00001100
00011000
01110000
11000000
10000000
00000000
00000000
NAME room 6 223

TIL 12q
00000010
00000110
00001100
00011000
00010000
00010000
00010000
00110000
NAME room 6 224

TIL 12r
00000010
00000010
00000100
00000100
00000100
00000100
00000100
00000100
NAME room 6 225

TIL 12s
00011000
00110000
00100000
00100000
00100000
00100000
00110000
00110000
NAME room 6 226

TIL 12t
00110000
01100000
01000000
01000000
01100000
00010000
00011000
00001100
NAME room 6 227

TIL 12u
00111000
01100001
01000011
01000010
01000011
01100001
00100000
00110000
NAME room 6 228

TIL 12v
11000011
10000110
00001100
00001000
00001100
10000110
11000011
01100000
NAME room 6 229

TIL 12w
10000000
11000000
01100000
00110000
00011000
00001110
10000011
11000000
NAME room 6 230

TIL 12x
00000000
00000000
00000000
00000000
00000000
00000000
10000000
11100000
NAME room 6 231

TIL 12y
00000000
00000000
00000000
00000000
00000100
00000100
00000000
00000000
NAME room 6 232

TIL 12z
01000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 6 233

TIL 13a
01100000
00110000
00011100
00000110
00000001
00000000
00000000
10000000
NAME room 6 244

TIL 13b
00011110
00000011
00000000
00000000
10000000
11110000
00011100
00000110
NAME room 6 245

TIL 13c
00000000
11110000
00011100
00000011
00000000
00000000
00000000
00000000
NAME room 6 246

TIL 13d
00000000
00000000
00000000
10000000
01110000
00011111
00000000
00000000
NAME room 6 247

TIL 13e
00000000
00000000
00000001
00000000
00000000
11000000
01111111
00000001
NAME room 6 248

TIL 13f
00000111
00000011
11111111
00000011
00001110
00000000
00000000
10000000
NAME room 6 249

TIL 13g
00000000
10000000
11000000
11000000
00000000
00000000
00000000
00000000
NAME room 6 250

TIL 13h
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00011111
NAME room 7 1

TIL 13i
00000000
00000000
00000000
00000000
00000000
00000110
01111111
10001001
NAME room 7 2

TIL 13j
00000000
00000000
00000000
00000000
00000000
00000000
11111111
00000010
NAME room 7 3

TIL 13k
00000000
00000000
00000000
00000000
00000000
00000000
01000000
11111100
NAME room 7 4

TIL 13l
00000000
00000000
00000000
00000000
00000011
00001100
00110000
01000000
NAME room 7 5

TIL 13m
00000000
00000111
00111001
11010010
00110110
01101100
11011010
10110100
NAME room 7 6

TIL 13n
11111010
00010010
00000000
00000110
01101010
01101110
00001100
00100000
NAME room 7 7

TIL 13o
00000001
00100000
00110000
00111001
00101000
00110101
01110101
01110100
NAME room 7 8

TIL 13p
10001010
10000011
01110011
00011101
00010101
11010101
10000101
00001101
NAME room 7 9

TIL 13q
01000011
01100000
00111000
00001110
11000011
01111001
00001100
00100100
NAME room 7 10

TIL 13r
10000000
01110000
00111110
01101101
01001000
11011000
11010000
01010001
NAME room 7 11

TIL 13s
00000000
00000000
00000000
10000000
01100000
00111000
10010110
00001001
NAME room 7 12

TIL 13t
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000001
NAME room 7 13

TIL 13u
00000001
00000010
00000100
00011101
00100100
01001000
10011001
00010101
NAME room 7 14

TIL 13v
11010001
01010001
01011011
01100010
00100101
00101011
10010010
00010111
NAME room 7 15

TIL 13w
10100001
01100000
11001010
10000000
10100100
00010001
00001111
11111000
NAME room 7 16

TIL 13x
00000000
01100001
00000011
00111110
01100000
11000000
00011111
01110000
NAME room 7 17

TIL 13y
11010110
10011010
00001011
00001001
00101101
01100100
11100110
00000010
NAME room 7 18

TIL 13z
01001001
00001001
00001100
01000100
10000100
11100110
00111110
00000111
NAME room 7 19

TIL 14a
00000011
10001001
01000000
10100000
00110000
00110011
00000000
11010010
NAME room 7 30

TIL 14b
00000001
10000000
11000000
00110000
00011111
00000001
01001000
01000010
NAME room 7 31

TIL 14c
00100000
00101010
00110000
00010000
00010101
10001100
10000111
11000011
NAME room 7 32

TIL 14d
11010001
01011000
01001001
01001001
01001000
01001000
01001100
00100100
NAME room 7 33

TIL 14e
11100000
00110000
10011000
10001100
00000100
01000010
00001001
10001101
NAME room 7 34

TIL 14f
00110100
00010001
00010000
00011010
00001000
00001010
00001000
10000100
NAME room 7 35

TIL 14g
00100000
00010000
01001000
01000100
00111110
00100011
00100001
00110001
NAME room 7 36

TIL 14h
00000000
00000000
00000000
00000000
00000000
00000000
00000000
10000000
NAME room 7 37

TIL 14i
00000000
00000001
00000010
00000010
00000100
00000110
00001001
00001001
NAME room 7 38

TIL 14j
10101100
00000100
11000100
01100100
00100100
00110100
00010100
10011100
NAME room 7 39

TIL 14k
10110111
10000010
10110010
10000110
10100100
10010100
10000101
10000111
NAME room 7 40

TIL 14l
00100000
00100100
01100000
01111111
11000000
10000011
00111111
00100000
NAME room 7 41

TIL 14m
00000100
10011011
01110110
11011000
01110000
10000000
00100100
00000000
NAME room 7 42

TIL 14n
11000000
00000110
00000111
10100011
00100000
11100000
00000101
00101000
NAME room 7 43

TIL 14o
00000000
01000010
00000100
00010000
00000000
00001001
00001000
00010000
NAME room 7 44

TIL 14p
00010000
11100111
11000011
11000000
00010010
00000010
11010100
00000100
NAME room 7 45

TIL 14q
01100001
00110001
01011000
00001000
00001000
01001100
00010100
10011110
NAME room 7 46

TIL 14r
00100110
11100110
11000110
11000011
00000111
00001100
00001010
00001100
NAME room 7 47

TIL 14s
00001100
01001100
11000000
10000000
10001100
00001100
00100000
00000100
NAME room 7 48

TIL 14t
10000100
10000100
10000100
10000110
10000011
10000001
10000000
10000000
NAME room 7 49

TIL 14u
00010001
01010001
00010001
01010011
00010010
10010010
11110110
00110100
NAME room 7 50

TIL 14v
10000000
01000000
00100000
00100000
00010000
10110000
00111000
00011000
NAME room 7 51

TIL 14w
00010001
00010000
00100101
00100000
00101010
01100100
01110010
01010000
NAME room 7 52

TIL 14x
11001100
01001100
01001100
01001100
01000000
11000000
01000000
01100001
NAME room 7 53

TIL 14y
10001110
10001110
10001100
10001101
10010111
10011110
10111111
10101100
NAME room 7 54

TIL 14z
01101010
01000000
10010010
10000100
00101000
00000000
01000000
00101010
NAME room 7 55

TIL 15a
01100001
01100001
11100001
01000000
01000000
01000000
11000000
10000000
NAME room 7 66

TIL 15b
01101001
11011000
10011000
00010010
00110000
00100001
00100000
00100000
NAME room 7 67

TIL 15c
00000000
01100001
00001000
00000000
01000000
00001000
00000000
00000000
NAME room 7 68

TIL 15d
10000000
00010000
00000000
00000000
00000000
00010000
00000000
00000000
NAME room 7 69

TIL 15e
00100010
00000000
00000000
00000000
00000100
00000000
00000000
00000000
NAME room 7 70

TIL 15f
00000000
10001001
00000000
00001010
00100000
00000000
00000010
00000000
NAME room 7 71

TIL 15g
11000000
00110000
00011000
01001000
10101000
00001000
00101000
00001000
NAME room 7 72

TIL 15h
00000001
00000001
00000001
00000001
00000001
00000001
00000001
00000001
NAME room 7 73

TIL 15i
10010000
00000001
00100011
00010110
00001100
00111000
00100000
01100000
NAME room 7 74

TIL 15j
11000000
10000000
00000000
00000001
00000110
00001100
00111000
01100010
NAME room 7 75

TIL 15k
10000000
10000000
10000000
11000000
01000000
01000000
11000000
01000000
NAME room 7 76

TIL 15l
00000001
00000010
00000010
00000010
00000010
00000010
00000010
00000010
NAME room 7 77

TIL 15m
10001010
10100000
00000010
00011000
10000001
00000001
00000001
00000001
NAME room 7 78

TIL 15n
10000000
10000000
10000000
10000000
10000000
00000000
00000000
00000000
NAME room 7 79

TIL 15o
01100000
01000000
01000000
01000000
11000000
10000000
10000000
10000000
NAME room 7 80

TIL 15p
11000000
00000001
00000001
00000011
00000010
00000110
00001100
00011000
NAME room 7 81

TIL 15q
11000011
10001011
01000000
00010100
01000100
00000000
10010001
00000000
NAME room 7 82

TIL 15r
01000000
00100000
00100000
10100000
00100000
00100000
00100000
00100000
NAME room 7 83

TIL 15s
00000010
00000010
00000010
00000010
00000010
00000010
00000010
00000011
NAME room 7 84

TIL 15t
00000011
00000010
00000010
00000010
00000010
10010010
00010110
11111111
NAME room 7 85

TIL 15u
10000000
10000000
10000000
10000000
11000000
01000000
01000010
01000000
NAME room 7 86

TIL 15v
00000000
00000000
00000000
00000000
00000000
00000000
01000000
00000010
NAME room 7 87

TIL 15w
00000000
00000000
00000000
00000000
00000000
10000000
00000000
00010000
NAME room 7 88

TIL 15x
00000000
00000000
00000000
00000000
00000000
00000000
00001111
00011000
NAME room 7 89

TIL 15y
00000000
00000000
00000000
00000000
00000000
00000000
11100000
00110000
NAME room 7 90

TIL 15z
00001000
00001000
00010000
00010000
00010000
00010000
00100000
00100000
NAME room 7 91

TIL 16a
00000000
00000010
00000100
00001011
11001110
01111000
11000000
00000000
NAME room 7 102

TIL 16b
00000000
00101110
00001110
11100100
00111111
00011100
00110000
00100000
NAME room 7 103

TIL 16c
10100000
00100000
01100000
11000000
10000000
00000000
00000000
00000000
NAME room 7 104

TIL 16d
00100000
00100000
00110000
00011111
00000001
00000000
00000000
00000000
NAME room 7 105

TIL 16e
00000000
00000000
00001100
01000101
11100100
01111101
00001100
00000111
NAME room 7 106

TIL 16f
01000000
11000000
01000000
01000000
01000000
01000000
10000000
10000000
NAME room 7 107

TIL 16g
10000000
01100000
01111111
01110001
00100001
00100001
00100011
00010111
NAME room 7 108

TIL 16h
00000000
00000011
00001111
00011111
00110111
11111111
11011011
00011001
NAME room 7 109

TIL 16i
00000010
10000011
11110000
11111100
11110111
00111001
00011110
10011011
NAME room 7 110

TIL 16j
00000000
11111000
00001100
00011100
11110000
11111000
00011110
00001111
NAME room 7 111

TIL 16k
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00000110
NAME room 7 112

TIL 16l
00000011
00000111
00001101
00011101
00111100
11111100
10110100
00100100
NAME room 7 113

TIL 16m
00000000
00000000
00000000
10000000
11000000
01110000
01011111
01100000
NAME room 7 114

TIL 16n
00000000
00000000
00000000
00000000
00000000
00000000
10000000
11000000
NAME room 7 115

TIL 16o
01100000
01000111
11011100
11111000
00010000
00100000
00100000
00100000
NAME room 7 116

TIL 16p
00000000
11100000
00100001
01100001
01000011
01000110
01101111
01111100
NAME room 7 117

TIL 16q
00000000
11100000
10111000
01101100
11001100
11001110
11000111
11000111
NAME room 7 118

TIL 16r
00111000
00101111
00110001
00011001
00001100
00000100
10000100
11000100
NAME room 7 119

TIL 16s
00000001
00000011
11110111
10011001
10000010
10000010
10000010
10000100
NAME room 7 120

TIL 16t
11000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 121

TIL 16u
00011100
00001000
00001000
00000100
00000100
00000010
00000010
00000001
NAME room 7 122

TIL 16v
00011001
00011000
00001000
00011000
00011000
00011000
01110000
01110000
NAME room 7 123

TIL 16w
11001111
11000001
11100000
01100000
01110000
01111100
01111110
11111111
NAME room 7 124

TIL 16x
10000111
11000011
01110001
00111100
00011110
00000111
00000001
00000000
NAME room 7 125

TIL 16y
00000000
10000001
10000001
11000010
01000110
00000100
11111110
01000011
NAME room 7 126

TIL 16z
00011100
11111000
00011000
00110000
00100000
11100000
00100001
00100011
NAME room 7 127

TIL 17a
10000000
11100000
01110000
00011100
00001110
00000010
10000010
11000011
NAME room 7 138

TIL 17b
01000001
01110000
00011100
00000110
00000011
00000000
00000000
00000000
NAME room 7 139

TIL 17c
10100010
00100110
00100100
01111100
11000000
01000000
01110000
10011000
NAME room 7 140

TIL 17d
00001111
00011001
00010001
00010000
00010000
00010001
00010011
01111001
NAME room 7 141

TIL 17e
00001000
00001100
10000100
10000100
10000101
10000001
11000011
01000011
NAME room 7 142

TIL 17f
00000111
00111111
11100000
10000001
00000010
00001100
11111000
10001000
NAME room 7 143

TIL 17g
00000010
00000110
10001110
11110110
10000100
10001000
10011000
10100000
NAME room 7 144

TIL 17h
00100011
00100011
00100011
00100011
00100000
00100000
00110000
01110000
NAME room 7 145

TIL 17i
00110000
00011000
00001101
10000111
11000011
01000011
01000100
01000100
NAME room 7 146

TIL 17j
10011000
10001100
10000001
00000010
00000100
10000100
10001000
11010000
NAME room 7 147

TIL 17k
10000000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 148

TIL 17l
00000010
00000011
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 149

TIL 17m
10001001
00001000
10001000
01001000
00101000
00011000
00000100
00000010
NAME room 7 150

TIL 17n
11000001
11000001
11100000
01100000
01100000
00110111
00111000
00001100
NAME room 7 151

TIL 17o
11100001
11111111
00001110
00000000
00000000
11100000
00111110
00000011
NAME room 7 152

TIL 17p
00001111
11100000
00110000
00001110
00000001
00000000
11110000
00001111
NAME room 7 153

TIL 17q
11000001
00000001
00000001
00000001
11000011
00111110
00000000
11000000
NAME room 7 154

TIL 17r
00000111
00111100
01110000
11100000
00100111
00111100
01010000
01100000
NAME room 7 155

TIL 17s
00001000
00001000
00111000
01110000
10000000
00000001
00000011
00000110
NAME room 7 156

TIL 17t
10100001
10100001
10100001
10100010
10100110
10100100
00100100
01111100
NAME room 7 157

TIL 17u
10011000
11001100
00100110
00100010
00100011
00100001
00110000
00010000
NAME room 7 158

TIL 17v
01001100
01001000
00101000
00101001
00011010
00011100
00110000
00100000
NAME room 7 159

TIL 17w
01100000
01000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME room 7 160

TIL 17x
10000111
01000011
00110001
00001100
00000011
00000000
00000000
00000000
NAME room 7 161

TIL 17y
00000001
11100000
11111000
01111111
00011111
11000011
00111000
00000111
NAME room 7 162

TIL 17z
10000000
01100000
00111111
11111001
11111100
11111011
00001000
00001000
NAME room 7 163

TIL 18a
00000000
00000000
00000000
00000000
00000100
00000000
00000000
00000000
NAME room 9 1

TIL 18b
00000000
00000000
00000000
00000000
00000010
00000000
00000000
00000000
NAME room 9 2

TIL 18c
00000000
00000000
00000000
00000001
00000000
00000000
00000000
00000000
NAME room 9 3

TIL 18d
00001000
00000000
00000000
00000000
00000000
00100000
00000000
00000000
NAME room 9 4

TIL 18e
00000000
00000000
00000000
10000000
00000000
00000000
00000000
00110000
NAME room 9 5

TIL 18f
00000000
01000000
00000000
00000000
00000000
00000000
00001000
00000000
NAME room 9 6

TIL 18g
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00000000
NAME room 9 7

TIL 18h
00000000
00000000
00000000
00000000
01000000
00000000
00000100
00000000
NAME room 9 8

TIL 18i
00000000
10000000
10000000
00000000
00000001
00000000
00000000
00000000
NAME room 9 9

TIL 18j
00000000
00000000
00000000
00000000
00000000
00000000
00001000
00000000
NAME room 9 10

TIL 18k
00000001
00000000
00100000
00000000
00000000
00000000
00000000
00000000
NAME room 9 11

TIL 18l
00000000
00000000
00000000
00000000
00000011
00000010
00000000
00000000
NAME room 9 12

TIL 18m
00000000
00000000
00000000
00000000
00000010
00000010
00000011
00000011
NAME room 9 13

TIL 18n
00000000
00000000
00000000
00000000
00000001
00000000
00000000
00000000
NAME room 9 14

TIL 18o
00000000
00000000
00000000
00000000
00000000
00000000
01000000
00000000
NAME room 9 15

TIL 18p
00000000
00000010
00000000
00000000
00000000
00000000
00000000
10000010
NAME room 9 16

TIL 18q
00000000
00000000
00000000
00000100
00011100
00011100
00001000
00010000
NAME room 9 17

TIL 18r
00000100
00000000
00000000
00000000
00000000
00000000
00100000
00100000
NAME room 9 18

TIL 18s
00000000
00000010
00000010
00000000
00000000
00000000
10000000
00000000
NAME room 9 19

TIL 18t
00000000
00000001
00000000
00000000
00000000
00000000
00000000
00100000
NAME room 9 20

TIL 18u
00000000
00000000
10000000
10000000
11000000
01000000
01000000
00100100
NAME room 9 21

TIL 18v
00000000
00010000
00000000
00000000
00000000
00000000
00000010
00000110
NAME room 9 22

TIL 18w
00000000
00000000
01100000
11100000
11100000
00000000
00000000
00000010
NAME room 9 23

TIL 18x
00000000
00000000
00000000
00000000
00000000
00001000
00000000
00000000
NAME room 9 24

TIL 18y
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000011
NAME room 9 25

TIL 18z
00000000
00000000
00000000
00000000
00000011
00000000
00000000
00000000
NAME room 9 26

TIL 19a
00000000
00000000
00000000
00000000
00000000
00000111
11111100
10000000
NAME room 9 37

TIL 19b
00000000
00000000
00000000
00000000
11001100
10001100
00000000
00000000
NAME room 9 38

TIL 19c
10000000
10000000
00000001
00001111
01111000
00000000
00000000
11100000
NAME room 9 39

TIL 19d
00001110
00111000
11000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 40

TIL 19e
00111000
00111000
00000000
00010000
00010000
00010000
00010000
00010000
NAME room 9 41

TIL 19f
00000000
00000000
00000000
00000001
00000001
00000010
00000100
00001000
NAME room 9 42

TIL 19g
00111000
00000000
11000000
10000000
00000000
00000000
00000000
00000000
NAME room 9 43

TIL 19h
00000000
00000010
00000000
00000000
00000000
00000000
00000000
10000000
NAME room 9 44

TIL 19i
00000000
00000000
01000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 45

TIL 19j
00000000
00000100
00000100
00000000
00000000
00000001
00000011
00000011
NAME room 9 46

TIL 19k
00000000
00000011
00001110
00111000
00000000
00000000
00000000
00000000
NAME room 9 47

TIL 19l
01110000
11000000
00000000
00000001
00000001
00000001
00000001
00000001
NAME room 9 48

TIL 19m
00000000
00000000
00000000
00001100
00011000
00010000
00100000
01000000
NAME room 9 49

TIL 19n
00000000
00000000
00100000
00100000
00100000
00110000
00010000
00010000
NAME room 9 50

TIL 19o
00000000
00000000
00000000
00000000
00000001
00000011
00000110
00001100
NAME room 9 51

TIL 19p
00000100
00000100
00000100
10000100
10000100
00000010
00000010
00000010
NAME room 9 52

TIL 19q
00111000
00001100
00000111
00000001
00000000
00000000
00000000
00000000
NAME room 9 53

TIL 19r
00000000
00000000
00000000
11000000
01100000
00011100
00000110
00000011
NAME room 9 54

TIL 19s
00010000
00011000
00001000
00001000
00001000
00001100
00000000
00000000
NAME room 9 55

TIL 19t
00011000
00010000
00100000
01100000
11000000
10000000
00000000
00000000
NAME room 9 56

TIL 19u
00000001
00000000
00000000
01000000
00000000
00000000
00000000
00000000
NAME room 9 57

TIL 19v
10000001
10000001
10000000
10000000
10000000
10001100
00011100
00000100
NAME room 9 58

TIL 19w
11000000
00000000
00000000
00000000
00000000
00000000
11111111
00000000
NAME room 9 59

TIL 19x
00010000
00010000
00000000
00000000
00000000
00000000
11001100
00001100
NAME room 9 60

TIL 19y
00011000
00110000
00100000
00000000
00000000
00000000
00000000
00000000
NAME room 9 61

TIL 19z
00000011
00000001
00000001
00000000
00000000
00000000
00000000
00000000
NAME room 9 62

TIL 1a0
00000000
00000000
10000000
10000000
10000000
00000000
00000000
00000000
NAME room 9 63

TIL 1a1
00000000
00000000
00000000
00000000
00000011
00001100
00110000
11000000
NAME room 9 64

TIL 1a2
00000000
00100000
01100110
10000111
00000111
00000000
00000110
00000100
NAME room 9 65

TIL 1a3
00000000
01111111
00000000
00000000
00000000
00000000
00000000
00100000
NAME room 9 66

TIL 1a4
00000001
11111110
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 67

TIL 1a5
10000000
00011000
00011000
00011000
00000000
00000000
00000000
00000000
NAME room 9 68

TIL 1a6
00000000
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 69

TIL 1a7
00000000
00000000
00000000
00000000
00000000
10000000
00000000
00000000
NAME room 9 70

TIL 1a8
00000100
00000000
00000000
00000000
00000000
00000000
00000000
00010000
NAME room 9 71

TIL 1a9
00000000
00000000
00000000
00000000
00000000
00100000
00000000
00000000
NAME room 9 72

TIL 1aa
00000000
00010001
00010000
00010000
00010000
00010000
00010000
00010000
NAME room 9 73

TIL 1ab
00000000
10000000
10000000
01000000
01000000
00100000
00110000
00011000
NAME room 9 74

TIL 1ac
00000000
00000000
00000010
00000010
00000010
00000010
00000010
00000010
NAME room 9 75

TIL 1ad
00000000
00000000
11111111
00000000
00000000
00010000
00011000
00001000
NAME room 9 76

TIL 1ae
00000000
00000000
11111110
00000010
00000000
00000000
00000000
00000000
NAME room 9 77

TIL 1af
00000001
00000110
01100000
01100000
01100010
00000011
00000001
00000000
NAME room 9 78

TIL 1ag
10000000
00000000
00000000
00000000
00000000
00000000
10000000
11100000
NAME room 9 79

TIL 1ah
00000100
00000100
00000100
00000100
00000100
00000100
00000100
00000100
NAME room 9 80

TIL 1ai
00100000
00110000
00011000
00001100
00000110
00000011
00000000
00000000
NAME room 9 81

TIL 1aj
00000000
00000000
00000000
00000000
00000000
10000000
11100000
00110000
NAME room 9 82

TIL 1ak
00000000
00100000
00000000
00000000
00000000
00000000
00010000
00000000
NAME room 9 83

TIL 1al
00000000
10000000
00000000
00000000
00000000
00000000
00001000
00000000
NAME room 9 84

TIL 1am
00000000
00000000
01000000
00000000
00000000
00000000
00100000
00000000
NAME room 9 85

TIL 1an
00010000
00010000
00011000
00001000
00000000
00000110
00000110
00000110
NAME room 9 86

TIL 1ao
00001100
00000110
00000011
00000001
00000000
00000000
00000000
00000000
NAME room 9 87

TIL 1ap
00000011
00000001
00000001
10000001
10000001
10000001
11000001
00000000
NAME room 9 88

TIL 1aq
00001100
00000100
00000010
00000001
00000001
00000000
10000000
10000000
NAME room 9 89

TIL 1ar
00000000
00000000
00000000
00000000
10000000
00000001
00000001
00000000
NAME room 9 90

TIL 1as
01100000
01000000
11000000
10000000
10000000
10000000
00000000
00000000
NAME room 9 91

TIL 1at
00111000
00001100
00000110
00000011
00000001
00000001
00000000
00000000
NAME room 9 92

TIL 1au
00000100
00000100
00000100
00000100
00000100
00000100
10000000
00000000
NAME room 9 93

TIL 1av
00000000
00000000
00000000
00000000
00000000
00000000
00000011
00111100
NAME room 9 94

TIL 1aw
00001100
00000100
00000000
00000000
00011000
11100000
00000000
00000000
NAME room 9 95

TIL 1ax
00000000
00000000
00000000
11000000
11000000
11000000
00000000
00000000
NAME room 9 96

TIL 1ay
00000000
00000000
00000000
00000000
00000110
00000000
00000000
00000000
NAME room 9 97

TIL 1az
00000000
00000000
00000000
00000100
00000100
00000000
00000000
00000000
NAME room 9 98

TIL 1b0
00000000
00000000
00000000
01100000
00000000
00000000
00000000
00000000
NAME room 9 99

TIL 1b1
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00001100
NAME room 9 100

TIL 1b2
01111100
00000111
00000001
10000000
10000000
10000000
10000000
10000000
NAME room 9 101

TIL 1b3
00000000
00000000
10000000
11000000
01100000
00000000
00000000
00000000
NAME room 9 102

TIL 1b4
10000000
10000000
00000000
00000111
11100000
11100000
00000000
00100000
NAME room 9 103

TIL 1b5
00000000
00001100
00001100
10001000
00000000
00000000
00000000
00000010
NAME room 9 104

TIL 1b6
00000000
00000000
00000000
01111111
00000000
00000000
00000000
00000000
NAME room 9 105

TIL 1b7
00000000
00000000
00111100
11100000
00000000
00000000
00000000
00000000
NAME room 9 106

TIL 1b8
00000011
00000000
01100000
01100000
00000000
00000000
01000000
11000000
NAME room 9 107

TIL 1b9
00010000
00000000
00000000
00000000
01000000
00000000
00000000
00000000
NAME room 9 108

TIL 1ba
00000000
00000100
00000000
01000000
00000000
00000000
00000000
00000000
NAME room 9 109

TIL 1bb
10000000
10000000
10000000
10000000
11000000
01000000
01000000
01000000
NAME room 9 110

TIL 1bc
00000000
00000001
00000011
00000010
00000110
00001100
00001000
00011000
NAME room 9 111

TIL 1bd
00100000
00010000
00001100
00000110
00000011
00000000
00000000
00000000
NAME room 9 112

TIL 1be
00000010
00000010
00000011
00000001
10000001
11100001
00111000
00000000
NAME room 9 113

TIL 1bf
00000000
00000000
00000000
00000000
00000000
10000000
10000000
00000000
NAME room 9 114

TIL 1bg
00000000
00000001
00000011
00000110
00001100
00011000
00110000
00000000
NAME room 9 115

TIL 1bh
10000110
10000011
00000001
00000000
00000000
00000000
00000000
00000000
NAME room 9 116

TIL 1bi
00000000
00000000
10000000
11000000
01100000
00110000
00011100
00000110
NAME room 9 117

TIL 1bj
00000100
00000000
00000000
00000000
00000000
11000000
11100000
11100000
NAME room 9 118

TIL 1bk
00000000
00000010
01000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 119

TIL 1bl
00000000
00000000
00000000
01000001
01000000
00000000
00000000
00000000
NAME room 9 120

TIL 1bm
00110000
00110000
00100011
00000001
00000000
00000000
00000000
00000000
NAME room 9 121

TIL 1bn
00000000
00000000
00000000
11000000
01110000
00011000
00001100
00000111
NAME room 9 122

TIL 1bo
00000000
00000000
00000000
00000000
00000000
00000000
00001100
00001110
NAME room 9 123

TIL 1bp
00110000
01100000
01000000
11000000
10000000
00000000
00000000
00000000
NAME room 9 124

TIL 1bq
00000000
00000000
00000000
00000000
00000000
00000000
00011111
11100000
NAME room 9 125

TIL 1br
00000000
00000000
00000000
00000001
00011111
11100000
00000000
00000000
NAME room 9 126

TIL 1bs
00000000
00011100
00011100
10011100
00000100
00000000
00000000
00000100
NAME room 9 127

TIL 1bt
00000000
00000000
01111111
00000000
00000000
00000000
00000000
00000000
NAME room 9 128

TIL 1bu
00000000
00000000
11000000
01111111
00000000
00000000
00000000
00000000
NAME room 9 129

TIL 1bv
00000010
00000011
00000000
11000000
01110000
00000000
00000000
00000000
NAME room 9 130

TIL 1bw
00000000
00000000
00000001
00000011
10011110
11000000
11000000
11000000
NAME room 9 131

TIL 1bx
00001100
00110000
11000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 132

TIL 1by
00010000
00000000
00000000
00000000
00000000
00000000
00001000
00000000
NAME room 9 133

TIL 1bz
00000001
00000000
00000000
00000000
00000000
00000000
00000000
00000111
NAME room 9 134

TIL 1c0
10001110
00001100
00000000
00001000
00011001
01100000
11000000
10000000
NAME room 9 135

TIL 1c1
00001111
00011000
00000000
00000000
10000000
01110000
00011100
00000110
NAME room 9 136

TIL 1c2
00000100
00001100
00011000
00010000
00110000
00100000
01100000
11000000
NAME room 9 137

TIL 1c3
00000000
00000000
00000000
00000000
00000000
00000000
00001111
01110000
NAME room 9 138

TIL 1c4
00000000
00000000
00000000
00000011
00011110
11100000
00000000
00000000
NAME room 9 139

TIL 1c5
00000000
00000000
01100000
11000000
00000000
00000001
00000001
00000011
NAME room 9 140

TIL 1c6
00000000
00001000
00001100
00000110
00000010
10000001
00000001
00000000
NAME room 9 141

TIL 1c7
00000000
00000000
00000001
00000000
00000000
00000000
10000000
10000000
NAME room 9 142

TIL 1c8
00000000
00000000
00100000
00000000
00000000
00000000
00000100
00000000
NAME room 9 143

TIL 1c9
00000000
00100000
00000000
00000000
00000000
00000000
00000100
00000000
NAME room 9 144

TIL 1ca
00000000
00000000
00000000
00000110
00000110
00000110
00000000
00000000
NAME room 9 145

TIL 1cb
00011100
00110000
01100000
00000000
00000000
00000000
00000000
00000000
NAME room 9 146

TIL 1cc
00000001
00000000
00000000
00000000
00010000
00000000
00000000
00000000
NAME room 9 147

TIL 1cd
10000000
01100000
00111000
00001000
00000000
00000000
00000000
00000000
NAME room 9 148

TIL 1ce
00000000
00000000
00000000
00000100
00000100
00001110
00000110
00000000
NAME room 9 149

TIL 1cf
10000000
00000011
00000110
00000100
00000000
00000000
00000000
00000000
NAME room 9 150

TIL 1cg
00000010
00000010
00000110
00000100
00001100
00011000
00010000
00100000
NAME room 9 151

TIL 1ch
11000000
01100000
00110000
00000000
00001100
00001100
00001100
10000000
NAME room 9 152

TIL 1ci
00000000
00000000
00000010
00000000
00000000
00000000
00000000
00000000
NAME room 9 153

TIL 1cj
00000000
00000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 154

TIL 1ck
00000000
01000000
00000000
00000000
00000100
00000000
00000000
00000000
NAME room 9 155

TIL 1cl
00000000
00000000
00000000
00000010
00000000
00000000
00000000
00100000
NAME room 9 156

TIL 1cm
01000000
00000000
00000000
00000001
00000001
00000000
00000000
00000000
NAME room 9 157

TIL 1cn
00000000
00000000
10000000
11000000
11000000
00000001
00000000
00000000
NAME room 9 158

TIL 1co
01100000
00000000
00000000
00000000
00000000
00000010
00000000
00000000
NAME room 9 159

TIL 1cp
00000000
00000000
00000010
00000000
00000000
00000000
00000000
00001000
NAME room 9 160

TIL 1cq
00000000
00000100
00000000
00000000
00000000
00000000
00000000
00000100
NAME room 9 161

TIL 1cr
01000000
00000000
00000000
00000000
00000010
00000000
00000000
00000000
NAME room 9 162

TIL 1cs
00000001
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 163

TIL 1ct
00000000
00000000
00000000
00000000
00000000
00000000
00110000
00000000
NAME room 9 164

TIL 1cu
00010000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME room 9 165

TIL 1cv
00000000
00000000
01000000
00000000
00000000
00000000
00000001
01000000
NAME room 9 166

TIL 1cw
00000000
00000000
00000001
00000000
01000000
00000000
00000000
00000000
NAME room 9 167

TIL 1cx
00000000
00000000
00000000
00000000
00000000
00000000
00010000
00000000
NAME room 9 168

SPR A
00000000
01000100
00010000
00111000
00010000
01000100
00000000
00000000
>
10010010
01010100
00111000
11111110
00111000
01010100
10010010
00000000
POS 0 8,14

SPR b
00010000
01010100
00111000
11111110
00111000
01010100
00010000
00000000
>
00000000
00000000
00101000
00010000
00101000
00000000
00000000
00000000
DLG SPR_0
POS 0 2,4

SPR c
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000

SPR d
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000

SPR e
00010000
00010000
00010000
00010000
00010000
00010000
00010000
00010000
NAME spiri 

SPR f
10010010
01010100
00111000
11111110
00111000
01010100
10010010
00000000
>
00000000
01000100
00010000
00101000
00010000
01000100
00000000
00000000
NAME John Cage
DLG SPR_1
POS 3 7,7

ITM 0
00000000
00010000
01010100
00111000
11111110
00111000
01010100
00010000
NAME insight
DLG ITM_0

ITM 1
00000000
00000000
00000000
00010000
00101000
00010000
00000000
00000000
>
00000000
00000000
00000000
00101000
00010000
00101000
00000000
00000000
NAME mushroom
DLG ITM_1

ITM 2
00000000
00000000
00010100
00001000
00010100
00000000
00000000
00000000
>
00000000
00000000
00001000
00010100
00001000
00000000
00000000
00000000
NAME at first
DLG ITM_2

ITM 3
00000000
01000100
00010000
00101000
00010000
01000100
00000000
00000000
>
00000000
00000000
00101000
00010000
00101000
00000000
00000000
00000000
NAME but then
DLG ITM_3

ITM 4
00000000
00000000
00010000
00101000
00010000
00000000
00000000
00000000
>
00000000
00000000
00101000
00010000
00101000
00000000
00000000
00000000
DLG ITM_4

ITM 5
00000000
00000000
00000000
00010100
00001000
00010100
00000000
00000000
>
00000000
00000000
00000000
00001000
00010100
00001000
00000000
00000000
DLG ITM_5

DLG ITM_0
{wvy}you seem to be finding yourself everywhere{wvy}

DLG SPR_0
hello there my little friend. you must be a little confused floating here, {wvy}spirit energy{wvy}... I know that I was too. you have left your life before, you thought that you {shk}died{shk}, but here you are instead... all of us spirits find ourselves back in the {wvy}earth{wvy}... we are, right now, below the ground you once stepped on... 

DLG SPR_1
all i can do is sing today my little friend... it is a beautiful thing, to exist... i have had many names, but I forget already my friend... all I know is i used to walk around in  the forest and listen to the sound, fall in love at all the surprises and beauty... i would remind myself of surprises and beauty often. there something {wvy}magical{wvy} about this pursuit, no? 

DLG ITM_2
you move through the ground, still very lost in this a mixture of roots and fungal networks, intertwined, indistinguishable at this scale... this living fabric...

DLG ITM_3
you move closer to where the earth meets the sky... you wonder about all the things you once knew...

DLG ITM_4
you hear whispers around you, of all the world communicating to itself... everything is moving, shifting alive... what is dead? stillness is only conceptual...

DLG ITM_1
it is strange there is so much life in a thing that associated with feeding off of what is dead or dying

DLG ITM_5
everything is communicating to and through each other underground, {wvy}invisible... almost{wvy} like the left and right side of the brain there is a {wvy}collective{wvy} consciousness, maybe this is the world where names don't matter anymore...   

END 0
The end

VAR a
42


</script>

<style>
html {
	margin:0px;
	padding:0px;
}

body {
	margin:0px;
	padding:0px;
	overflow:hidden;
	background:#ffffff;
}

#game {
	background:black;
	width:100vw;
	max-width:100vh;
	margin:auto;
	display:block;
}
</style>

<!-- SCRIPTS -->
<script>
function startExportedGame() {
	attachCanvas( document.getElementById("game") );
	load_game( document.getElementById("exportedGameData").text.slice(1) );
}
</script>

<script>
//hex-to-rgb method borrowed from stack overflow
function hexToRgb(hex) {
	// Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
	var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
	hex = hex.replace(shorthandRegex, function(m, r, g, b) {
		return r + r + g + g + b + b;
	});

	var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
	return result ? {
		r: parseInt(result[1], 16),
		g: parseInt(result[2], 16),
		b: parseInt(result[3], 16)
	} : null;
}
function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? "0" + hex : hex;
}
function rgbToHex(r, g, b) {
    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}

function hslToHex(h,s,l) {
    var rgbArr = hslToRgb(h,s,l);
    return rgbToHex( Math.floor(rgbArr[0]), Math.floor(rgbArr[1]), Math.floor(rgbArr[2]) );
}

function hexToHsl(hex) {
    var rgb = hexToRgb(hex);
    return rgbToHsl(rgb.r, rgb.g, rgb.b);
}

// really just a vector distance
function colorDistance(a1,b1,c1,a2,b2,c2) {
    return Math.sqrt( Math.pow(a1 - a2, 2) + Math.pow(b1 - b2, 2) + Math.pow(c1 - c2, 2) );
}

function hexColorDistance(hex1,hex2) {
    var color1 = hexToRgb(hex1);
    var color2 = hexToRgb(hex2);
    return rgbColorDistance(color1.r, color1.g, color1.b, color2.r, color2.g, color2.b);
}


// source : http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c
/* accepts parameters
 * h  Object = {h:x, s:y, v:z}
 * OR 
 * h, s, v
*/
function HSVtoRGB(h, s, v) {
    var r, g, b, i, f, p, q, t;
    if (arguments.length === 1) {
        s = h.s, v = h.v, h = h.h;
    }
    i = Math.floor(h * 6);
    f = h * 6 - i;
    p = v * (1 - s);
    q = v * (1 - f * s);
    t = v * (1 - (1 - f) * s);
    switch (i % 6) {
        case 0: r = v, g = t, b = p; break;
        case 1: r = q, g = v, b = p; break;
        case 2: r = p, g = v, b = t; break;
        case 3: r = p, g = q, b = v; break;
        case 4: r = t, g = p, b = v; break;
        case 5: r = v, g = p, b = q; break;
    }
    return {
        r: Math.round(r * 255),
        g: Math.round(g * 255),
        b: Math.round(b * 255)
    };
}

/* accepts parameters
 * r  Object = {r:x, g:y, b:z}
 * OR 
 * r, g, b
*/
function RGBtoHSV(r, g, b) {
    if (arguments.length === 1) {
        g = r.g, b = r.b, r = r.r;
    }
    var max = Math.max(r, g, b), min = Math.min(r, g, b),
        d = max - min,
        h,
        s = (max === 0 ? 0 : d / max),
        v = max / 255;

    switch (max) {
        case min: h = 0; break;
        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;
        case g: h = (b - r) + d * 2; h /= 6 * d; break;
        case b: h = (r - g) + d * 4; h /= 6 * d; break;
    }

    return {
        h: h,
        s: s,
        v: v
    };
}

// source : https://gist.github.com/mjackson/5311256
/**
 * Converts an HSL color value to RGB. Conversion formula
 * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
 * Assumes h, s, and l are contained in the set [0, 1] and
 * returns r, g, and b in the set [0, 255].
 *
 * @param   Number  h       The hue
 * @param   Number  s       The saturation
 * @param   Number  l       The lightness
 * @return  Array           The RGB representation
 */
function hslToRgb(h, s, l) {
  var r, g, b;

  if (s == 0) {
    r = g = b = l; // achromatic
  } else {
    function hue2rgb(p, q, t) {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1/6) return p + (q - p) * 6 * t;
      if (t < 1/2) return q;
      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
      return p;
    }

    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;

    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }

  return [ r * 255, g * 255, b * 255 ];
}

/**
 * From: http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion
 *
 * Converts an RGB color value to HSL. Conversion formula
 * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
 * Assumes r, g, and b are contained in the set [0, 255] and
 * returns h, s, and l in the set [0, 1].
 *
 * @param   {number}  r       The red color value
 * @param   {number}  g       The green color value
 * @param   {number}  b       The blue color value
 * @return  {Array}           The HSL representation
 */
function rgbToHsl(r, g, b){
    r /= 255, g /= 255, b /= 255;
    var max = Math.max(r, g, b), min = Math.min(r, g, b);
    var h, s, l = (max + min) / 2;

    if(max == min){
        h = s = 0; // achromatic
    }else{
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch(max){
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
    }

    return [h, s, l];
}
</script>

<script>
var TransitionManager = function() {
	var transitionStart = null;
	var transitionEnd = null;
	var effectImage = null;

	var isTransitioning = false;
	var transitionTime = 0; // milliseconds
	var frameRate = 8; // cap the FPS
	var prevStep = -1; // used to avoid running post-process effect constantly

	this.BeginTransition = function(startRoom,startX,startY,endRoom,endX,endY,effectName) {
		// console.log("--- START ROOM TRANSITION ---");

		curEffect = effectName;

		var tmpRoom = player().room;
		var tmpX = player().x;
		var tmpY = player().y;

		if (transitionEffects[curEffect].showPlayerStart) {
			player().room = startRoom;
			player().x = startX;
			player().y = startY;
		}
		else {
			player().room = "_transition_none"; // kind of hacky!!
		}

		drawRoom(room[startRoom]);
		var startPalette = getPal( room[startRoom].pal );
		var startImage = new PostProcessImage( ctx.getImageData(0,0,canvas.width,canvas.height) ); // TODO : don't use global ctx?
		transitionStart = new TransitionInfo(startImage, startPalette, startX, startY);

		if (transitionEffects[curEffect].showPlayerEnd) {
			player().room = endRoom;
			player().x = endX;
			player().y = endY;
		}
		else {
			player().room = "_transition_none";
		}

		drawRoom(room[endRoom]);
		var endPalette = getPal( room[endRoom].pal );
		var endImage = new PostProcessImage( ctx.getImageData(0,0,canvas.width,canvas.height) );
		transitionEnd = new TransitionInfo(endImage, endPalette, endX, endY);

		effectImage = new PostProcessImage( ctx.createImageData(canvas.width,canvas.height) );

		isTransitioning = true;
		transitionTime = 0;
		prevStep = -1;

		player().room = tmpRoom;
		player().x = tmpX;
		player().y = tmpY;
	}

	this.UpdateTransition = function(dt) {
		if (!isTransitioning) {
			return;
		}

		transitionTime += dt;

		var transitionDelta = transitionTime / transitionEffects[curEffect].duration;
		var maxStep = Math.floor(frameRate * (transitionEffects[curEffect].duration / 1000));
		var step = Math.floor(transitionDelta * maxStep);

		if (step != prevStep) {
			// console.log("step! " + step + " " + transitionDelta);
			for (var y = 0; y < effectImage.Height; y++) {
				for (var x = 0; x < effectImage.Width; x++) {
					var color = transitionEffects[curEffect].pixelEffectFunc(transitionStart,transitionEnd,x,y,(step / maxStep));
					effectImage.SetPixel(x,y,color);
				}
			}
		}
		prevStep = step;

		ctx.putImageData(effectImage.GetData(), 0, 0);

		if (transitionTime >= transitionEffects[curEffect].duration) {
			isTransitioning = false;
			transitionTime = 0;
			transitionStart = null;
			transitionEnd = null;
			effectImage = null;
			prevStep = -1;
		}
	}

	this.IsTransitionActive = function() {
		return isTransitioning;
	}

	var transitionEffects = {};
	var curEffect = "none";
	this.RegisterTransitionEffect = function(name, effect) {
		transitionEffects[name] = effect;
	}

	this.RegisterTransitionEffect("none", {
		showPlayerStart : false,
		showPlayerEnd : false,
		pixelEffectFunc : function() {},
	});

	this.RegisterTransitionEffect("fade_w", { // TODO : have it linger on full white briefly?
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 750,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelColorA = delta < 0.5 ? start.Image.GetPixel(pixelX,pixelY) : {r:255,g:255,b:255,a:255};
			var pixelColorB = delta < 0.5 ? {r:255,g:255,b:255,a:255} : end.Image.GetPixel(pixelX,pixelY);

			delta = delta < 0.5 ? (delta / 0.5) : ((delta - 0.5) / 0.5); // hacky

			return PostProcessUtilities.LerpColor(pixelColorA, pixelColorB, delta);
		}
	});

	this.RegisterTransitionEffect("fade_b", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 750,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelColorA = delta < 0.5 ? start.Image.GetPixel(pixelX,pixelY) : {r:0,g:0,b:0,a:255};
			var pixelColorB = delta < 0.5 ? {r:0,g:0,b:0,a:255} : end.Image.GetPixel(pixelX,pixelY);

			delta = delta < 0.5 ? (delta / 0.5) : ((delta - 0.5) / 0.5); // hacky

			return PostProcessUtilities.LerpColor(pixelColorA, pixelColorB, delta);
		}
	});

	this.RegisterTransitionEffect("wave", {
		showPlayerStart : true,
		showPlayerEnd : true,
		duration : 1500,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var waveDelta = delta < 0.5 ? delta / 0.5 : 1 - ((delta - 0.5) / 0.5);

			var offset = (pixelY + (waveDelta * waveDelta * 0.2 * start.Image.Height));
			var freq = 4;
			var size = 2 + (14 * waveDelta);
			pixelX += Math.floor(Math.sin(offset / freq) * size);

			if (pixelX < 0) {
				pixelX += start.Image.Width;
			}
			else if (pixelX >= start.Image.Width) {
				pixelX -= start.Image.Width;
			}

			var curImage = delta < 0.5 ? start.Image : end.Image;
			return curImage.GetPixel(pixelX,pixelY);
		}
	});

	this.RegisterTransitionEffect("tunnel", {
		showPlayerStart : true,
		showPlayerEnd : true,
		duration : 1500,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			if (delta <= 0.4) {
				var tunnelDelta = 1 - (delta / 0.4);

				var xDist = start.PlayerCenter.x - pixelX;
				var yDist = start.PlayerCenter.y - pixelY;
				var dist = Math.sqrt((xDist * xDist) + (yDist * yDist));

				if (dist > start.Image.Width * tunnelDelta) {
					return {r:0,g:0,b:0,a:255};
				}
				else {
					return start.Image.GetPixel(pixelX,pixelY);
				}
			}
			else if (delta <= 0.6)
			{
				return {r:0,g:0,b:0,a:255};
			}
			else {
				var tunnelDelta = (delta - 0.6) / 0.4;

				var xDist = end.PlayerCenter.x - pixelX;
				var yDist = end.PlayerCenter.y - pixelY;
				var dist = Math.sqrt((xDist * xDist) + (yDist * yDist));

				if (dist > end.Image.Width * tunnelDelta) {
					return {r:0,g:0,b:0,a:255};
				}
				else {
					return end.Image.GetPixel(pixelX,pixelY);
				}
			}
		}
	});

	this.RegisterTransitionEffect("slide_u", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = -1 * Math.floor(start.Image.Height * delta);
			var slidePixelY = pixelY + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelY >= 0) {
				var colorA = start.Image.GetPixel(pixelX,slidePixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelY += start.Image.Height;
				var colorB = end.Image.GetPixel(pixelX,slidePixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_d", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = Math.floor(start.Image.Height * delta);
			var slidePixelY = pixelY + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelY < start.Image.Height) {
				var colorA = start.Image.GetPixel(pixelX,slidePixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelY -= start.Image.Height;
				var colorB = end.Image.GetPixel(pixelX,slidePixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_l", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = -1 * Math.floor(start.Image.Width * delta);
			var slidePixelX = pixelX + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelX >= 0) {
				var colorA = start.Image.GetPixel(slidePixelX,pixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelX += start.Image.Width;
				var colorB = end.Image.GetPixel(slidePixelX,pixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_r", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = Math.floor(start.Image.Width * delta);
			var slidePixelX = pixelX + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelX < start.Image.Width) {
				var colorA = start.Image.GetPixel(slidePixelX,pixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelX -= start.Image.Width;
				var colorB = end.Image.GetPixel(slidePixelX,pixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	function clampLerp(deltaIn, clampDuration) {
		var clampOffset = (1.0 - clampDuration) / 2;
		var deltaOut = Math.min(clampDuration, Math.max(0.0, deltaIn - clampOffset)) / clampDuration;
		return deltaOut;
	}

	// TODO : WIP
	// this.RegisterTransitionEffect("fuzz", {
	// 	showPlayerStart : true,
	// 	showPlayerEnd : true,
	// 	duration : 1500,
	// 	pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
	// 		var curImage = delta <= 0.5 ? start : end;
	// 		var sampleSize = delta <= 0.5 ? (2 + Math.floor(14 * (delta/0.5))) : (16 - Math.floor(14 * ((delta-0.5)/0.5)));

	// 		var palIndex = 0;

	// 		var sampleX = Math.floor(pixelX / sampleSize) * sampleSize;
	// 		var sampleY = Math.floor(pixelY / sampleSize) * sampleSize;

	// 		var frameState = transitionEffects["fuzz"].frameState;

	// 		if (frameState.time != delta) {
	// 			frameState.time = delta;
	// 			frameState.preCalcSampleValues = {};
	// 		}

	// 		if (frameState.preCalcSampleValues[[sampleX,sampleY]]) {
	// 			palIndex = frameState.preCalcSampleValues[[sampleX,sampleY]];
	// 		}
	// 		else {
	// 			var paletteCount = {};
	// 			var foregroundValue = 1.0;
	// 			var backgroundValue = 0.4;
	// 			for (var y = sampleY; y < sampleY + sampleSize; y++) {
	// 				for (var x = sampleX; x < sampleX + sampleSize; x++) {
	// 					var color = curImage.Image.GetPixel(x,y)
	// 					var palIndex = PostProcessUtilities.GetColorPalIndex(color,curImage.Palette);
	// 					if (palIndex != -1) {
	// 						if (paletteCount[palIndex]) {
	// 							paletteCount[palIndex] += (palIndex != 0) ? foregroundValue : backgroundValue;
	// 						}
	// 						else {
	// 							paletteCount[palIndex] = (palIndex != 0) ? foregroundValue : backgroundValue;
	// 						}
	// 					}
	// 				}
	// 			}

	// 			var maxCount = 0;
	// 			for (var i in paletteCount) {
	// 				if (paletteCount[i] > maxCount) {
	// 					palIndex = i;
	// 					maxCount = paletteCount[i];
	// 				}
	// 			}

	// 			frameState.preCalcSampleValues[[sampleX,sampleY]] = palIndex;
	// 		}

	// 		return PostProcessUtilities.GetPalColor(curImage.Palette,palIndex);
	// 	},
	// 	frameState : { // ok this is hacky but it's for performance ok
	// 		time : -1,
	// 		preCalcSampleValues : {}
	// 	}
	// });
}; // TransitionManager()


// TODO : extract the scale variable so it can be changed?
var PostProcessUtilities = {
	SamplePixelColor : function(image,x,y) {
		var pixelIndex = (y * scale * image.width * 4) + (x * scale * 4);
		var r = image.data[pixelIndex + 0];
		var g = image.data[pixelIndex + 1];
		var b = image.data[pixelIndex + 2];
		var a = image.data[pixelIndex + 3];
		return { r:r, g:g, b:b, a:a };
	},
	SetPixelColor : function(image,x,y,colorRgba) {
		for (var yDelta = 0; yDelta <= scale; yDelta++) {
			for (var xDelta = 0; xDelta <= scale; xDelta++) {
				var pixelIndex = (((y * scale) + yDelta) * image.width * 4) + (((x * scale) + xDelta) * 4);
				image.data[pixelIndex + 0] = colorRgba.r;
				image.data[pixelIndex + 1] = colorRgba.g;
				image.data[pixelIndex + 2] = colorRgba.b;
				image.data[pixelIndex + 3] = colorRgba.a;
			}
		}
	},
	LerpColor : function(colorA,colorB,t) {
		// TODO: move to color_util.js?
		return {
			r : colorA.r + ((colorB.r - colorA.r) * t),
			g : colorA.g + ((colorB.g - colorA.g) * t),
			b : colorA.b + ((colorB.b - colorA.b) * t),
			a : colorA.a + ((colorB.a - colorA.a) * t),
		};
	},
	GetColorPalIndex : function(colorIn,curPal) {
		var colorIndex = -1;

		for (var i = 0; i < curPal.length; i++) {
			if (colorIn.r == curPal[i][0] && colorIn.g == curPal[i][1] && colorIn.b == curPal[i][2]) {
				colorIndex = i;
			}
		}

		return colorIndex;
	},
	GetPalColor : function(palette,index) {
		return { r: palette[index][0], g: palette[index][1], b: palette[index][2], a: 255 }
	},
	GetCorrespondingColorFromPal : function(colorIn,curPal,otherPal) { // this is kind of hacky!
		var colorIndex = PostProcessUtilities.GetColorPalIndex(colorIn,curPal);

		if (colorIndex >= 0 && colorIndex <= otherPal.length) {
			return PostProcessUtilities.GetPalColor(otherPal,colorIndex);
		}
		else {
			return colorIn;
		}
	},
};

var PostProcessImage = function(imageData) {
	this.Width = imageData.width / scale;
	this.Height = imageData.height / scale;

	this.GetPixel = function(x,y) {
		return PostProcessUtilities.SamplePixelColor(imageData,x,y);
	};

	this.SetPixel = function(x,y,colorRgba) {
		PostProcessUtilities.SetPixelColor(imageData,x,y,colorRgba);
	};

	this.GetData = function() {
		return imageData;
	};
};

var TransitionInfo = function(image, palette, playerX, playerY) {
	this.Image = image;
	this.Palette = palette;
	this.PlayerTilePos = { x: playerX, y: playerY };
	this.PlayerCenter = { x: Math.floor((playerX * tilesize) + (tilesize / 2)), y: Math.floor((playerY * tilesize) + (tilesize / 2)) };
};
</script>

<script>
/*
TODO:
- can I simplify this more now that I've removed the external resources stuff?
*/

function FontManager(packagedFontNames) {

var self = this;

var fontExtension = ".bitsyfont";
this.GetExtension = function() {
	return fontExtension;
}

// place to store font data
var fontResources = {};

// load fonts from the editor
if (packagedFontNames != undefined && packagedFontNames != null && packagedFontNames.length > 0
		&& Resources != undefined && Resources != null) {

	for (var i = 0; i < packagedFontNames.length; i++) {
		var filename = packagedFontNames[i];
		fontResources[filename] = Resources[filename];
	}
}

// manually add resource
this.AddResource = function(filename, fontdata) {
	fontResources[filename] = fontdata;
}

this.ContainsResource = function(filename) {
	return fontResources[filename] != null;
}

function GetData(fontName) {
	return fontResources[fontName + fontExtension];
}
this.GetData = GetData;

function Create(fontData) {
	return new Font(fontData);
}
this.Create = Create;

this.Get = function(fontName) {
	var fontData = self.GetData(fontName);
	return self.Create(fontData);
}

function Font(fontData) {
	var name = "unknown";
	var width = 6; // default size so if you have NO font or an invalid font it displays boxes
	var height = 8;
	var chardata = {};
	var invalidCharData = {};

	this.getName = function() {
		return name;
	}

	this.getData = function() {
		return chardata;
	}

	this.getWidth = function() {
		return width;
	}

	this.getHeight = function() {
		return height;
	}

	this.hasChar = function(char) {
		var codepoint = char.charCodeAt(0);
		return chardata[codepoint] != null;
	}

	this.getChar = function(char) {

		var codepoint = char.charCodeAt(0);

		if (chardata[codepoint] != null) {
			return chardata[codepoint];
		}
		else {
			return invalidCharData;
		}
	}

	this.allCharCodes = function() {
		var codeList = [];
		for (var code in chardata) {
			codeList.push(code);
		}
		return codeList;
	}

	function parseFont(fontData) {
		if (fontData == null)
			return;

		var lines = fontData.split("\n");

		var isReadingChar = false;
		var isReadingCharProperties = false;
		var curCharLineCount = 0;
		var curCharCode = 0;

		for (var i = 0; i < lines.length; i++) {
			var line = lines[i];

			if (line[0] === "#") {
				continue; // skip comment lines
			}

			if (!isReadingChar) {
				// READING NON CHARACTER DATA LINE
				var args = line.split(" ");
				if (args[0] == "FONT") {
					name = args[1];
				}
				else if (args[0] == "SIZE") {
					width = parseInt(args[1]);
					height = parseInt(args[2]);
				}
				else if (args[0] == "CHAR") {
					isReadingChar = true;
					isReadingCharProperties = true;

					curCharLineCount = 0;
					curCharCode = parseInt(args[1]);
					chardata[curCharCode] = { 
						width: width,
						height: height,
						offset: {
							x: 0,
							y: 0
						},
						spacing: width,
						data: []
					};
				}
			}
			else {
				// CHAR PROPERTIES
				if (isReadingCharProperties) {
					var args = line.split(" ");
					if (args[0].indexOf("CHAR_") == 0) { // Sub-properties start with "CHAR_"
						if (args[0] == "CHAR_SIZE") {
							// Custom character size - overrides the default character size for the font
							chardata[curCharCode].width = parseInt(args[1]);
							chardata[curCharCode].height = parseInt(args[2]);
							chardata[curCharCode].spacing = parseInt(args[1]); // HACK : assumes CHAR_SIZE is always declared first
						}
						else if (args[0] == "CHAR_OFFSET") {
							// Character offset - shift the origin of the character on the X or Y axis
							chardata[curCharCode].offset.x = parseInt(args[1]);
							chardata[curCharCode].offset.y = parseInt(args[2]);
						}
						else if (args[0] == "CHAR_SPACING") {
							// Character spacing:
							// specify total horizontal space taken up by the character
							// lets chars take up more or less space on a line than its bitmap does
							chardata[curCharCode].spacing = parseInt(args[1]);
						}
					}
					else {
						isReadingCharProperties = false;
					}
				}

				// CHAR DATA
				if (!isReadingCharProperties) {
					// READING CHARACTER DATA LINE
					for (var j = 0; j < chardata[curCharCode].width; j++)
					{
						chardata[curCharCode].data.push( parseInt(line[j]) );
					}

					curCharLineCount++;
					if (curCharLineCount >= height) {
						isReadingChar = false;
					}
				}
			}
		}

		// init invalid character box
		invalidCharData = { 
			width: width,
			height: height,
			offset: {
				x: 0,
				y: 0
			},
			spacing: width, // TODO : name?
			data: []
		};
		for (var y = 0; y < height; y++) {
			for (var x = 0; x < width; x++) {
				if (x < width-1 && y < height-1) {
					invalidCharData.data.push(1);
				}
				else {
					invalidCharData.data.push(0);
				}
			}
		}
	}

	parseFont(fontData);
}

} // FontManager
</script>

<script>
function Script() {

this.CreateInterpreter = function() {
	return new Interpreter();
};

this.CreateUtils = function() {
	return new Utils();
};

var Interpreter = function() {
	var env = new Environment();
	var parser = new Parser( env );

	this.SetDialogBuffer = function(buffer) { env.SetDialogBuffer( buffer ); };

	// TODO -- maybe this should return a string instead othe actual script??
	this.Compile = function(scriptName, scriptStr) {
		// console.log("COMPILE");
		var script = parser.Parse( scriptStr );
		env.SetScript( scriptName, script );
	}
	this.Run = function(scriptName, exitHandler) { // Runs pre-compiled script
		// console.log("RUN");
		// console.log(env.GetScript( scriptName ));
		env.GetScript( scriptName )
			.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );

		// console.log("SERIALIZE!!!!");
		// console.log( env.GetScript( scriptName ).Serialize() );
	}
	this.Interpret = function(scriptStr, exitHandler) { // Compiles and runs code immediately
		// console.log("INTERPRET");
		var script = parser.Parse( scriptStr );
		script.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );
	}
	this.HasScript = function(name) { return env.HasScript(name); };

	this.ResetEnvironment = function() {
		env = new Environment();
		parser = new Parser( env );
	}

	this.Parse = function(scriptStr) { // parses a script but doesn't save it
		return parser.Parse( scriptStr );
	}
	this.Eval = function(scriptTree, exitHandler) { // runs a script stored externally
		scriptTree.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );
	}

	function OnScriptReturn(result, exitHandler) {
		if (isReturnObject(result)) {
			result = result.result; // pull out the contained result
		}

		// console.log("RESULT " + result);

		if (exitHandler != null) {
			exitHandler(result);
		}
	}

	this.CreateExpression = function(expStr) {
		return parser.CreateExpression( expStr );
	}

	this.SetVariable = function(name,value,useHandler) {
		env.SetVariable(name,value,useHandler);
	}

	this.DeleteVariable = function(name,useHandler) {
		env.DeleteVariable(name,useHandler);
	}
	this.HasVariable = function(name) {
		return env.HasVariable(name);
	}

	this.SetOnVariableChangeHandler = function(onVariableChange) {
		env.SetOnVariableChangeHandler(onVariableChange);
	}
	this.GetVariableNames = function() {
		return env.GetVariableNames();
	}
	this.GetVariable = function(name) {
		return env.GetVariable(name);
	}

	this.DebugVisualizeScriptTree = function(scriptName) {
		var printVisitor = {
			Visit : function(node,depth) {
				console.log("-".repeat(depth) + "- " + node.ToString());
			},
		};

		env.GetScript( scriptName ).VisitAll( printVisitor );
	}
}


var Utils = function() {
	// for editor ui
	this.CreateDialogBlock = function(children,doIndentFirstLine) {
		if(doIndentFirstLine === undefined) doIndentFirstLine = true;
		var block = new BlockNode( BlockMode.Dialog, doIndentFirstLine );
		for(var i = 0; i < children.length; i++) {
			block.AddChild( children[i] );
		}
		return block;
	}

	this.ChangeSequenceType = function(oldSequence,type) {
		if(type === "sequence") {
			return new SequenceNode( oldSequence.options );
		}
		else if(type === "cycle") {
			return new CycleNode( oldSequence.options );
		}
		else if(type === "shuffle") {
			return new ShuffleNode( oldSequence.options );
		}
		return oldSequence;
	}

	this.CreateSequenceBlock = function() {
		var option1 = new BlockNode( BlockMode.Dialog, false /*doIndentFirstLine*/ );
		var option2 = new BlockNode( BlockMode.Dialog, false /*doIndentFirstLine*/ );
		var sequence = new SequenceNode( [ option1, option2 ] );
		var block = new BlockNode( BlockMode.Code );
		block.AddChild( sequence );
		return block;
	}

	this.CreateIfBlock = function() {
		var leftNode = new BlockNode( BlockMode.Code );
		leftNode.AddChild( new FuncNode("item", [new LiteralNode("0")] ) );
		var rightNode = new LiteralNode( 1 );
		var condition1 = new ExpNode("==", leftNode, rightNode );

		var condition2 = new ElseNode();

		var result1 = new BlockNode( BlockMode.Dialog );
		var result2 = new BlockNode( BlockMode.Dialog );

		var ifNode = new IfNode( [ condition1, condition2 ], [ result1, result2 ] );
		var block = new BlockNode( BlockMode.Code );
		block.AddChild( ifNode );
		return block;
	}

	this.ReadDialogScript = function(lines, i) {
		var scriptStr = "";
		if (lines[i] === Sym.DialogOpen) {
			scriptStr += lines[i] + "\n";
			i++;
			while(lines[i] != Sym.DialogClose) {
				scriptStr += lines[i] + "\n";
				i++;
			}
			scriptStr += lines[i];
			i++;
		}
		else {
			scriptStr += lines[i];
		}
		return { script:scriptStr, index:i };
	}

	// TODO this.ReadCodeScript (reads through code open and close symbols), and this.ReadScript

	this.EnsureDialogBlockFormat = function(dialogStr) {
		// TODO -- what if it's already enclosed in dialog symbols??
		if(dialogStr.indexOf('\n') > -1) {
			dialogStr = Sym.DialogOpen + "\n" + dialogStr + "\n" + Sym.DialogClose;
		}
		return dialogStr;
	}

	this.RemoveDialogBlockFormat = function(source) {
		var sourceLines = source.split("\n");
		var dialogStr = "";
		if(sourceLines[0] === Sym.DialogOpen) {
			// multi line
			var i = 1;
			while (i < sourceLines.length && sourceLines[i] != Sym.DialogClose) {
				dialogStr += sourceLines[i] + (sourceLines[i+1] != Sym.DialogClose ? '\n' : '');
				i++;
			}
		}
		else {
			// single line
			dialogStr = source;
		}
		return dialogStr;
	}
}


/* BUILT-IN FUNCTIONS */ // TODO: better way to encapsulate these?
function deprecatedFunc(environment,parameters,onReturn) {
	console.log("BITSY SCRIPT WARNING: Tried to use deprecated function");
	onReturn(null);
}

// TODO : vNext
// function returnFunc(environment,parameters,onReturn) {
// 	var ret = { isReturn: true, result: null };
// 	if (parameters.length > 0 && parameters[0] != undefined && parameters[0] != null) {
// 		ret.result = parameters[0];
// 	}
// 	onReturn(ret);
// }

// TODO : vNext
// // TODO : this is kind of hacky
// // - needs to work with names too
// function changeAvatarFunc(environment,parameters,onReturn) {
// 	if( parameters[0] != undefined && parameters[0] != null ) {
// 		sprite["A"].drw = "SPR_" + parameters[0];
// 	}
// 	onReturn(null);
// }

function printFunc(environment,parameters,onReturn) {
	// console.log("PRINT FUNC");
	// console.log(parameters);
	if( parameters[0] != undefined && parameters[0] != null ) {
		// console.log(parameters[0]);
		// console.log(parameters[0].toString());
		// var textStr = parameters[0].toString();
		var textStr = "" + parameters[0];
		// console.log(textStr);
		var onFinishHandler = function() {
			// console.log("FINISHED PRINTING ---- SCRIPT");
			onReturn(null);
		}; // called when dialog is finished printing
		environment.GetDialogBuffer().AddText( textStr, onFinishHandler );
	}
	else {
		onReturn(null);
	}
}

function linebreakFunc(environment,parameters,onReturn) {
	// console.log("LINEBREAK FUNC");
	environment.GetDialogBuffer().AddLinebreak();
	onReturn(null);
}

function printDrawingFunc(environment,parameters,onReturn) {
	var drawingId = parameters[0];
	environment.GetDialogBuffer().AddDrawing( drawingId, function() {
		onReturn(null);
	});
}

function printSpriteFunc(environment,parameters,onReturn) {
	var spriteId = parameters[0];
	if(names.sprite.has(spriteId)) spriteId = names.sprite.get(spriteId); // id is actually a name
	var drawingId = sprite[spriteId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printTileFunc(environment,parameters,onReturn) {
	var tileId = parameters[0];
	if(names.tile.has(tileId)) tileId = names.tile.get(tileId); // id is actually a name
	var drawingId = tile[tileId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printItemFunc(environment,parameters,onReturn) {
	var itemId = parameters[0];
	if(names.item.has(itemId)) itemId = names.item.get(itemId); // id is actually a name
	var drawingId = item[itemId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printFontFunc(environment, parameters, onReturn) {
	var allCharacters = "";
	var font = fontManager.Get( fontName );
	var codeList = font.allCharCodes();
	for (var i = 0; i < codeList.length; i++) {
		allCharacters += String.fromCharCode(codeList[i]) + " ";
	}
	printFunc(environment, [allCharacters], onReturn);
}

function itemFunc(environment,parameters,onReturn) {
	var itemId = parameters[0];
	if(names.item.has(itemId)) itemId = names.item.get(itemId); // id is actually a name
	var itemCount = player().inventory[itemId] ? player().inventory[itemId] : 0; // TODO : ultimately the environment should include a reference to the game state
	// console.log("ITEM FUNC " + itemId + " " + itemCount);
	onReturn(itemCount);
}

function addOrRemoveTextEffect(environment,name) {
	if( environment.GetDialogBuffer().HasTextEffect(name) )
		environment.GetDialogBuffer().RemoveTextEffect(name);
	else
		environment.GetDialogBuffer().AddTextEffect(name);
}

function rainbowFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"rbw");
	onReturn(null);
}

// TODO : should the colors use a parameter instead of special names?
function color1Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr1");
	onReturn(null);
}

function color2Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr2");
	onReturn(null);
}

function color3Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr3");
	onReturn(null);
}

function wavyFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"wvy");
	onReturn(null);
}

function shakyFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"shk");
	onReturn(null);
}

/* BUILT-IN OPERATORS */
function setExp(environment,left,right,onReturn) {
	// console.log("SET " + left.name);

	if(left.type != "variable") {
		// not a variable! return null and hope for the best D:
		onReturn( null );
		return;
	}

	right.Eval(environment,function(rVal) {
		environment.SetVariable( left.name, rVal );
		// console.log("VAL " + environment.GetVariable( left.name ) );
		left.Eval(environment,function(lVal) {
			onReturn( lVal );
		});
	});
}
function equalExp(environment,left,right,onReturn) {
	// console.log("EVAL EQUAL");
	// console.log(left);
	// console.log(right);
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal === rVal );
		});
	});
}
function greaterExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal > rVal );
		});
	});
}
function lessExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal < rVal );
		});
	});
}
function greaterEqExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal >= rVal );
		});
	});
}
function lessEqExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal <= rVal );
		});
	});
}
function multExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal * rVal );
		});
	});
}
function divExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal / rVal );
		});
	});
}
function addExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal + rVal );
		});
	});
}
function subExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal - rVal );
		});
	});
}

/* ENVIRONMENT */
var Environment = function() {
	var dialogBuffer = null;
	this.SetDialogBuffer = function(buffer) { dialogBuffer = buffer; };
	this.GetDialogBuffer = function() { return dialogBuffer; };

	var functionMap = new Map();
	functionMap.set("print", printFunc);
	functionMap.set("say", printFunc);
	functionMap.set("br", linebreakFunc);
	functionMap.set("item", itemFunc);
	functionMap.set("rbw", rainbowFunc);
	functionMap.set("clr1", color1Func);
	functionMap.set("clr2", color2Func);
	functionMap.set("clr3", color3Func);
	functionMap.set("wvy", wavyFunc);
	functionMap.set("shk", shakyFunc);
	functionMap.set("printSprite", printSpriteFunc);
	functionMap.set("printTile", printTileFunc);
	functionMap.set("printItem", printItemFunc);
	functionMap.set("debugOnlyPrintFont", printFontFunc); // DEBUG ONLY

	// TODO : vNext
	// functionMap.set("changeAvatar", changeAvatarFunc);
	// functionMap.set("return", returnFunc);

	this.HasFunction = function(name) { return functionMap.has(name); };
	this.EvalFunction = function(name,parameters,onReturn) {
		// console.log(functionMap);
		// console.log(name);
		functionMap.get( name )( this, parameters, onReturn );
	}

	var variableMap = new Map();

	this.HasVariable = function(name) { return variableMap.has(name); };
	this.GetVariable = function(name) { return variableMap.get(name); };
	this.SetVariable = function(name,value,useHandler) {
		// console.log("SET VARIABLE " + name + " = " + value);
		if(useHandler === undefined) useHandler = true;
		variableMap.set(name, value);
		if(onVariableChangeHandler != null && useHandler)
			onVariableChangeHandler(name);
	};
	this.DeleteVariable = function(name,useHandler) {
		if(useHandler === undefined) useHandler = true;
		if(variableMap.has(name)) {
			variableMap.delete(name);
			if(onVariableChangeHandler != null && useHandler)
				onVariableChangeHandler(name);
		}
	};

	var operatorMap = new Map();
	operatorMap.set("=", setExp);
	operatorMap.set("==", equalExp);
	operatorMap.set(">", greaterExp);
	operatorMap.set("<", lessExp);
	operatorMap.set(">=", greaterEqExp);
	operatorMap.set("<=", lessEqExp);
	operatorMap.set("*", multExp);
	operatorMap.set("/", divExp);
	operatorMap.set("+", addExp);
	operatorMap.set("-", subExp);

	this.HasOperator = function(sym) { return operatorMap.get(sym); };
	this.EvalOperator = function(sym,left,right,onReturn) {
		operatorMap.get( sym )( this, left, right, onReturn );
	}

	var scriptMap = new Map();
	this.HasScript = function(name) { return scriptMap.has(name); };
	this.GetScript = function(name) { return scriptMap.get(name); };
	this.SetScript = function(name,script) { scriptMap.set(name, script); };

	var onVariableChangeHandler = null;
	this.SetOnVariableChangeHandler = function(onVariableChange) {
		onVariableChangeHandler = onVariableChange;
	}
	this.GetVariableNames = function() {
		return Array.from( variableMap.keys() );
	}
}

function leadingWhitespace(depth) {
	var str = "";
	for(var i = 0; i < depth; i++) {
		str += "  "; // two spaces per indent
	}
	// console.log("WHITESPACE " + depth + " ::" + str + "::");
	return str;
}

/* NODES */
var TreeRelationship = function() {
	this.parent = null;
	this.children = [];
	this.AddChild = function(node) {
		this.children.push( node );
		node.parent = this;
	};

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.children.length; i++ ) {
			this.children[i].VisitAll( visitor, depth + 1 );
		}
	};
}

function isReturnObject(val) {
	return typeof val === "object" && val != null
				&& val.isReturn != undefined && val.isReturn != null
				&& val.isReturn;
}

var BlockMode = {
	Code : "code",
	Dialog : "dialog"
};

var BlockNode = function(mode, doIndentFirstLine) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "block";
	this.mode = mode;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL BLOCK " + this.children.length);

		if( this.onEnter != null ) {
			this.onEnter();
		}

		var lastVal = null;
		var i = 0;

		function evalChildren(children,done) {
			if (i < children.length) {
				// console.log(">> CHILD " + i);
				children[i].Eval( environment, function(val) {
					// console.log("<< CHILD " + i);

					if (isReturnObject(val)) { // early return
						lastVal = val;
						done();
					}
					else {
						lastVal = val;
						i++;
						evalChildren(children,done);
					}
				} );
			}
			else {
				done();
			}
		};

		var self = this;
		evalChildren( this.children, function() {
			if( self.onExit != null ) {
				self.onExit();
			}
			onReturn(lastVal);
		} );
	}

	if(doIndentFirstLine === undefined) doIndentFirstLine = true; // This is just for serialization

	this.Serialize = function(depth) {
		if(depth === undefined) depth = 0;

		// console.log("SERIALIZE BLOCK!!!");
		// console.log(depth);
		// console.log(doIndentFirstLine);

		var str = "";
		var lastNode = null;
		if (this.mode === BlockMode.Code) str += "{"; // todo: increase scope of Sym?
		for (var i = 0; i < this.children.length; i++) {

			var curNode = this.children[i];

			if(curNode.type === "block" && lastNode && lastNode.type === "block" && !isBlockWithNoNewline(curNode) && !isBlockWithNoNewline(lastNode))
				str += "\n";

			var shouldIndentFirstLine = (i == 0 && doIndentFirstLine);
			var shouldIndentAfterLinebreak = (lastNode && lastNode.type === "function" && lastNode.name === "br");
			if(this.mode === BlockMode.Dialog && (shouldIndentFirstLine || shouldIndentAfterLinebreak))
				str += leadingWhitespace(depth);
			str += curNode.Serialize(depth);
			lastNode = curNode;
		}
		if (this.mode === BlockMode.Code) str += "}";
		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

function isBlockWithNoNewline(node) {
	return isTextEffectBlock(node) || isMultilineListBlock(node);
}

function isTextEffectBlock(node) {
	if(node.type === "block") {
		if(node.children.length > 0 && node.children[0].type === "function") {
			var func = node.children[0];
			if(func.name === "clr1" || func.name === "clr2" || func.name === "clr3" || func.name === "wvy" || func.name === "shk" || func.name === "rbw") {
				return true;
			}
		}
	}
	return false;
}

function isMultilineListBlock(node) {
	if(node.type === "block") {
		if(node.children.length > 0) {
			var child = node.children[0];
			if(child.type === "sequence" || child.type === "cycle" || child.type === "shuffle" || child.type === "if") {
				return true;
			}
		}
	}
	return false;
}

var FuncNode = function(name,arguments) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "function";
	this.name = name;
	this.arguments = arguments;

	this.Eval = function(environment,onReturn) {

		if( this.onEnter != null ) this.onEnter();

		// console.log("FUNC");
		// console.log(this.arguments);
		var argumentValues = [];
		var i = 0;
		function evalArgs(arguments,done) {
			if(i < arguments.length) {
				// Evaluate each argument
				arguments[i].Eval( environment, function(val) {
					argumentValues.push( val );
					i++;
					evalArgs(arguments,done);
				} );
			}
			else {
				done();
			}
		};
		var self = this; // hack to deal with scope
		evalArgs( this.arguments, function() {
			// Then evaluate the function
			// console.log("ARGS");
			// console.log(argumentValues);

			if( self.onExit != null ) self.onExit();

			environment.EvalFunction( self.name, argumentValues, onReturn );
		} );
	}

	this.Serialize = function(depth) {
		var isDialogBlock = this.parent.mode && this.parent.mode === BlockMode.Dialog;
		if(isDialogBlock && this.name === "print") {
			// TODO this could cause problems with "real" print functions
			return this.arguments[0].value; // first argument should be the text of the {print} func
		}
		else if(isDialogBlock && this.name === "br") {
			return "\n";
		}
		else {
			var str = "";
			str += this.name;
			for(var i = 0; i < this.arguments.length; i++) {
				str += " ";
				str += this.arguments[i].Serialize(depth);
			}
			return str;
		}
	}

	this.ToString = function() {
		return this.type + " " + this.name;
	};
}

var LiteralNode = function(value) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "literal";
	this.value = value;

	this.Eval = function(environment,onReturn) {
		onReturn(this.value);
	}

	this.Serialize = function(depth) {
		var str = "";

		if(this.value === null)
			return str;

		if(typeof this.value === "string") str += '"';
		str += this.value;
		if(typeof this.value === "string") str += '"';

		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.value;
	};
}

var VarNode = function(name) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "variable";
	this.name = name;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL " + this.name + " " + environment.HasVariable(this.name) + " " + environment.GetVariable(this.name));
		if( environment.HasVariable(this.name) )
			onReturn( environment.GetVariable( this.name ) );
		else
			onReturn(null); // not a valid variable -- return null and hope that's ok
	} // TODO: might want to store nodes in the variableMap instead of values???

	this.Serialize = function(depth) {
		var str = "" + this.name;
		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.name;
	};
}

var ExpNode = function(operator, left, right) {
	Object.assign( this, new TreeRelationship() );
	this.type = "operator";
	this.operator = operator;
	this.left = left;
	this.right = right;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL " + this.operator);
		var self = this; // hack to deal with scope
		environment.EvalOperator( this.operator, this.left, this.right, 
			function(val){
				// console.log("EVAL EXP " + self.operator + " " + val);
				onReturn(val);
			} );
		// NOTE : sadly this pushes a lot of complexity down onto the actual operator methods
	}

	this.Serialize = function(depth) {
		var isNegativeNumber = this.operator === "-" && this.left.type === "literal" && this.left.value === null;

		if(!isNegativeNumber) {
			var str = "";
			str += this.left.Serialize(depth);
			str += " " + this.operator + " ";
			str += this.right.Serialize(depth);
			return str;
		}
		else {
			return this.operator + this.right.Serialize(depth); // hacky but seems to work
		}
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		if(this.left != null)
			this.left.VisitAll( visitor, depth + 1 );
		if(this.right != null)
			this.right.VisitAll( visitor, depth + 1 );
	};

	this.ToString = function() {
		return this.type + " " + this.operator;
	};
}

var SequenceBase = function() {
	this.Serialize = function(depth) {
		var str = "";
		str += this.type + "\n";
		for (var i = 0; i < this.options.length; i++) {
			// console.log("SERIALIZE SEQUENCE ");
			// console.log(depth);
			str += leadingWhitespace(depth + 1) + Sym.List + " " + this.options[i].Serialize(depth + 2) + "\n";
		}
		str += leadingWhitespace(depth);
		return str;
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.options.length; i++ ) {
			this.options[i].VisitAll( visitor, depth + 1 );
		}
	};

	this.ToString = function() {
		return this.type;
	};
}

var SequenceNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "sequence";
	this.options = options;

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// console.log("SEQUENCE " + index);
		this.options[index].Eval( environment, onReturn );

		var next = index + 1;
		if(next < this.options.length)
			index = next;
	}
}

var CycleNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "cycle";
	this.options = options;

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// console.log("CYCLE " + index);
		this.options[index].Eval( environment, onReturn );

		var next = index + 1;
		if(next < this.options.length)
			index = next;
		else
			index = 0;
	}
}

var ShuffleNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "shuffle";
	this.options = options;

	var optionsShuffled = [];
	function shuffle(options) {
		optionsShuffled = [];
		var optionsUnshuffled = options.slice();
		while(optionsUnshuffled.length > 0) {
			var i = Math.floor( Math.random() * optionsUnshuffled.length );
			optionsShuffled.push( optionsUnshuffled.splice(i,1)[0] );
		}
	}
	shuffle(this.options);

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// OLD RANDOM VERSION
		// var index = Math.floor(Math.random() * this.options.length);
		// this.options[index].Eval( environment, onReturn );

		optionsShuffled[index].Eval( environment, onReturn );
		
		index++;
		if (index >= this.options.length) {
			shuffle(this.options);
			index = 0;
		}
	}
}

var IfNode = function(conditions, results, isSingleLine) {
	Object.assign( this, new TreeRelationship() );
	this.type = "if";
	this.conditions = conditions;
	this.results = results;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL IF");
		var i = 0;
		var self = this;
		function TestCondition() {
			// console.log("EVAL " + i);
			self.conditions[i].Eval(environment, function(val) {
				// console.log(val);
				if(val == true) {
					self.results[i].Eval(environment, onReturn);
				}
				else if(i+1 < self.conditions.length) {
					i++;
					TestCondition(); // test next condition
				}
				else {
					onReturn(null); // out of conditions and none were true
				}
			});
		};
		TestCondition();
	}

	if(isSingleLine === undefined) isSingleLine = false; // This is just for serialization

	this.Serialize = function(depth) {
		var str = "";
		if(isSingleLine) {
			str += this.conditions[0].Serialize() + " ? " + this.results[0].Serialize();
			if(this.conditions.length > 1 && this.conditions[1].type === "else")
				str += " : " + this.results[1].Serialize();
		}
		else {
			str += "\n";
			for (var i = 0; i < this.conditions.length; i++) {
				str += leadingWhitespace(depth + 1) + Sym.List + " " + this.conditions[i].Serialize(depth) + " ?\n";
				str += this.results[i].Serialize(depth + 2) + "\n";
			}
			str += leadingWhitespace(depth);
		}
		return str;
	}

	this.IsSingleLine = function() {
		return isSingleLine;
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.conditions.length; i++ ) {
			this.conditions[i].VisitAll( visitor, depth + 1 );
		}
		for( var i = 0; i < this.results.length; i++ ) {
			this.results[i].VisitAll( visitor, depth + 1 );
		}
	};

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

var ElseNode = function() {
	Object.assign( this, new TreeRelationship() );
	this.type = "else";

	this.Eval = function(environment,onReturn) {
		onReturn(true);
	}

	this.Serialize = function() {
		return "else";
	}

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

var Sym = {
	// DialogOpen : "/\"",
	// DialogClose : "\"/",
	DialogOpen : '"""',
	DialogClose : '"""',
	CodeOpen : "{",
	CodeClose : "}",
	Linebreak : "\n", // just call it "break" ?
	Separator : ":",
	List : "-",
	String : '"'
};

var Parser = function(env) {
	var environment = env;

	this.Parse = function(scriptStr) {
		// console.log("NEW PARSE!!!!!!");

		// TODO : make this work for single-line, no dialog block scripts

		var state = new ParserState( new BlockNode(BlockMode.Dialog), scriptStr );

		if( state.MatchAhead(Sym.DialogOpen) ) {
			// multi-line dialog block
			var dialogStr = state.ConsumeBlock( Sym.DialogOpen, Sym.DialogClose );
			state = new ParserState( new BlockNode(BlockMode.Dialog), dialogStr );
			state = ParseDialog( state );
		}
		// else if( state.MatchAhead(Sym.CodeOpen) ) { // NOTE: This causes problems when you lead with a code block
		// 	// code-block: should this ever happen?
		// 	state = ParseCodeBlock( state );
		// }
		else {
			// single-line dialog block
			state = ParseDialog( state );
		}

		// console.log( state.rootNode );
		return state.rootNode;
	};

	var ParserState = function( rootNode, str ) {
		this.rootNode = rootNode;
		this.curNode = this.rootNode;

		var sourceStr = str;
		var i = 0;
		this.Index = function() { return i; };
		this.Count = function() { return sourceStr.length; };
		this.Done = function() { return i >= sourceStr.length; };
		this.Char = function() { return sourceStr[i]; };
		this.Step = function(n) { if(n===undefined) n=1; i += n; };
		this.MatchAhead = function(str) {
			// console.log(str);
			str = "" + str; // hack to turn single chars into strings
			// console.log(str);
			// console.log(str.length);
			for(var j = 0; j < str.length; j++) {
				if( i + j >= sourceStr.length )
					return false;
				else if( str[j] != sourceStr[i+j] )
					return false;
			}
			return true;
		}
		this.Peak = function(end) {
			var str = "";
			var j = i;
			// console.log(j);
			while(j < sourceStr.length && end.indexOf( sourceStr[j] ) == -1 ) {
				str += sourceStr[j];
				j++;
			}
			// console.log("PEAK ::" + str + "::");
			return str;
		}
		this.ConsumeBlock = function( open, close ) {
			var startIndex = i;

			var matchCount = 0;
			if( this.MatchAhead( open ) ) {
				matchCount++;
				this.Step( open.length );
			}

			while( matchCount > 0 && !this.Done() ) {
				if( this.MatchAhead( close ) ) {
					matchCount--;
					this.Step( close.length );
				}
				else if( this.MatchAhead( open ) ) {
					matchCount++;
					this.Step( open.length );
				}
				else {
					this.Step();
				}
			}

			// console.log("!!! " + startIndex + " " + i);

			return sourceStr.slice( startIndex + open.length, i - close.length );
		}
		this.Print = function() { console.log(sourceStr); };
		this.Source = function() { return sourceStr; };
	};

	function ParseDialog(state) {
		// console.log("PARSE DIALOG");
		state.Print();

		// for linebreak logic: add linebreaks after lines with dialog or empty lines (if it's not the very first line)
		var hasBlock = false;
		var hasDialog = false;
		var isFirstLine = true;

		// console.log("---- PARSE DIALOG ----");

		var text = "";
		var addTextNode = function() {
			// console.log("TEXT " + text.length);
			if (text.length > 0) {
				// console.log("TEXT " + text);
				// console.log("text!!");
				// console.log([text]);

				state.curNode.AddChild( new FuncNode( "print", [new LiteralNode(text)] ) );
				text = "";

				hasDialog = true;
			}
		}

		while ( !state.Done() ) {

			if( state.MatchAhead(Sym.CodeOpen) ) {
				addTextNode();
				state = ParseCodeBlock( state );

				// console.log("CODE");

				var len = state.curNode.children.length;
				if(len > 0 && state.curNode.children[len-1].type === "block") {
					var block = state.curNode.children[len-1];
					if(isMultilineListBlock(block))
						hasDialog = true; // hack to get correct newline behavior for multiline blocks
				}

				hasBlock = true;
			}
			// NOTE: nested dialog blocks disabled for now
			// else if( state.MatchAhead(Sym.DialogOpen) ) {
			// 	addTextNode();
			// 	state = ParseDialogBlock( state ); // These can be nested (should they though???)

			// 	hasBlock = true;
			// }
			else {
				if ( state.MatchAhead(Sym.Linebreak) ) {
					addTextNode();

					/*
					NOTES:
					linebreaks SHOULD happen on
					- lines with text (including the first or last line)
					- empty lines (that are NOT the first or last line)
					linebreaks should NOT happen on
					- lines with only CODE blocks
					- empty FIRST or LAST lines

					also, apparently:
					- NEVER line break on the last line
					*/
					var isLastLine = (state.Index() + 1) == state.Count();
					// console.log("block " + hasBlock);
					// console.log("dialog " + hasDialog);
					var isEmptyLine = !hasBlock && !hasDialog;
					// console.log("empty " + isEmptyLine);
					var isValidEmptyLine = isEmptyLine && !(isFirstLine || isLastLine);
					// console.log("valid empty " + isValidEmptyLine);
					var shouldAddLinebreak = (hasDialog || isValidEmptyLine) && !isLastLine; // last clause is a hack (but it works - why?)
					// console.log("LINEBREAK? " + shouldAddLinebreak);
					if( shouldAddLinebreak ) {
						// console.log("NEWLINE");
						// console.log("empty? " + isEmptyLine);
						// console.log("dialog? " + hasDialog);
						state.curNode.AddChild( new FuncNode( "br", [] ) ); // use function or character?
					}

					// linebreak logic
					isFirstLine = false;
					hasBlock = false;
					hasDialog = false;

					text = "";
				}
				else {
					text += state.Char();
				}
				state.Step();
			}

		}
		addTextNode();

		// console.log("---- PARSE DIALOG ----");

		// console.log(state);
		return state;
	}

	function ParseDialogBlock(state) {
		var dialogStr = state.ConsumeBlock( Sym.DialogOpen, Sym.DialogClose );

		var dialogState = new ParserState( new BlockNode(BlockMode.Dialog), dialogStr );
		dialogState = ParseDialog( dialogState );

		state.curNode.AddChild( dialogState.rootNode );

		return state;
	}

	function ParseIf(state) {
		var conditionStrings = [];
		var resultStrings = [];
		var curIndex = -1;
		var isNewline = true;
		var isConditionDone = false;
		var codeBlockCount = 0;

		while( !state.Done() ) {
			if(state.Char() === Sym.CodeOpen)
				codeBlockCount++;
			else if(state.Char() === Sym.CodeClose)
				codeBlockCount--;

			var isWhitespace = (state.Char() === " " || state.Char() === "\t");
			var isSkippableWhitespace = isNewline && isWhitespace;
			var isNewListItem = isNewline && (codeBlockCount <= 0) && (state.Char() === Sym.List);

			if(isNewListItem) {
				curIndex++;
				isConditionDone = false;
				conditionStrings[curIndex] = "";
				resultStrings[curIndex] = "";
			}
			else if(curIndex > -1) {
				if(!isConditionDone) {
					if(state.Char() === "?" || state.Char() === "\n") { // TODO: use Sym
						// end of condition
						isConditionDone = true;
					}
					else {
						// read in condition
						conditionStrings[curIndex] += state.Char();
					}
				}
				else {
					// read in result
					if(!isSkippableWhitespace)
						resultStrings[curIndex] += state.Char();
				}
			}

			isNewline = (state.Char() === Sym.Linebreak) || isSkippableWhitespace || isNewListItem;

			state.Step();
		}

		// console.log("PARSE IF:");
		// console.log(conditionStrings);
		// console.log(resultStrings);

		var conditions = [];
		for(var i = 0; i < conditionStrings.length; i++) {
			var str = conditionStrings[i].trim();
			if(str === "else") {
				conditions.push( new ElseNode() );
			}
			else {
				var exp = CreateExpression( str );
				conditions.push( exp );
			}
		}

		var results = [];
		for(var i = 0; i < resultStrings.length; i++) {
			var str = resultStrings[i];
			var dialogBlockState = new ParserState( new BlockNode(BlockMode.Dialog), str );
			dialogBlockState = ParseDialog( dialogBlockState );
			var dialogBlock = dialogBlockState.rootNode;
			results.push( dialogBlock );
		}

		state.curNode.AddChild( new IfNode( conditions, results ) );

		return state;
	}

	function IsSequence(str) {
		// console.log("IsSequence? " + str);
		return str === "sequence" || str === "cycle" || str === "shuffle";
	}

	// TODO: don't forget about eating whitespace
	function ParseSequence(state, sequenceType) {
		// console.log("SEQUENCE " + sequenceType);
		state.Print();

		var isNewline = false;
		var itemStrings = [];
		var curItemIndex = -1; // -1 indicates not reading an item yet
		var codeBlockCount = 0;

		while( !state.Done() ) {
			if(state.Char() === Sym.CodeOpen)
				codeBlockCount++;
			else if(state.Char() === Sym.CodeClose)
				codeBlockCount--;

			var isWhitespace = (state.Char() === " " || state.Char() === "\t");
			var isSkippableWhitespace = isNewline && isWhitespace;
			var isNewListItem = isNewline && (codeBlockCount <= 0) && (state.Char() === Sym.List);

			if(isNewListItem) {
				// console.log("found next list item");
				curItemIndex++;
				itemStrings[curItemIndex] = "";
			}
			else if(curItemIndex > -1) {
				if(!isSkippableWhitespace)
					itemStrings[curItemIndex] += state.Char();
			}

			isNewline = (state.Char() === Sym.Linebreak) || isSkippableWhitespace || isNewListItem;

			// console.log(state.Char());
			state.Step();
		}
		// console.log(itemStrings);
		// console.log("SEQUENCE DONE");

		var options = [];
		for(var i = 0; i < itemStrings.length; i++) {
			var str = itemStrings[i];
			var dialogBlockState = new ParserState( new BlockNode( BlockMode.Dialog, false /* doIndentFirstLine */ ), str );
			dialogBlockState = ParseDialog( dialogBlockState );
			var dialogBlock = dialogBlockState.rootNode;
			options.push( dialogBlock );
		}

		// console.log(options);

		if(sequenceType === "sequence")
			state.curNode.AddChild( new SequenceNode( options ) );
		else if(sequenceType === "cycle")
			state.curNode.AddChild( new CycleNode( options ) );
		else if(sequenceType === "shuffle")
			state.curNode.AddChild( new ShuffleNode( options ) );

		return state;
	}

	function ParseFunction(state, funcName) {
		console.log("~~~ PARSE FUNCTION " + funcName);

		var args = [];

		var curSymbol = "";
		function OnSymbolEnd() {
			curSymbol = curSymbol.trim();
			// console.log("PARAMTER " + curSymbol);
			args.push( StringToValue(curSymbol) );
			// console.log(args);
			curSymbol = "";
		}

		while( !( state.Char() === "\n" || state.Done() ) ) {
			if( state.MatchAhead(Sym.CodeOpen) ) {
				var codeBlockState = new ParserState( new BlockNode(BlockMode.Code), state.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose ) );
				codeBlockState = ParseCode( codeBlockState );
				var codeBlock = codeBlockState.rootNode;
				args.push( codeBlock );
				curSymbol = "";
			}
			else if( state.MatchAhead(Sym.String) ) {
				/* STRING LITERAL */
				var str = state.ConsumeBlock(Sym.String, Sym.String);
				// console.log("STRING " + str);
				args.push( new LiteralNode(str) );
				curSymbol = "";
			}
			else if(state.Char() === " " && curSymbol.length > 0) {
				OnSymbolEnd();
			}
			else {
				curSymbol += state.Char();
			}
			state.Step();
		}

		if(curSymbol.length > 0) {
			OnSymbolEnd();
		}

		state.curNode.AddChild( new FuncNode( funcName, args ) );

		return state;
	}

	function IsValidVariableName(str) {
		var reg = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;
		var isValid = reg.test(str);
		// console.log("VALID variable??? " + isValid);
		return isValid;
	}

	function StringToValue(valStr) {
		if(valStr[0] === Sym.CodeOpen) {
			// CODE BLOCK!!!
			var codeStr = (new ParserState( null, valStr )).ConsumeBlock(Sym.CodeOpen, Sym.CodeClose); //hacky
			var codeBlockState = new ParserState( new BlockNode( BlockMode.Code ), codeStr );
			codeBlockState = ParseCode( codeBlockState );
			return codeBlockState.rootNode;
		}
		else if(valStr[0] === Sym.String) {
			// STRING!!
			// console.log("STRING");
			var str = "";
			var i = 1;
			while (i < valStr.length && valStr[i] != Sym.String) {
				str += valStr[i];
				i++;
			}
			// console.log(str);
			return new LiteralNode( str );
		}
		else if(valStr === "true") {
			// BOOL
			return new LiteralNode( true );
		}
		else if(valStr === "false") {
			// BOOL
			return new LiteralNode( false );
		}
		else if( !isNaN(parseFloat(valStr)) ) {
			// NUMBER!!
			// console.log("NUMBER!!! " + valStr);
			return new LiteralNode( parseFloat(valStr) );
		}
		else if(IsValidVariableName(valStr)) {
			// VARIABLE!!
			// console.log("VARIABLE");
			return new VarNode(valStr); // TODO : check for valid potential variables
		}
		else {
			// uh oh
			return new LiteralNode(null);
		}
	}

	var setSymbol = "=";
	var ifSymbol = "?";
	var elseSymbol = ":";
	var operatorSymbols = ["==", ">=", "<=", ">", "<", "-", "+", "/", "*"]; // operators need to be in reverse order of precedence
	function CreateExpression(expStr) {
		console.log("CREATE EXPRESSION --- " + expStr);

		expStr = expStr.trim();

		function IsInsideString(index) {
			var inString = false;
			for(var i = 0; i < expStr.length; i++) {
				if(expStr[i] === Sym.String)
					inString = !inString;

				if(index === i)
					return inString;
			}
			return false;
		}

		function IsInsideCode(index) {
			var count = 0;
			for(var i = 0; i < expStr.length; i++) {
				if(expStr[i] === Sym.CodeOpen)
					count++;
				else if(expStr[i] === Sym.CodeClose)
					count--;

				if(index === i)
					return count > 0;
			}
			return false;
		}

		var operator = null;

		// set is special because other operator can look like it, and it has to go first in the order of operations
		var setIndex = expStr.indexOf(setSymbol);
		if( setIndex > -1 && !IsInsideString(setIndex) && !IsInsideCode(setIndex) ) { // it might be a set operator
			if( expStr[setIndex+1] != "=" && expStr[setIndex-1] != ">" && expStr[setIndex-1] != "<" ) {
				// ok it actually IS a set operator and not ==, >=, or <=
				operator = setSymbol;
				var variableName = expStr.substring(0,setIndex).trim(); // TODO : valid variable name testing
				var left = IsValidVariableName(variableName) ? new VarNode( variableName ) : new LiteralNode(null);
				var right = CreateExpression( expStr.substring(setIndex+setSymbol.length) );
				var exp = new ExpNode( operator, left, right );
				return exp;
			}
		}

		// special if "expression" for single-line if statements
		var ifIndex = expStr.indexOf(ifSymbol);
		if( ifIndex > -1 && !IsInsideString(ifIndex) && !IsInsideCode(ifIndex) ) {
			operator = ifSymbol;
			var conditionStr = expStr.substring(0,ifIndex).trim();
			var conditions = [ CreateExpression(conditionStr) ];

			var resultStr = expStr.substring(ifIndex+ifSymbol.length);
			var results = [];
			function AddResult(str) {
				var dialogBlockState = new ParserState( new BlockNode(BlockMode.Dialog), str );
				dialogBlockState = ParseDialog( dialogBlockState );
				var dialogBlock = dialogBlockState.rootNode;
				results.push( dialogBlock );
			}

			var elseIndex = resultStr.indexOf(elseSymbol); // does this need to test for strings?
			if(elseIndex > -1) {
				conditions.push( new ElseNode() );

				var elseStr = resultStr.substring(elseIndex+elseSymbol.length);
				var resultStr = resultStr.substring(0,elseIndex);

				AddResult( resultStr.trim() );
				AddResult( elseStr.trim() );
			}
			else {
				AddResult( resultStr.trim() );
			}

			return new IfNode( conditions, results, true /*isSingleLine*/ );
		}

		for( var i = 0; (operator == null) && (i < operatorSymbols.length); i++ ) {
			var opSym = operatorSymbols[i];
			var opIndex = expStr.indexOf( opSym );
			if( opIndex > -1 && !IsInsideString(opIndex) && !IsInsideCode(opIndex) ) {
				operator = opSym;
				var left = CreateExpression( expStr.substring(0,opIndex) );
				var right = CreateExpression( expStr.substring(opIndex+opSym.length) );
				var exp = new ExpNode( operator, left, right );
				return exp;
			}
		}

		if( operator == null ) {
			return StringToValue(expStr);
		}
	}
	this.CreateExpression = CreateExpression;

	function IsWhitespace(str) {
		return ( str === " " || str === "\t" || str === "\n" );
	}

	function IsExpression(str) {
		var tempState = new ParserState(null, str); // hacky
		var nonWhitespaceCount = 0;

		while (!tempState.Done()) {
			if( IsWhitespace(tempState.Char()) ) {
				tempState.Step(); // consume whitespace
			}
			else if( tempState.MatchAhead(Sym.CodeOpen) ) {
				tempState.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose );
			}
			else {
				nonWhitespaceCount++;
				tempState.Step();
			}
		}

		var isExpression = nonWhitespaceCount > 0;
		return isExpression;
	}

	function ParseExpression(state) {
		var line = state.Source(); // state.Peak( [Sym.Linebreak] ); // TODO : remove the linebreak thing
		// console.log("EXPRESSION " + line);
		var exp = CreateExpression( line );
		// console.log(exp);
		state.curNode.AddChild( exp );
		state.Step( line.length );
		return state;
	}

	function ParseCode(state) {
		console.log("PARSE CODE --- " + state.Source());

		// skip leading whitespace
		while (IsWhitespace(state.Char())) {
			state.Step();
		}

		if( state.Char() === Sym.List && (state.Peak([]).indexOf("?") > -1) ) { // TODO : symbols? matchahead?
			// console.log("PEAK IF " + state.Peak( ["?"] ));
			state = ParseIf( state );
		}
		else if( environment.HasFunction( state.Peak( [" "] ) ) ) { // TODO --- what about newlines???
			var funcName = state.Peak( [" "] );
			state.Step( funcName.length );
			state = ParseFunction( state, funcName );
		}
		else if( IsSequence( state.Peak( [" ", Sym.Linebreak] ) ) ) {
			var sequenceType = state.Peak( [" ", Sym.Linebreak] );
			state.Step( sequenceType.length );
			state = ParseSequence( state, sequenceType );
		}
		else if (IsExpression(state.Source())) {
			state = ParseExpression(state);
		}
		else {
			// multi-line code block
			while (!state.Done()) {
				if( state.MatchAhead(Sym.CodeOpen) ) {
					state = ParseCodeBlock( state );
				}
				else {
					state.Step();
				}
			}
		}

		// just go to the end now
		while (!state.Done()) {
			state.Step();
		}

		return state;
	}

	function ParseCodeBlock(state) {
		var codeStr = state.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose );

		// console.log("PARSE CODE");
		// console.log(codeStr);

		var codeState = new ParserState( new BlockNode(BlockMode.Code), codeStr );
		codeState = ParseCode( codeState );
		
		state.curNode.AddChild( codeState.rootNode );

		return state;
	}

}

} // Script()
</script>

<script>
function Dialog() {

this.CreateRenderer = function() {
	return new DialogRenderer();
};

this.CreateBuffer = function() {
	return new DialogBuffer();
};

var DialogRenderer = function() {

	// TODO : refactor this eventually? remove everything from struct.. avoid the defaults?
	var textboxInfo = {
		img : null,
		width : 104,
		height : 8+4+2+5, //8 for text, 4 for top-bottom padding, 2 for line padding, 5 for arrow
		top : 12,
		left : 12,
		bottom : 12, //for drawing it from the bottom
		font_scale : 0.5, // we draw font at half-size compared to everything else
		padding_vert : 2,
		padding_horz : 4,
		arrow_height : 5,
	};

	var font = null;
	this.SetFont = function(f) {
		font = f;
		textboxInfo.height = (textboxInfo.padding_vert * 3) + (relativeFontHeight() * 2) + textboxInfo.arrow_height;
		textboxInfo.img = context.createImageData(textboxInfo.width*scale, textboxInfo.height*scale);
	}

	function textScale() {
		return scale * textboxInfo.font_scale;
	}

	function relativeFontWidth() {
		return Math.ceil( font.getWidth() * textboxInfo.font_scale );
	}

	function relativeFontHeight() {
		return Math.ceil( font.getHeight() * textboxInfo.font_scale );
	}

	var context = null;
	this.AttachContext = function(c) {
		context = c;
	};

	this.ClearTextbox = function() {
		if(context == null) return;

		//create new image none exists
		if(textboxInfo.img == null)
			textboxInfo.img = context.createImageData(textboxInfo.width*scale, textboxInfo.height*scale);

		// fill text box with black
		for (var i=0;i<textboxInfo.img.data.length;i+=4)
		{
			textboxInfo.img.data[i+0]=0;
			textboxInfo.img.data[i+1]=0;
			textboxInfo.img.data[i+2]=0;
			textboxInfo.img.data[i+3]=255;
		}
	};

	var isCentered = false;
	this.SetCentered = function(centered) {
		isCentered = centered;
	};

	this.DrawTextbox = function() {
		if(context == null) return;
		if (isCentered) {
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, ((height/2)-(textboxInfo.height/2))*scale);
		}
		else if (player().y < mapsize/2) {
			//bottom
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, (height-textboxInfo.bottom-textboxInfo.height)*scale);
		}
		else {
			//top
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, textboxInfo.top*scale);
		}
	};

	var arrowdata = [
		1,1,1,1,1,
		0,1,1,1,0,
		0,0,1,0,0
	];
	this.DrawNextArrow = function() {
		// console.log("draw arrow!");
		var top = (textboxInfo.height-5) * scale;
		var left = (textboxInfo.width-(5+4)) * scale;
		if (textDirection === TextDirection.RightToLeft) { // RTL hack
			left = 4 * scale;
		}

		for (var y = 0; y < 3; y++) {
			for (var x = 0; x < 5; x++) {
				var i = (y * 5) + x;
				if (arrowdata[i] == 1) {
					//scaling nonsense
					for (var sy = 0; sy < scale; sy++) {
						for (var sx = 0; sx < scale; sx++) {
							var pxl = 4 * ( ((top+(y*scale)+sy) * (textboxInfo.width*scale)) + (left+(x*scale)+sx) );
							textboxInfo.img.data[pxl+0] = 255;
							textboxInfo.img.data[pxl+1] = 255;
							textboxInfo.img.data[pxl+2] = 255;
							textboxInfo.img.data[pxl+3] = 255;
						}
					}
				}
			}
		}
	};

	var text_scale = 2; //using a different scaling factor for text feels like cheating... but it looks better
	this.DrawChar = function(char, row, col, leftPos) {
		char.offset = {
			x: char.base_offset.x,
			y: char.base_offset.y
		}; // compute render offset *every* frame

		char.SetPosition(row,col);
		char.ApplyEffects(effectTime);

		var charData = char.bitmap;

		var top = (4 * scale) + (row * 2 * scale) + (row * font.getHeight() * text_scale) + Math.floor( char.offset.y );
		var left = (4 * scale) + (leftPos * text_scale) + Math.floor( char.offset.x );

		var debug_r = Math.random() * 255;

		for (var y = 0; y < char.height; y++) {
			for (var x = 0; x < char.width; x++) {

				var i = (y * char.width) + x;
				if ( charData[i] == 1 ) {

					//scaling nonsense
					for (var sy = 0; sy < text_scale; sy++) {
						for (var sx = 0; sx < text_scale; sx++) {
							var pxl = 4 * ( ((top+(y*text_scale)+sy) * (textboxInfo.width*scale)) + (left+(x*text_scale)+sx) );
							textboxInfo.img.data[pxl+0] = char.color.r;
							textboxInfo.img.data[pxl+1] = char.color.g;
							textboxInfo.img.data[pxl+2] = char.color.b;
							textboxInfo.img.data[pxl+3] = char.color.a;
						}
					}
				}
				// else {
				// 	// DEBUG

				// 	//scaling nonsense
				// 	for (var sy = 0; sy < text_scale; sy++) {
				// 		for (var sx = 0; sx < text_scale; sx++) {
				// 			var pxl = 4 * ( ((top+(y*text_scale)+sy) * (textboxInfo.width*scale)) + (left+(x*text_scale)+sx) );
				// 			textboxInfo.img.data[pxl+0] = debug_r;
				// 			textboxInfo.img.data[pxl+1] = 0;
				// 			textboxInfo.img.data[pxl+2] = 0;
				// 			textboxInfo.img.data[pxl+3] = 255;
				// 		}
				// 	}
				// }

			}
		}
		
		// call printHandler for character
		char.OnPrint();
	};

	var effectTime = 0; // TODO this variable should live somewhere better
	this.Draw = function(buffer,dt) {
		effectTime += dt;

		this.ClearTextbox();

		buffer.ForEachActiveChar( this.DrawChar );

		if( buffer.CanContinue() )
			this.DrawNextArrow();

		this.DrawTextbox();

		if( buffer.DidPageFinishThisFrame() && onPageFinish != null )
			onPageFinish();
	};

	/* this is a hook for GIF rendering */
	var onPageFinish = null;
	this.SetPageFinishHandler = function(handler) {
		onPageFinish = handler;
	};

	this.Reset = function() {
		effectTime = 0;
		// TODO - anything else?
	}

	// this.CharsPerRow = function() {
	// 	return textboxInfo.charsPerRow;
	// }
}


var DialogBuffer = function() {
	var buffer = [[[]]]; // holds dialog in an array buffer
	var pageIndex = 0;
	var rowIndex = 0;
	var charIndex = 0;
	var nextCharTimer = 0;
	var nextCharMaxTime = 50; // in milliseconds
	var isDialogReadyToContinue = false;
	var activeTextEffects = [];
	var font = null;
	var arabicHandler = new ArabicHandler();
	var onDialogEndCallbacks = [];

	this.SetFont = function(f) {
		font = f;
	}

	this.CurPage = function() { return buffer[ pageIndex ]; };
	this.CurRow = function() { return this.CurPage()[ rowIndex ]; };
	this.CurChar = function() { return this.CurRow()[ charIndex ]; };
	this.CurPageCount = function() { return buffer.length; };
	this.CurRowCount = function() { return this.CurPage().length; };
	this.CurCharCount = function() { return this.CurRow().length; };

	this.ForEachActiveChar = function(handler) { // Iterates over visible characters on the active page
		var rowCount = rowIndex + 1;
		for (var i = 0; i < rowCount; i++) {
			var row = this.CurPage()[i];
			var charCount = (i == rowIndex) ? charIndex+1 : row.length;
			// console.log(charCount);

			var leftPos = 0;
			if (textDirection === TextDirection.RightToLeft) {
				leftPos = 24 * 8; // hack -- I think this is correct?
			}

			for(var j = 0; j < charCount; j++) {
				var char = row[j];
				if(char) {
					if (textDirection === TextDirection.RightToLeft) {
						leftPos -= char.spacing;
					}
					// console.log(j + " " + leftPos);

					// handler( char, i /*rowIndex*/, j /*colIndex*/ );
					handler(char, i /*rowIndex*/, j /*colIndex*/, leftPos)

					if (textDirection === TextDirection.LeftToRight) {
						leftPos += char.spacing;
					}
				}
			}
		}
	}

	this.Reset = function() {
		buffer = [[[]]];
		pageIndex = 0;
		rowIndex = 0;
		charIndex = 0;
		isDialogReadyToContinue = false;

		activeTextEffects = [];

		onDialogEndCallbacks = [];

		isActive = false;
	};

	this.DoNextChar = function() {
		// console.log("DO NEXT CHAR");

		nextCharTimer = 0; //reset timer

		//time to update characters
		if (charIndex + 1 < this.CurCharCount()) {
			//add char to current row
			charIndex++;
		}
		else if (rowIndex + 1 < this.CurRowCount()) {
			//start next row
			rowIndex++;
			charIndex = 0;
		}
		else {
			//the page is full!
			isDialogReadyToContinue = true;
			didPageFinishThisFrame = true;

			// console.log("WAITING FOR INPUT");
		}

		// console.log(this.CurChar());
		if(this.CurChar() != null)
			this.CurChar().OnPrint(); // make sure we hit the callback before we run out of text
	};

	this.Update = function(dt) {
		didPageFinishThisFrame = false;
		didFlipPageThisFrame = false;
		// this.Draw(dt); // TODO move into a renderer object
		if (isDialogReadyToContinue) {
			return; //waiting for dialog to be advanced by player
		}

		nextCharTimer += dt; //tick timer

		if (nextCharTimer > nextCharMaxTime) {
			this.DoNextChar();
		}
	};

	this.Skip = function() {
		console.log("SKIPPP");
		didPageFinishThisFrame = false;
		didFlipPageThisFrame = false;
		// add new characters until you get to the end of the current line of dialog
		while (rowIndex < this.CurRowCount()) {
			this.DoNextChar();

			if(isDialogReadyToContinue) {
				//make sure to push the rowIndex past the end to break out of the loop
				rowIndex++;
				charIndex = 0;
			}
		}
		rowIndex = this.CurRowCount()-1;
		charIndex = this.CurCharCount()-1;
	};

	this.FlipPage = function() {
		didFlipPageThisFrame = true;
		isDialogReadyToContinue = false;
		pageIndex++;
		rowIndex = 0;
		charIndex = 0;
	}

	this.EndDialog = function() {
		isActive = false; // no more text to show... this should be a sign to stop rendering dialog

		for (var i = 0; i < onDialogEndCallbacks.length; i++) {
			onDialogEndCallbacks[i]();
		}
	}

	this.Continue = function() {
		console.log("CONTINUE");
		if (pageIndex + 1 < this.CurPageCount()) {
			//start next page
			this.FlipPage();
			return true; /* hasMoreDialog */
		}
		else {
			//end dialog mode
			this.EndDialog();
			return false; /* hasMoreDialog */
		}
	};

	var isActive = false;
	this.IsActive = function() { return isActive; };

	this.OnDialogEnd = function(callback) {
		if (!isActive) {
			callback();
		}
		else {
			onDialogEndCallbacks.push(callback);
		}
	}

	this.CanContinue = function() { return isDialogReadyToContinue; };

	function DialogChar(effectList) {
		this.effectList = effectList.slice(); // clone effect list (since it can change between chars)

		this.color = { r:255, g:255, b:255, a:255 };
		this.offset = { x:0, y:0 }; // in pixels (screen pixels?)

		this.col = 0;
		this.row = 0;

		this.SetPosition = function(row,col) {
			// console.log("SET POS");
			// console.log(this);
			this.row = row;
			this.col = col;
		}

		this.ApplyEffects = function(time) {
			// console.log("APPLY EFFECTS! " + time);
			for(var i = 0; i < this.effectList.length; i++) {
				var effectName = this.effectList[i];
				// console.log("FX " + effectName);
				TextEffects[ effectName ].DoEffect( this, time );
			}
		}

		var printHandler = null; // optional function to be called once on printing character
		this.SetPrintHandler = function(handler) {
			printHandler = handler;
		}
		this.OnPrint = function() {
			if (printHandler != null) {
				console.log("PRINT HANDLER ---- DIALOG BUFFER");
				printHandler();
				printHandler = null; // only call handler once (hacky)
			}
		}

		this.bitmap = [];
		this.width = 0;
		this.height = 0;
		this.base_offset = { // hacky name
 			x: 0,
			y: 0
		};
		this.spacing = 0;
	}

	function DialogFontChar(font, char, effectList) {
		Object.assign(this, new DialogChar(effectList));

		var charData = font.getChar(char);
		this.bitmap = charData.data;
		this.width = charData.width;
		this.height = charData.height;
		this.base_offset.x = charData.offset.x;
		this.base_offset.y = charData.offset.y;
		this.spacing = charData.spacing;
	}

	function DialogDrawingChar(drawingId, effectList) {
		Object.assign(this, new DialogChar(effectList));

		var imageData = renderer.GetImageSource(drawingId)[0];
		var imageDataFlat = [];
		for (var i = 0; i < imageData.length; i++) {
			// console.log(imageData[i]);
			imageDataFlat = imageDataFlat.concat(imageData[i]);
		}

		this.bitmap = imageDataFlat;
		this.width = 8;
		this.height = 8;
		this.spacing = 8;
	}

	function AddWordToCharArray(charArray,word,effectList) {
		for(var i = 0; i < word.length; i++) {
			charArray.push( new DialogFontChar( font, word[i], effectList ) );
		}
		return charArray;
	}

	function GetCharArrayWidth(charArray) {
		var width = 0;
		for(var i = 0; i < charArray.length; i++) {
			width += charArray[i].spacing;
		}
		return width;
	}

	function GetStringWidth(str) {
		var width = 0;
		for (var i = 0; i < str.length; i++) {
			var charData = font.getChar(str[i]);
			width += charData.spacing;
		}
		return width;
	}

	var pixelsPerRow = 192; // hard-coded fun times!!!

	this.AddDrawing = function(drawingId, onFinishHandler) {
		// console.log("DRAWING ID " + drawingId);

		var curPageIndex = buffer.length - 1;
		var curRowIndex = buffer[curPageIndex].length - 1;
		var curRowArr = buffer[curPageIndex][curRowIndex];

		var drawingChar = new DialogDrawingChar(drawingId, activeTextEffects)
		drawingChar.SetPrintHandler( onFinishHandler );

		var rowLength = GetCharArrayWidth(curRowArr);

		// TODO : clean up copy-pasted code here :/
		if (rowLength + drawingChar.spacing  <= pixelsPerRow || rowLength <= 0)
		{
			//stay on same row
			curRowArr.push( drawingChar );
		}
		else if (curRowIndex == 0)
		{
			//start next row
			buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
			buffer[ curPageIndex ].push( [] );
			curRowIndex++;
			curRowArr = buffer[ curPageIndex ][ curRowIndex ];
			curRowArr.push( drawingChar );
		}
		else {
			//start next page
			buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
			buffer.push( [] );
			curPageIndex++;
			buffer[ curPageIndex ].push( [] );
			curRowIndex = 0;
			curRowArr = buffer[ curPageIndex ][ curRowIndex ];
			curRowArr.push( drawingChar );
		}

		isActive = true; // this feels like a bad way to do this???
	}

	// TODO : convert this into something that takes DialogChar arrays
	this.AddText = function(textStr,onFinishHandler) {
		// console.log("ADD TEXT " + textStr);

		//process dialog so it's easier to display
		var words = textStr.split(" ");

		// var curPageIndex = this.CurPageCount() - 1;
		// var curRowIndex = this.CurRowCount() - 1;
		// var curRowArr = this.CurRow();

		var curPageIndex = buffer.length - 1;
		var curRowIndex = buffer[curPageIndex].length - 1;
		var curRowArr = buffer[curPageIndex][curRowIndex];

		for (var i = 0; i < words.length; i++) {
			var word = words[i];
			if (arabicHandler.ContainsArabicCharacters(word)) {
				word = arabicHandler.ShapeArabicCharacters(word);
			}

			var wordWithPrecedingSpace = ((i == 0) ? "" : " ") + word;
			var wordLength = GetStringWidth( wordWithPrecedingSpace );

			var rowLength = GetCharArrayWidth(curRowArr);

			if (rowLength + wordLength <= pixelsPerRow || rowLength <= 0) {
				//stay on same row
				curRowArr = AddWordToCharArray( curRowArr, wordWithPrecedingSpace, activeTextEffects );
			}
			else if (curRowIndex == 0) {
				//start next row
				buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
				buffer[ curPageIndex ].push( [] );
				curRowIndex++;
				curRowArr = buffer[ curPageIndex ][ curRowIndex ];
				curRowArr = AddWordToCharArray( curRowArr, word, activeTextEffects );
			}
			else {
				//start next page
				buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
				buffer.push( [] );
				curPageIndex++;
				buffer[ curPageIndex ].push( [] );
				curRowIndex = 0;
				curRowArr = buffer[ curPageIndex ][ curRowIndex ];
				curRowArr = AddWordToCharArray( curRowArr, word, activeTextEffects );
			}
		}

		//destroy any empty stuff
		var lastPage = buffer[ buffer.length-1 ];
		var lastRow = lastPage[ lastPage.length-1 ];
		if( lastRow.length == 0 )
			lastPage.splice( lastPage.length-1, 1 );
		if( lastPage.length == 0 )
			buffer.splice( buffer.length-1, 1 );

		//finish up 
		lastPage = buffer[ buffer.length-1 ];
		lastRow = lastPage[ lastPage.length-1 ];
		if( lastRow.length > 0 ) {
			var lastChar = lastRow[ lastRow.length-1 ];
			lastChar.SetPrintHandler( onFinishHandler );
		}

		console.log(buffer);

		isActive = true;
	};

	this.AddLinebreak = function() {
		var lastPage = buffer[ buffer.length-1 ];
		if( lastPage.length <= 1 ) {
			console.log("LINEBREAK - NEW ROW ");
			// add new row
			lastPage.push( [] );
		}
		else {
			// add new page
			buffer.push( [[]] );
		}
		console.log(buffer);

		isActive = true;
	}

	/* new text effects */
	this.HasTextEffect = function(name) {
		return activeTextEffects.indexOf( name ) > -1;
	}
	this.AddTextEffect = function(name) {
		activeTextEffects.push( name );
	}
	this.RemoveTextEffect = function(name) {
		activeTextEffects.splice( activeTextEffects.indexOf( name ), 1 );
	}

	/* this is a hook for GIF rendering */
	var didPageFinishThisFrame = false;
	this.DidPageFinishThisFrame = function(){ return didPageFinishThisFrame; };

	var didFlipPageThisFrame = false;
	this.DidFlipPageThisFrame = function(){ return didFlipPageThisFrame; };

	// this.SetCharsPerRow = function(num){ charsPerRow = num; }; // hacky
};

/* ARABIC */
var ArabicHandler = function() {

	var arabicCharStart = 0x0621;
	var arabicCharEnd = 0x064E;

	var CharacterForm = {
		Isolated : 0,
		Final : 1,
		Initial : 2,
		Middle : 3
	};

	// map glyphs to their character forms
	var glyphForms = {
		/*		 Isolated, Final, Initial, Middle Forms	*/
		0x0621: [0xFE80,0xFE80,0xFE80,0xFE80], /*  HAMZA  */ 
		0x0622: [0xFE81,0xFE82,0xFE81,0xFE82], /*  ALEF WITH MADDA ABOVE  */ 
		0x0623: [0xFE83,0xFE84,0xFE83,0xFE84], /*  ALEF WITH HAMZA ABOVE  */ 
		0x0624: [0xFE85,0xFE86,0xFE85,0xFE86], /*  WAW WITH HAMZA ABOVE  */ 
		0x0625: [0xFE87,0xFE88,0xFE87,0xFE88], /*  ALEF WITH HAMZA BELOW  */ 
		0x0626: [0xFE89,0xFE8A,0xFE8B,0xFE8C], /*  YEH WITH HAMZA ABOVE  */ 
		0x0627: [0xFE8D,0xFE8E,0xFE8D,0xFE8E], /*  ALEF  */ 
		0x0628: [0xFE8F,0xFE90,0xFE91,0xFE92], /*  BEH  */ 
		0x0629: [0xFE93,0xFE94,0xFE93,0xFE94], /*  TEH MARBUTA  */ 
		0x062A: [0xFE95,0xFE96,0xFE97,0xFE98], /*  TEH  */ 
		0x062B: [0xFE99,0xFE9A,0xFE9B,0xFE9C], /*  THEH  */ 
		0x062C: [0xFE9D,0xFE9E,0xFE9F,0xFEA0], /*  JEEM  */ 
		0x062D: [0xFEA1,0xFEA2,0xFEA3,0xFEA4], /*  HAH  */ 
		0x062E: [0xFEA5,0xFEA6,0xFEA7,0xFEA8], /*  KHAH  */ 
		0x062F: [0xFEA9,0xFEAA,0xFEA9,0xFEAA], /*  DAL  */ 
		0x0630: [0xFEAB,0xFEAC,0xFEAB,0xFEAC], /*  THAL */ 
		0x0631: [0xFEAD,0xFEAE,0xFEAD,0xFEAE], /*  RAA  */ 
		0x0632: [0xFEAF,0xFEB0,0xFEAF,0xFEB0], /*  ZAIN  */ 
		0x0633: [0xFEB1,0xFEB2,0xFEB3,0xFEB4], /*  SEEN  */ 
		0x0634: [0xFEB5,0xFEB6,0xFEB7,0xFEB8], /*  SHEEN  */ 
		0x0635: [0xFEB9,0xFEBA,0xFEBB,0xFEBC], /*  SAD  */ 
		0x0636: [0xFEBD,0xFEBE,0xFEBF,0xFEC0], /*  DAD  */ 
		0x0637: [0xFEC1,0xFEC2,0xFEC3,0xFEC4], /*  TAH  */ 
		0x0638: [0xFEC5,0xFEC6,0xFEC7,0xFEC8], /*  ZAH  */ 
		0x0639: [0xFEC9,0xFECA,0xFECB,0xFECC], /*  AIN  */ 
		0x063A: [0xFECD,0xFECE,0xFECF,0xFED0], /*  GHAIN  */ 
		0x063B: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063C: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063D: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063E: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063F: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x0640: [0x0640,0x0640,0x0640,0x0640], /*  TATWEEL  */ 
		0x0641: [0xFED1,0xFED2,0xFED3,0xFED4], /*  FAA  */ 
		0x0642: [0xFED5,0xFED6,0xFED7,0xFED8], /*  QAF  */ 
		0x0643: [0xFED9,0xFEDA,0xFEDB,0xFEDC], /*  KAF  */ 
		0x0644: [0xFEDD,0xFEDE,0xFEDF,0xFEE0], /*  LAM  */ 
		0x0645: [0xFEE1,0xFEE2,0xFEE3,0xFEE4], /*  MEEM  */ 
		0x0646: [0xFEE5,0xFEE6,0xFEE7,0xFEE8], /*  NOON  */ 
		0x0647: [0xFEE9,0xFEEA,0xFEEB,0xFEEC], /*  HEH  */ 
		0x0648: [0xFEED,0xFEEE,0xFEED,0xFEEE], /*  WAW  */ 
		0x0649: [0xFEEF,0xFEF0,0xFBE8,0xFBE9], /*  ALEF MAKSURA  */ 
		0x064A: [0xFEF1,0xFEF2,0xFEF3,0xFEF4], /*  YEH  */ 
		0x064B: [0xFEF5,0xFEF6,0xFEF5,0xFEF6], /*  LAM ALEF MADD*/
		0x064C: [0xFEF7,0xFEF8,0xFEF7,0xFEF8], /*  LAM ALEF HAMZA ABOVE*/
		0x064D: [0xFEF9,0xFEFa,0xFEF9,0xFEFa], /*  LAM ALEF HAMZA BELOW*/
		0x064E: [0xFEFb,0xFEFc,0xFEFb,0xFEFc], /*  LAM ALEF */
	};

	var disconnectedCharacters = [0x0621,0x0622,0x0623,0x0624,0x0625,0x0627,0x062f,0x0630,0x0631,0x0632,0x0648,0x0649,0x064b,0x064c,0x064d,0x064e];

	function IsArabicCharacter(char) {
		var code = char.charCodeAt(0);
		return (code >= arabicCharStart && code <= arabicCharEnd);
	}

	function ContainsArabicCharacters(word) {
		for (var i = 0; i < word.length; i++) {
			if (IsArabicCharacter(word[i])) {
				return true;
			}
		}
		return false;
	}

	function IsDisconnectedCharacter(char) {
		var code = char.charCodeAt(0);
		return disconnectedCharacters.indexOf(code) != -1;
	}

	function ShapeArabicCharacters(word) {
		var shapedWord = "";

		for (var i = 0; i < word.length; i++) {
			if (!IsArabicCharacter(word[i])) {
				shapedWord += word[i];
				continue;
			}

			var connectedToPreviousChar = i-1 >= 0 && IsArabicCharacter(word[i-1]) && !IsDisconnectedCharacter(word[i-1]);

			var connectedToNextChar = i+1 < word.length && IsArabicCharacter(word[i+1]) && !IsDisconnectedCharacter(word[i]);

			var form;
			if (!connectedToPreviousChar && !connectedToNextChar) {
				form = CharacterForm.Isolated;
			}
			else if (connectedToPreviousChar && !connectedToNextChar) {
				form = CharacterForm.Final;
			}
			else if (!connectedToPreviousChar && connectedToNextChar) {
				form = CharacterForm.Initial;
			}
			else if (connectedToPreviousChar && connectedToNextChar) {
				form = CharacterForm.Middle;
			}

			var code = word[i].charCodeAt(0);

			// handle lam alef special case
			if (code == 0x0644 && connectedToNextChar) {
				var nextCode = word[i+1].charCodeAt(0);
				var specialCode = null;
				if (nextCode == 0x0622) {
					// alef madd
					specialCode = glyphForms[0x064b][form];
				}
				else if (nextCode == 0x0623) {
					// hamza above
					specialCode = glyphForms[0x064c][form];
				}
				else if (nextCode == 0x0625) {
					// hamza below
					specialCode = glyphForms[0x064d][form];
				}
				else if (nextCode == 0x0627) {
					// alef
					specialCode = glyphForms[0x064e][form];
				}

				if (specialCode != null) {
					shapedWord += String.fromCharCode(specialCode);
					i++; // skip a step
					continue;
				}
			}

			// hacky?
			if (form === CharacterForm.Isolated) {
				shapedWord += word[i];
				continue;
			}

			var shapedCode = glyphForms[code][form];
			shapedWord += String.fromCharCode(shapedCode);
		}

		return shapedWord;
	}

	this.ContainsArabicCharacters = ContainsArabicCharacters;
	this.ShapeArabicCharacters = ShapeArabicCharacters;
}

/* NEW TEXT EFFECTS */
var TextEffects = new Map();

var RainbowEffect = function() { // TODO - should it be an object or just a method?
	this.DoEffect = function(char,time) {
		// console.log("RAINBOW!!!");
		// console.log(char);
		// console.log(char.color);
		// console.log(char.col);

		var h = Math.abs( Math.sin( (time / 600) - (char.col / 8) ) );
		var rgb = hslToRgb( h, 1, 0.5 );
		char.color.r = rgb[0];
		char.color.g = rgb[1];
		char.color.b = rgb[2];
		char.color.a = 255;
	}
};
TextEffects["rbw"] = new RainbowEffect();

var ColorEffect = function(index) {
	this.DoEffect = function(char) {
		var pal = getPal( curPal() );
		var color = pal[ parseInt( index ) ];
		// console.log(color);
		char.color.r = color[0];
		char.color.g = color[1];
		char.color.b = color[2];
		char.color.a = 255;
	}
};
TextEffects["clr1"] = new ColorEffect(0);
TextEffects["clr2"] = new ColorEffect(1); // TODO : should I use parameters instead of special names?
TextEffects["clr3"] = new ColorEffect(2);

var WavyEffect = function() {
	this.DoEffect = function(char,time) {
		char.offset.y += Math.sin( (time / 250) - (char.col / 2) ) * 4;
	}
};
TextEffects["wvy"] = new WavyEffect();

var ShakyEffect = function() {
	function disturb(func,time,offset,mult1,mult2) {
		return func( (time * mult1) - (offset * mult2) );
	}

	this.DoEffect = function(char,time) {
		char.offset.y += 3
						* disturb(Math.sin,time,char.col,0.1,0.5)
						* disturb(Math.cos,time,char.col,0.3,0.2)
						* disturb(Math.sin,time,char.row,2.0,1.0);
		char.offset.x += 3
						* disturb(Math.cos,time,char.row,0.1,1.0)
						* disturb(Math.sin,time,char.col,3.0,0.7)
						* disturb(Math.cos,time,char.col,0.2,0.3);
	}
};
TextEffects["shk"] = new ShakyEffect();

} // Dialog()
</script>

<script>
/*
TODO
- reset renderer function
- react to changes in: drawings, palettes
- possible future plan: limit size of cache (remove old images)
- change image store path from (pal > col > draw) to (draw > pal > col)
- get rid of old getSpriteImage (etc) methods
- get editor working again [in progress]
- move debug timer class into core (seems useful)
*/

function Renderer(tilesize, scale) {

console.log("!!!!! NEW RENDERER");

var imageStore = { // TODO : rename to imageCache
	source: {},
	render: {}
};

var palettes = null; // TODO : need null checks?
var context = null;

function setPalettes(paletteObj) {
	palettes = paletteObj;

	// TODO : should this really clear out the render cache?
	imageStore.render = {};
}

function getPaletteColor(paletteId, colorIndex) {
	if (palettes[paletteId] === undefined) {
		paletteId = "default";
	}

	var palette = palettes[paletteId];

	if (colorIndex > palette.colors.length) { // do I need this failure case? (seems un-reliable)
		colorIndex = 0;
	}

	var color = palette.colors[colorIndex];

	return {
		r : color[0],
		g : color[1],
		b : color[2]
	};
}

var debugRenderCount = 0;

// TODO : change image store path from (pal > col > draw) to (draw > pal > col)
function renderImage(drawing, paletteId) {
	// debugRenderCount++;
	// console.log("RENDER COUNT " + debugRenderCount);

	var col = drawing.col;
	var colStr = "" + col;
	var pal = paletteId;
	var drwId = drawing.drw;
	var imgSrc = imageStore.source[ drawing.drw ];

	// initialize render cache entry
	if (imageStore.render[drwId] === undefined || imageStore.render[drwId] === null) {
		imageStore.render[drwId] = {};
	}

	if (imageStore.render[drwId][pal] === undefined || imageStore.render[drwId][pal] === null) {
		imageStore.render[drwId][pal] = {};
	}

	// create array of ImageData frames
	imageStore.render[drwId][pal][colStr] = [];

	for (var i = 0; i < imgSrc.length; i++) {
		var frameSrc = imgSrc[i];
		var frameData = imageDataFromImageSource( frameSrc, pal, col );
		imageStore.render[drwId][pal][colStr].push(frameData);
	}
}

function imageDataFromImageSource(imageSource, pal, col) {
	//console.log(imageSource);

	var img = context.createImageData(tilesize*scale,tilesize*scale);

	var backgroundColor = getPaletteColor(pal,0);
	var foregroundColor = getPaletteColor(pal,col);

	for (var y = 0; y < tilesize; y++) {
		for (var x = 0; x < tilesize; x++) {
			var px = imageSource[y][x];
			for (var sy = 0; sy < scale; sy++) {
				for (var sx = 0; sx < scale; sx++) {
					var pxl = (((y * scale) + sy) * tilesize * scale * 4) + (((x*scale) + sx) * 4);
					if ( px === 1 ) {
						img.data[pxl + 0] = foregroundColor.r;
						img.data[pxl + 1] = foregroundColor.g;
						img.data[pxl + 2] = foregroundColor.b;
						img.data[pxl + 3] = 255;
					}
					else { //ch === 0
						img.data[pxl + 0] = backgroundColor.r;
						img.data[pxl + 1] = backgroundColor.g;
						img.data[pxl + 2] = backgroundColor.b;
						img.data[pxl + 3] = 255;
					}
				}
			}
		}
	}

	// convert to canvas: chrome has poor performance when working directly with image data
	var imageCanvas = document.createElement("canvas");
	imageCanvas.width = img.width;
	imageCanvas.height = img.height;
	var imageContext = imageCanvas.getContext("2d");
	imageContext.putImageData(img,0,0);

	return imageCanvas;
}

// TODO : move into core
function undefinedOrNull(x) {
	return x === undefined || x === null;
}

function isImageRendered(drawing, paletteId) {
	var col = drawing.col;
	var colStr = "" + col;
	var pal = paletteId;
	var drwId = drawing.drw;

	if (undefinedOrNull(imageStore.render[drwId]) ||
		undefinedOrNull(imageStore.render[drwId][pal]) ||
		undefinedOrNull(imageStore.render[drwId][pal][colStr])) {
			return false;
	}
	else {
		return true;
	}
}

function getImageSet(drawing, paletteId) {
	return imageStore.render[drawing.drw][paletteId][drawing.col];
}

function getImageFrame(drawing, paletteId, frameOverride) {
	var frameIndex = 0;
	if (drawing.animation.isAnimated) {
		if (frameOverride != undefined && frameOverride != null) {
			frameIndex = frameOverride;
		}
		else {
			frameIndex = drawing.animation.frameIndex;
		}
	}

	return getImageSet(drawing, paletteId)[frameIndex];
}

function getOrRenderImage(drawing, paletteId, frameOverride) {
	if (!isImageRendered(drawing, paletteId)) {
		renderImage(drawing, paletteId);
	}

	return getImageFrame(drawing, paletteId, frameOverride);
}

/* PUBLIC INTERFACE */
this.GetImage = getOrRenderImage;

this.SetPalettes = setPalettes;

this.SetImageSource = function(drawingId, imageSourceData) {
	imageStore.source[drawingId] = imageSourceData;
	imageStore.render[drawingId] = {}; // reset render cache for this image
}

this.GetImageSource = function(drawingId) {
	return imageStore.source[drawingId];
}

this.GetFrameCount = function(drawingId) {
	return imageStore.source[drawingId].length;
}

this.AttachContext = function(ctx) {
	context = ctx;
}

} // Renderer()
</script>

<script>
var xhr; // TODO : remove
var canvas;
var context; // TODO : remove if safe?
var ctx;

var title = "";
var room = {};
var tile = {};
var sprite = {};
var item = {};
var dialog = {};
var palette = { //start off with a default palette
		"default" : {
			name : "default",
			colors : [[0,0,0],[255,255,255],[255,255,255]]
		}
	};
var ending = {};
var variable = {}; // these are starting variable values -- they don't update (or I don't think they will)
var playerId = "A";

var defaultFontName = "ascii_small";
var fontName = defaultFontName;
var TextDirection = {
	LeftToRight : "LTR",
	RightToLeft : "RTL"
};
var textDirection = TextDirection.LeftToRight;

var names = {
	room : new Map(),
	tile : new Map(), // Note: Not currently enabled in the UI
	sprite : new Map(),
	item : new Map(),
	/*dialog : new Map()*/ // TODO
	/*ending : new Map()*/ // TODO
};
function updateNamesFromCurData() {
	names.room = new Map();
	for(id in room) {
		if(room[id].name != undefined && room[id].name != null) {
			names.room.set( room[id].name, id );
		}
	}
	names.tile = new Map();
	for(id in tile) {
		if(tile[id].name != undefined && tile[id].name != null) {
			names.tile.set( tile[id].name, id );
		}
	}
	names.sprite = new Map();
	for(id in sprite) {
		if(sprite[id].name != undefined && sprite[id].name != null) {
			names.sprite.set( sprite[id].name, id );
		}
	}
	names.item = new Map();
	for(id in item) {
		if(item[id].name != undefined && item[id].name != null) {
			names.item.set( item[id].name, id );
		}
	}
}

var spriteStartLocations = {};

/* VERSION */
var version = {
	major: 6, // major changes
	minor: 4 // smaller changes
};
function getEngineVersion() {
	return version.major + "." + version.minor;
}

/* FLAGS */
var flags;
function resetFlags() {
	flags = {
		ROOM_FORMAT : 0 // 0 = non-comma separated, 1 = comma separated
	};
}
resetFlags(); //init flags on load script

// SUPER hacky location... :/
var editorDevFlags = {
	// NONE right now!
};

function clearGameData() {
	title = "";
	room = {};
	tile = {};
	sprite = {};
	item = {};
	dialog = {};
	palette = { //start off with a default palette
		"default" : {
			name : "default",
			colors : [[0,0,0],[255,255,255],[255,255,255]]
		}
	};
	ending = {};
	isEnding = false; //todo - correct place for this?
	variable = {};

	// TODO RENDERER : clear data?

	spriteStartLocations = {};

	names = {
		room : new Map(),
		tile : new Map(),
		sprite : new Map(),
		item : new Map()
	};

	fontName = defaultFontName; // TODO : reset font manager too?
	textDirection = TextDirection.LeftToRight;
}

var width = 128;
var height = 128;
var scale = 4; //this is stupid but necessary
var tilesize = 8;
var mapsize = 16;

var curRoom = "0";

var key = {
	left : 37,
	right : 39,
	up : 38,
	down : 40,
	space : 32,
	enter : 13,
	w : 87,
	a : 65,
	s : 83,
	d : 68,
	r : 82,
	shift : 16,
	ctrl : 17,
	alt : 18,
	cmd : 224
};

var prevTime = 0;
var deltaTime = 0;

//methods used to trigger gif recording
var didPlayerMoveThisFrame = false;
var onPlayerMoved = null;
// var didDialogUpdateThisFrame = false;
var onDialogUpdate = null;

//inventory update UI handles
var onInventoryChanged = null;
var onVariableChanged = null;
var onGameReset = null;

var isPlayerEmbeddedInEditor = false;

var renderer = new Renderer(tilesize, scale);

function getGameNameFromURL() {
	var game = window.location.hash.substring(1);
	// console.log("game name --- " + game);
	return game;
}

function attachCanvas(c) {
	canvas = c;
	canvas.width = width * scale;
	canvas.height = width * scale;
	ctx = canvas.getContext("2d");
	dialogRenderer.AttachContext(ctx);
	renderer.AttachContext(ctx);
}

var curGameData = null;
function load_game(game_data, startWithTitle) {
	curGameData = game_data; //remember the current game (used to reset the game)

	dialogBuffer.Reset();
	scriptInterpreter.ResetEnvironment(); // ensures variables are reset -- is this the best way?

	parseWorld(game_data);

	if (!isPlayerEmbeddedInEditor) {
		// hack to ensure default font is available
		fontManager.AddResource(defaultFontName + fontManager.GetExtension(), document.getElementById(defaultFontName).text.slice(1));
	}

	var font = fontManager.Get( fontName );
	dialogBuffer.SetFont(font);
	dialogRenderer.SetFont(font);

	setInitialVariables();

	// setInterval(updateLoadingScreen, 300); // hack test

	onready(startWithTitle);
}

function reset_cur_game() {
	if (curGameData == null) {
		return; //can't reset if we don't have the game data
	}

	stopGame();
	clearGameData();
	load_game(curGameData);

	if (isPlayerEmbeddedInEditor && onGameReset != null) {
		onGameReset();
	}
}

var update_interval = null;
function onready(startWithTitle) {
	if(startWithTitle === undefined || startWithTitle === null) startWithTitle = true;

	clearInterval(loading_interval);

	input = new InputManager();

	document.addEventListener('keydown', input.onkeydown);
	document.addEventListener('keyup', input.onkeyup);

	if (isPlayerEmbeddedInEditor) {
		canvas.addEventListener('touchstart', input.ontouchstart);
		canvas.addEventListener('touchmove', input.ontouchmove);
		canvas.addEventListener('touchend', input.ontouchend);
	}
	else {
		document.addEventListener('touchstart', input.ontouchstart);
		document.addEventListener('touchmove', input.ontouchmove);
		document.addEventListener('touchend', input.ontouchend);
	}

	window.onblur = input.onblur;

	update_interval = setInterval(update,16);

	if(startWithTitle) { // used by editor 
		startNarrating(title);
	}
}

function setInitialVariables() {
	for(id in variable) {
		var value = variable[id]; // default to string
		if(value === "true") {
			value = true;
		}
		else if(value === "false") {
			value = false;
		}
		else if(!isNaN(parseFloat(value))) {
			value = parseFloat(value);
		}
		scriptInterpreter.SetVariable(id,value);
	}
	scriptInterpreter.SetOnVariableChangeHandler( onVariableChanged );
}

// TODO: this is likely broken
function breadthFirstSearch(map, from, to) {
	from.trail = [];
	var visited = [];
	var queue = [from];
	visited.push( posToString(from) );

	//console.log( "~ bfs ~");
	//console.log( posToString(from) + " to " + posToString(to) );

	while ( queue.length > 0 ) {

		//grab pos from queue and mark as visited
		var curPos = queue.shift();

		//console.log( posToString(curPos) );
		//console.log( ".. " + pathToString(curPos.trail) );
		//console.log( visited );

		if (curPos.x == to.x && curPos.y == to.y) {
			//found a path!
			var path = curPos.trail.splice(0);
			path.push( curPos );
			return path;
		}

		//look at neighbors
		neighbors(curPos).forEach( function(n) {
			var inBounds = (n.x >= 0 && n.x < 16 && n.y >= 0 && n.y < 16);
			if (inBounds) {
				var noCollision = map[n.y][n.x] <= 0;
				var notVisited = visited.indexOf( posToString(n) ) == -1;
				if (noCollision && notVisited) {
					n.trail = curPos.trail.slice();
					n.trail.push(curPos);
					queue.push( n );
					visited.push( posToString(n) );
				}
			}
		});

	}

	return []; // no path found
}

function posToString(pos) {
	return pos.x + "," + pos.y;
}

function pathToString(path) {
	var s = "";
	for (i in path) {
		s += posToString(path[i]) + " ";
	}
	return s;
}

function neighbors(pos) {
	var neighborList = [];
	neighborList.push( {x:pos.x+1, y:pos.y+0} );
	neighborList.push( {x:pos.x-1, y:pos.y+0} );
	neighborList.push( {x:pos.x+0, y:pos.y+1} );
	neighborList.push( {x:pos.x+0, y:pos.y-1} );
	return neighborList;
}

function collisionMap(roomId) {
	var map = [
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
	];

	for (r in room[roomId].tilemap) {
		var row = room[roomId].tilemap[r];
		for (var c = 0; c < row.length; c++) {
			if (room[roomId].walls.indexOf( row[x] ) != -1) {
				map[r][c] = 1;
			}
		}
	}

	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === roomId) {
			map[spr.y][spr.x] = 2;
		}
	}

	return map;
}

function getOffset(evt) {
	var offset = { x:0, y:0 };

	var el = evt.target;
	var rect = el.getBoundingClientRect();

	offset.x += rect.left + el.scrollLeft;
	offset.y += rect.top + el.scrollTop;

	offset.x = evt.clientX - offset.x;
	offset.y = evt.clientY - offset.y;

	return offset;
}

function stopGame() {
	console.log("stop GAME!");

	document.removeEventListener('keydown', input.onkeydown);
	document.removeEventListener('keyup', input.onkeyup);

	if (isPlayerEmbeddedInEditor) {
		canvas.removeEventListener('touchstart', input.ontouchstart);
		canvas.removeEventListener('touchmove', input.ontouchmove);
		canvas.removeEventListener('touchend', input.ontouchend);
	}
	else {
		document.removeEventListener('touchstart', input.ontouchstart);
		document.removeEventListener('touchmove', input.ontouchmove);
		document.removeEventListener('touchend', input.ontouchend);
	}

	window.onblur = null;

	clearInterval(update_interval);
}

/* loading animation */
var loading_anim_data = [
	[
		0,1,1,1,1,1,1,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,1,
		1,1,1,0,0,1,1,1,
		1,1,1,1,1,0,0,1,
		1,1,1,1,1,0,0,1,
		1,1,1,0,0,1,1,1,
		1,0,0,0,0,0,0,1,
		0,0,0,0,0,0,0,0,
	]
];
var loading_anim_frame = 0;
var loading_anim_speed = 500;
var loading_interval = null;

function loadingAnimation() {
	//create image
	var loadingAnimImg = ctx.createImageData(8*scale, 8*scale);
	//draw image
	for (var y = 0; y < 8; y++) {
		for (var x = 0; x < 8; x++) {
			var i = (y * 8) + x;
			if (loading_anim_data[loading_anim_frame][i] == 1) {
				//scaling nonsense
				for (var sy = 0; sy < scale; sy++) {
					for (var sx = 0; sx < scale; sx++) {
						var pxl = 4 * ( (((y*scale)+sy) * (8*scale)) + ((x*scale)+sx) );
						loadingAnimImg.data[pxl+0] = 255;
						loadingAnimImg.data[pxl+1] = 255;
						loadingAnimImg.data[pxl+2] = 255;
						loadingAnimImg.data[pxl+3] = 255;
					}
				}
			}
		}
	}
	//put image on canvas
	ctx.putImageData(loadingAnimImg,scale*(width/2 - 4),scale*(height/2 - 4));
	//update frame
	loading_anim_frame++;
	if (loading_anim_frame >= 5) loading_anim_frame = 0;
}

function updateLoadingScreen() {
	// TODO : in progress
	ctx.fillStyle = "rgb(0,0,0)";
	ctx.fillRect(0,0,canvas.width,canvas.height);

	loadingAnimation();
	drawSprite( getSpriteImage(sprite["a"],"0",0), 8, 8, ctx );
}

function update() {
	var curTime = Date.now();
	deltaTime = curTime - prevTime;

	if (curRoom == null) {
		// in the special case where there is no valid room, end the game
		startNarrating( "", true /*isEnding*/ );
	}

	if (!transition.IsTransitionActive()) {
		updateInput();
	}

	if (transition.IsTransitionActive()) {
		// transition animation takes over everything!
		transition.UpdateTransition(deltaTime);
	}
	else {
		if (!isNarrating && !isEnding) {
			updateAnimation();
			drawRoom( room[curRoom] ); // draw world if game has begun
		}
		else {
			//make sure to still clear screen
			ctx.fillStyle = "rgb(" + getPal(curPal())[0][0] + "," + getPal(curPal())[0][1] + "," + getPal(curPal())[0][2] + ")";
			ctx.fillRect(0,0,canvas.width,canvas.height);
		}

		// if (isDialogMode) { // dialog mode
		if(dialogBuffer.IsActive()) {
			dialogRenderer.Draw( dialogBuffer, deltaTime );
			dialogBuffer.Update( deltaTime );
		}
		else if (!isEnding) {
			moveSprites(); // TODO : I probably need to remove this..
		}

		// keep moving avatar if player holds down button
		if( !dialogBuffer.IsActive() && !isEnding )
		{
			if( curPlayerDirection != Direction.None ) {
				playerHoldToMoveTimer -= deltaTime;

				if( playerHoldToMoveTimer <= 0 )
				{
					movePlayer( curPlayerDirection );
					playerHoldToMoveTimer = 150;
				}
			}
		}
	}

	prevTime = curTime;

	//for gif recording
	if (didPlayerMoveThisFrame && onPlayerMoved != null) {
		onPlayerMoved();
	}
	didPlayerMoveThisFrame = false;

	/* hacky replacement */
	if (onDialogUpdate != null) {
		dialogRenderer.SetPageFinishHandler( onDialogUpdate );
	}

	input.resetKeyPressed();
	input.resetTapReleased();
}

function updateInput() {
	if( dialogBuffer.IsActive() ) {
		if (input.anyKeyPressed() || input.isTapReleased()) {
			/* CONTINUE DIALOG */
			if (dialogBuffer.CanContinue()) {
				var hasMoreDialog = dialogBuffer.Continue();
				if(!hasMoreDialog) {
					// ignore currently held keys UNTIL they are released (stops player from insta-moving)
					input.ignoreHeldKeys();
				}
			}
			else {
				dialogBuffer.Skip();
			}
		}
	}
	else if ( isEnding ) {
		if (input.anyKeyPressed() || input.isTapReleased()) {
			/* RESTART GAME */
			reset_cur_game();
		}
	}
	else {
		/* WALK */
		var prevPlayerDirection = curPlayerDirection;

		if ( input.isKeyDown( key.left ) || input.isKeyDown( key.a ) || input.swipeLeft() ) {
			curPlayerDirection = Direction.Left;
		}
		else if ( input.isKeyDown( key.right ) || input.isKeyDown( key.d ) || input.swipeRight() ) {
			curPlayerDirection = Direction.Right;
		}
		else if ( input.isKeyDown( key.up ) || input.isKeyDown( key.w ) || input.swipeUp() ) {
			curPlayerDirection = Direction.Up;
		}
		else if ( input.isKeyDown( key.down ) || input.isKeyDown( key.s ) || input.swipeDown() ) {
			curPlayerDirection = Direction.Down;
		}
		else {
			curPlayerDirection = Direction.None;
		}

		if (curPlayerDirection != Direction.None && curPlayerDirection != prevPlayerDirection) {
			movePlayer( curPlayerDirection );
			playerHoldToMoveTimer = 500;
		}
	}
}

var animationCounter = 0;
var animationTime = 400;
function updateAnimation() {
	animationCounter += deltaTime;

	if ( animationCounter >= animationTime ) {

		// animate sprites
		for (id in sprite) {
			var spr = sprite[id];
			if (spr.animation.isAnimated) {
				spr.animation.frameIndex = ( spr.animation.frameIndex + 1 ) % spr.animation.frameCount;
			}
		}

		// animate tiles
		for (id in tile) {
			var til = tile[id];
			if (til.animation.isAnimated) {
				til.animation.frameIndex = ( til.animation.frameIndex + 1 ) % til.animation.frameCount;
			}
		}

		// animate items
		for (id in item) {
			var itm = item[id];
			if (itm.animation.isAnimated) {
				itm.animation.frameIndex = ( itm.animation.frameIndex + 1 ) % itm.animation.frameCount;
			}
		}

		// reset counter
		animationCounter = 0;

	}
}

function resetAllAnimations() {
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.animation.isAnimated) {
			spr.animation.frameIndex = 0;
		}
	}

	for (id in tile) {
		var til = tile[id];
		if (til.animation.isAnimated) {
			til.animation.frameIndex = 0;
		}
	}

	for (id in item) {
		var itm = item[id];
		if (itm.animation.isAnimated) {
			itm.animation.frameIndex = 0;
		}
	}
}

var moveCounter = 0;
var moveTime = 200;
function moveSprites() {
	moveCounter += deltaTime;

	if (moveCounter >= moveTime) {

		for (id in sprite) {
			var spr = sprite[id];
			if (spr.walkingPath.length > 0) {
				//move sprite
				var nextPos = spr.walkingPath.shift();
				spr.x = nextPos.x;
				spr.y = nextPos.y;


				var end = getEnding( spr.room, spr.x, spr.y );
				var ext = getExit( spr.room, spr.x, spr.y );
				var itmIndex = getItemIndex( spr.room, spr.x, spr.y );
				if (end) { //if the sprite hits an ending
					if (id === playerId) { // only the player can end the game
						startNarrating( ending[end.id], true /*isEnding*/ );
					}
				}
				else if (ext) { //if the sprite hits an exit
					//move it to another scene
					spr.room = ext.dest.room;
					spr.x = ext.dest.x;
					spr.y = ext.dest.y;
					if (id === playerId) {
						//if the player changes scenes, change the visible scene
						curRoom = ext.dest.room;
					}
				}
				else if(itmIndex > -1) {
					var itm = room[ spr.room ].items[ itmIndex ];
					room[ spr.room ].items.splice( itmIndex, 1 );
					if( spr.inventory[ itm.id ] ) {
						spr.inventory[ itm.id ] += 1;
					}
					else {
						spr.inventory[ itm.id ] = 1;
					}

					if (onInventoryChanged != null) {
						onInventoryChanged( itm.id );
					}

					if (id === playerId) {
						startItemDialog( itm.id  /*itemId*/ );
					}

					// stop moving : is this a good idea?
					spr.walkingPath = [];
				}

				if (id === playerId) didPlayerMoveThisFrame = true;
			}
		}

		moveCounter = 0;
	}

}

function getSpriteAt(x,y) {
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === curRoom) {
			if (spr.x == x && spr.y == y) {
				return id;
			}
		}
	}
	return null;
}

var Direction = {
	None : -1,
	Up : 0,
	Down : 1,
	Left : 2,
	Right : 3
};

var curPlayerDirection = Direction.None;
var playerHoldToMoveTimer = 0;

var InputManager = function() {
	var self = this;

	var pressed;
	var ignored;
	var newKeyPress;
	var touchState;

	function resetAll() {
		pressed = {};
		ignored = {};
		newKeyPress = false;

		touchState = {
			isDown : false,
			startX : 0,
			startY : 0,
			curX : 0,
			curY : 0,
			swipeDistance : 30,
			swipeDirection : Direction.None,
			tapReleased : false
		};
	}
	resetAll();

	function stopWindowScrolling(e) {
		if(e.keyCode == key.left || e.keyCode == key.right || e.keyCode == key.up || e.keyCode == key.down || !isPlayerEmbeddedInEditor)
			e.preventDefault();
	}

	function tryRestartGame(e) {
		/* RESTART GAME */
		if ( e.keyCode === key.r && ( e.getModifierState("Control") || e.getModifierState("Meta") ) ) {
			if ( confirm("Restart the game?") ) {
				reset_cur_game();
			}
		}
	}

	function eventIsModifier(event) {
		return (event.keyCode == key.shift || event.keyCode == key.ctrl || event.keyCode == key.alt || event.keyCode == key.cmd);
	}

	function isModifierKeyDown() {
		return ( self.isKeyDown(key.shift) || self.isKeyDown(key.ctrl) || self.isKeyDown(key.alt) || self.isKeyDown(key.cmd) );
	}

	this.ignoreHeldKeys = function() {
		for (var key in pressed) {
			if (pressed[key]) { // only ignore keys that are actually held
				ignored[key] = true;
				// console.log("IGNORE -- " + key);
			}
		}
	}

	this.onkeydown = function(event) {
		// console.log("KEYDOWN -- " + event.keyCode);

		stopWindowScrolling(event);

		tryRestartGame(event);

		// Special keys being held down can interfere with keyup events and lock movement
		// so just don't collect input when they're held
		{
			if (isModifierKeyDown()) {
				return;
			}

			if (eventIsModifier(event)) {
				resetAll();
			}
		}

		if (ignored[event.keyCode]) {
			return;
		}

		if (!self.isKeyDown(event.keyCode)) {
			newKeyPress = true;
		}

		pressed[event.keyCode] = true;
		ignored[event.keyCode] = false;
	}

	this.onkeyup = function(event) {
		// console.log("KEYUP -- " + event.keyCode);
		pressed[event.keyCode] = false;
		ignored[event.keyCode] = false;
	}

	this.ontouchstart = function(event) {
		event.preventDefault();

		if( event.changedTouches.length > 0 ) {
			touchState.isDown = true;

			touchState.startX = touchState.curX = event.changedTouches[0].clientX;
			touchState.startY = touchState.curY = event.changedTouches[0].clientY;

			touchState.swipeDirection = Direction.None;
		}
	}

	this.ontouchmove = function(event) {
		event.preventDefault();

		if( touchState.isDown && event.changedTouches.length > 0 ) {
			touchState.curX = event.changedTouches[0].clientX;
			touchState.curY = event.changedTouches[0].clientY;

			var prevDirection = touchState.swipeDirection;

			if( touchState.curX - touchState.startX <= -touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Left;
			}
			else if( touchState.curX - touchState.startX >= touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Right;
			}
			else if( touchState.curY - touchState.startY <= -touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Up;
			}
			else if( touchState.curY - touchState.startY >= touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Down;
			}

			if( touchState.swipeDirection != prevDirection ) {
				// reset center so changing directions is easier
				touchState.startX = touchState.curX;
				touchState.startY = touchState.curY;
			}
		}
	}

	this.ontouchend = function(event) {
		event.preventDefault();

		touchState.isDown = false;

		if( touchState.swipeDirection == Direction.None ) {
			// tap!
			touchState.tapReleased = true;
		}

		touchState.swipeDirection = Direction.None;
	}

	this.isKeyDown = function(keyCode) {
		return pressed[keyCode] != null && pressed[keyCode] == true && (ignored[keyCode] == null || ignored[keyCode] == false);
	}

	this.anyKeyPressed = function() {
		return newKeyPress;
	}

	this.resetKeyPressed = function() {
		newKeyPress = false;
	}

	this.swipeLeft = function() {
		return touchState.swipeDirection == Direction.Left;
	}

	this.swipeRight = function() {
		return touchState.swipeDirection == Direction.Right;
	}

	this.swipeUp = function() {
		return touchState.swipeDirection == Direction.Up;
	}

	this.swipeDown = function() {
		return touchState.swipeDirection == Direction.Down;
	}

	this.isTapReleased = function() {
		return touchState.tapReleased;
	}

	this.resetTapReleased = function() {
		touchState.tapReleased = false;
	}

	this.onblur = function() {
		// console.log("~~~ BLUR ~~");
		resetAll();
	}
}
var input = null;

function movePlayer(direction) {
	if (player().room == null || !Object.keys(room).includes(player().room)) {
		return; // player room is missing or invalid.. can't move them!
	}

	var spr = null;

	if ( curPlayerDirection == Direction.Left && !(spr = getSpriteLeft()) && !isWallLeft()) {
		player().x -= 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Right && !(spr = getSpriteRight()) && !isWallRight()) {
		player().x += 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Up && !(spr = getSpriteUp()) && !isWallUp()) {
		player().y -= 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Down && !(spr = getSpriteDown()) && !isWallDown()) {
		player().y += 1;
		didPlayerMoveThisFrame = true;
	}
	
	var ext = getExit( player().room, player().x, player().y );
	var end = getEnding( player().room, player().x, player().y );
	// TODO : vNext
	// var eff = getEffect( player().room, player().x, player().y );
	var itmIndex = getItemIndex( player().room, player().x, player().y );

	// do items first, because you can pick up an item AND go through a door
	if (itmIndex > -1) {
		// TODO pick up items (what about touch?)
		// console.log("HIT ITM ");
		// console.log( itmIndex );
		var itm = room[ player().room ].items[ itmIndex ];
		// console.log(itm);
		room[ player().room ].items.splice( itmIndex, 1 );
		if( player().inventory[ itm.id ] ) {
			player().inventory[ itm.id ] += 1;
		}
		else {
			player().inventory[ itm.id ] = 1;
		}

		if(onInventoryChanged != null) {
			onInventoryChanged( itm.id );
		}

		startItemDialog( itm.id  /*itemId*/ );

		// console.log( player().inventory );
	}

	if (end) {
		startNarrating( ending[end.id], true /*isEnding*/ );
	}
	else if (ext) {
		movePlayerThroughExit(ext);
	}
	// TODO : vNext
	// else if (eff) {
	// 	startDialog( script[eff.id].source, eff.id );
	// }
	else if (spr) {
		startSpriteDialog( spr /*spriteId*/ );
	}
}

var transition = new TransitionManager();

function movePlayerThroughExit(ext) {
	var GoToDest = function() {
		if (ext.transition_effect != null) {
			transition.BeginTransition(player().room, player().x, player().y, ext.dest.room, ext.dest.x, ext.dest.y, ext.transition_effect);
			transition.UpdateTransition(0);
		}

		player().room = ext.dest.room;
		player().x = ext.dest.x;
		player().y = ext.dest.y;
		curRoom = ext.dest.room;
	};

	// TODO : vNext
	// if(ext.script_id != null && script[ext.script_id]){
	// 	var scriptSourceStr = script[ext.script_id].source;
	// 	startDialog(scriptSourceStr, ext.script_id, function(isExitUnlocked) {
	// 		if (isExitUnlocked == true) {
	// 			GoToDest();
	// 		}
	// 	});
	// }
	// else {
	// 	GoToDest();
	// }

	GoToDest();
}

function getItemIndex( roomId, x, y ) {
	for( var i = 0; i < room[roomId].items.length; i++ ) {
		var itm = room[roomId].items[i];
		if ( itm.x == x && itm.y == y)
			return i;
	}
	return -1;
}

function getSpriteLeft() { //repetitive?
	return getSpriteAt( player().x - 1, player().y );
}

function getSpriteRight() {
	return getSpriteAt( player().x + 1, player().y );
}

function getSpriteUp() {
	return getSpriteAt( player().x, player().y - 1 );
}

function getSpriteDown() {
	return getSpriteAt( player().x, player().y + 1 );
}

function isWallLeft() {
	return (player().x - 1 < 0) || isWall( player().x - 1, player().y );
}

function isWallRight() {
	return (player().x + 1 >= 16) || isWall( player().x + 1, player().y );
}

function isWallUp() {
	return (player().y - 1 < 0) || isWall( player().x, player().y - 1 );
}

function isWallDown() {
	return (player().y + 1 >= 16) || isWall( player().x, player().y + 1 );
}

function isWall(x,y,roomId) {
	if(roomId == undefined || roomId == null)
		roomId = curRoom;

	var tileId = getTile( x, y );

	if( tileId === '0' )
		return false; // Blank spaces aren't walls, ya doofus

	if( tile[tileId].isWall === undefined || tile[tileId].isWall === null ) {
		// No wall-state defined: check room-specific walls
		var i = room[roomId].walls.indexOf( getTile(x,y) );
		return i > -1;
	}

	// Otherwise, use the tile's own wall-state
	return tile[tileId].isWall;
}

function getItem(roomId,x,y) {
	for (i in room[roomId].items) {
		var item = room[roomId].items[i];
		if (x == item.x && y == item.y) {
			return item;
		}
	}
	return null;
}

function getExit(roomId,x,y) {
	for (i in room[roomId].exits) {
		var e = room[roomId].exits[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

function getEnding(roomId,x,y) {
	for (i in room[roomId].endings) {
		var e = room[roomId].endings[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

// TODO : vNext
// function getEffect(roomId,x,y) {
// 	for (i in room[roomId].effects) {
// 		var e = room[roomId].effects[i];
// 		if (x == e.x && y == e.y) {
// 			return e;
// 		}
// 	}
// 	return null;
// }

function getTile(x,y) {
	// console.log(x + " " + y);
	var t = getRoom().tilemap[y][x];
	return t;
}

function player() {
	return sprite[playerId];
}

// Sort of a hack for legacy palette code (when it was just an array)
function getPal(id) {
	if (palette[id] === undefined) {
		id = "default";
	}

	return palette[ id ].colors;
}

function getRoom() {
	return room[curRoom];
}

function isSpriteOffstage(id) {
	return sprite[id].room == null;
}

function parseWorld(file) {
	// console.log("~~~ PARSE WORLD ~~~");
	// console.log(file);

	// var parseTimer = new Timer();

	spriteStartLocations = {};

	resetFlags();

	var versionNumber = 0;

	var lines = file.split("\n");
	var i = 0;
	while (i < lines.length) {
		var curLine = lines[i];

		// console.log(lines[i]);

		if (i == 0) {
			i = parseTitle(lines, i);
		}
		else if (curLine.length <= 0 || curLine.charAt(0) === "#") {
			// collect version number (from a comment.. hacky I know)
			if (curLine.indexOf("# BITSY VERSION ") != -1) {
				versionNumber = parseFloat(curLine.replace("# BITSY VERSION ", ""));
			}

			//skip blank lines & comments
			i++;
		}
		else if (getType(curLine) == "PAL") {
			i = parsePalette(lines, i);
		}
		else if (getType(curLine) === "ROOM" || getType(curLine) === "SET") { //SET for back compat
			i = parseRoom(lines, i);
		}
		else if (getType(curLine) === "TIL") {
			i = parseTile(lines, i);
		}
		else if (getType(curLine) === "SPR") {
			i = parseSprite(lines, i);
		}
		else if (getType(curLine) === "ITM") {
			i = parseItem(lines, i);
		}
		else if (getType(curLine) === "DRW") {
			i = parseDrawing(lines, i);
		}
		else if (getType(curLine) === "DLG") {
			i = parseDialog(lines, i);
		}
		else if (getType(curLine) === "END") {
			i = parseEnding(lines, i);
		}
		// TODO: vNext
		// else if (getType(curLine) === "PRG") {
		// 	i = parseScript(lines, i);
		// }
		else if (getType(curLine) === "VAR") {
			i = parseVariable(lines, i);
		}
		else if (getType(curLine) === "DEFAULT_FONT") {
			i = parseFontName(lines, i);
		}
		else if (getType(curLine) === "TEXT_DIRECTION") {
			i = parseTextDirection(lines, i);
		}
		else if (getType(curLine) === "FONT") {
			i = parseFontData(lines, i);
		}
		else if (getType(curLine) === "!") {
			i = parseFlag(lines, i);
		}
		else {
			i++;
		}
	}

	placeSprites();

	var roomIds = Object.keys(room);
	if (player() != undefined && player().room != null && roomIds.includes(player().room)) {
		// player has valid room
		curRoom = player().room;
	}
	else if (roomIds.length > 0) {
		// player not in any room! what the heck
		curRoom = roomIds[0];
	}
	else {
		// uh oh there are no rooms I guess???
		curRoom = null;
	}

	console.log("START ROOM " + curRoom);

	renderer.SetPalettes(palette);

	// console.log(names);

	// console.log("~~~~~ PARSE TIME " + parseTimer.Milliseconds());

	return versionNumber;
}

//TODO this is in progress and doesn't support all features
function serializeWorld(skipFonts) {
	if (skipFonts === undefined || skipFonts === null)
		skipFonts = false;

	var worldStr = "";
	/* TITLE */
	worldStr += title + "\n";
	worldStr += "\n";
	/* VERSION */
	worldStr += "# BITSY VERSION " + getEngineVersion() + "\n"; // add version as a comment for debugging purposes
	worldStr += "\n";
	/* FLAGS */
	for (f in flags) {
		worldStr += "! " + f + " " + flags[f] + "\n";
	}
	worldStr += "\n"
	/* FONT */
	if (fontName != defaultFontName) {
		worldStr += "DEFAULT_FONT " + fontName + "\n";
		worldStr += "\n"
	}
	if (textDirection != TextDirection.LeftToRight) {
		worldStr += "TEXT_DIRECTION " + textDirection + "\n";
		worldStr += "\n"
	}
	/* PALETTE */
	for (id in palette) {
		if (id != "default") {
			worldStr += "PAL " + id + "\n";
			if( palette[id].name != null )
				worldStr += "NAME " + palette[id].name + "\n";
			for (i in getPal(id)) {
				for (j in getPal(id)[i]) {
					worldStr += getPal(id)[i][j];
					if (j < 2) worldStr += ",";
				}
				worldStr += "\n";
			}
			worldStr += "\n";
		}
	}
	/* ROOM */
	for (id in room) {
		worldStr += "ROOM " + id + "\n";
		if ( flags.ROOM_FORMAT == 0 ) {
			// old non-comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];	
				}
				worldStr += "\n";
			}
		}
		else if ( flags.ROOM_FORMAT == 1 ) {
			// new comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];
					if (j < room[id].tilemap[i].length-1) worldStr += ","
				}
				worldStr += "\n";
			}
		}
		if (room[id].name != null) {
			/* NAME */
			worldStr += "NAME " + room[id].name + "\n";
		}
		if (room[id].walls.length > 0) {
			/* WALLS */
			worldStr += "WAL ";
			for (j in room[id].walls) {
				worldStr += room[id].walls[j];
				if (j < room[id].walls.length-1) {
					worldStr += ",";
				}
			}
			worldStr += "\n";
		}
		if (room[id].items.length > 0) {
			/* ITEMS */
			for (j in room[id].items) {
				var itm = room[id].items[j];
				worldStr += "ITM " + itm.id + " " + itm.x + "," + itm.y;
				worldStr += "\n";
			}
		}
		if (room[id].exits.length > 0) {
			/* EXITS */
			for (j in room[id].exits) {
				var e = room[id].exits[j];
				if ( isExitValid(e) ) {
					worldStr += "EXT " + e.x + "," + e.y + " " + e.dest.room + " " + e.dest.x + "," + e.dest.y;
					if (e.transition_effect != undefined && e.transition_effect != null) {
						worldStr += " FX " + e.transition_effect;
					}
					// TODO : vNext
					// if (e.script_id != undefined && e.script_id != null) {
					// 	worldStr += " PRG " + e.script_id;
					// }
					worldStr += "\n";
				}
			}
		}
		if (room[id].endings.length > 0) {
			/* ENDINGS */
			for (j in room[id].endings) {
				var e = room[id].endings[j];
				// todo isEndingValid
				worldStr += "END " + e.id + " " + e.x + "," + e.y;
				worldStr += "\n";
			}
		}
		// TODO : vNext
		// if (room[id].effects.length > 0) {
		// 	/* EFFECTS */
		// 	for (j in room[id].effects) {
		// 		var e = room[id].effects[j];
		// 		worldStr += "EFF " + e.id + " " + e.x + "," + e.y;
		// 		worldStr += "\n";
		// 	}
		// }
		if (room[id].pal != null && room[id].pal != "default") {
			/* PALETTE */
			worldStr += "PAL " + room[id].pal + "\n";
		}
		worldStr += "\n";
	}
	/* TILES */
	for (id in tile) {
		worldStr += "TIL " + id + "\n";
		worldStr += serializeDrawing( "TIL_" + id );
		if (tile[id].name != null && tile[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + tile[id].name + "\n";
		}
		if (tile[id].isWall != null && tile[id].isWall != undefined) {
			/* WALL */
			worldStr += "WAL " + tile[id].isWall + "\n";
		}
		if (tile[id].col != null && tile[id].col != undefined && tile[id].col != 1) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + tile[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* SPRITES */
	for (id in sprite) {
		worldStr += "SPR " + id + "\n";
		worldStr += serializeDrawing( "SPR_" + id );
		if (sprite[id].name != null && sprite[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + sprite[id].name + "\n";
		}
		if (sprite[id].dlg != null) {
			worldStr += "DLG " + sprite[id].dlg + "\n";
		}
		if (sprite[id].room != null) {
			/* SPRITE POSITION */
			worldStr += "POS " + sprite[id].room + " " + sprite[id].x + "," + sprite[id].y + "\n";
		}
		if (sprite[id].inventory != null) {
			for(itemId in sprite[id].inventory) {
				worldStr += "ITM " + itemId + " " + sprite[id].inventory[itemId] + "\n";
			}
		}
		if (sprite[id].col != null && sprite[id].col != undefined && sprite[id].col != 2) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + sprite[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* ITEMS */
	for (id in item) {
		worldStr += "ITM " + id + "\n";
		worldStr += serializeDrawing( "ITM_" + id );
		if (item[id].name != null && item[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + item[id].name + "\n";
		}
		if (item[id].dlg != null) {
			worldStr += "DLG " + item[id].dlg + "\n";
		}
		if (item[id].col != null && item[id].col != undefined && item[id].col != 2) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + item[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* DIALOG */
	for (id in dialog) {
		worldStr += "DLG " + id + "\n";
		worldStr += dialog[id] + "\n";
		worldStr += "\n";
	}
	/* ENDINGS */
	for (id in ending) {
		worldStr += "END " + id + "\n";
		worldStr += ending[id] + "\n";
		worldStr += "\n";
	}
	// TODO : vNext
	// /* SCRIPTS */
	// for (id in script) {
	// 	if (script[id].type == ScriptType.Dialogue) {
	// 		worldStr += "DLG " + id + "\n";
	// 	}
	// 	else if (script[id].type == ScriptType.Ending) {
	// 		worldStr += "END " + id + "\n";
	// 	}
	// 	else {
	// 		worldStr += "PRG " + id + "\n";
	// 	}
	// 	worldStr += script[id].source + "\n";
	// 	worldStr += "\n";
	// }
	/* VARIABLES */
	for (id in variable) {
		worldStr += "VAR " + id + "\n";
		worldStr += variable[id] + "\n";
		worldStr += "\n";
	}
	/* FONT */
	// TODO : support multiple fonts
	if (fontName != defaultFontName && !skipFonts) {
		worldStr += fontManager.GetData(fontName);
	}

	return worldStr;
}

function serializeDrawing(drwId) {
	var imageSource = renderer.GetImageSource(drwId);
	var drwStr = "";
	for (f in imageSource) {
		for (y in imageSource[f]) {
			var rowStr = "";
			for (x in imageSource[f][y]) {
				rowStr += imageSource[f][y][x];
			}
			drwStr += rowStr + "\n";
		}
		if (f < (imageSource.length-1)) drwStr += ">\n";
	}
	return drwStr;
}

function isExitValid(e) {
	var hasValidStartPos = e.x >= 0 && e.x < 16 && e.y >= 0 && e.y < 16;
	var hasDest = e.dest != null;
	var hasValidRoomDest = (e.dest.room != null && e.dest.x >= 0 && e.dest.x < 16 && e.dest.y >= 0 && e.dest.y < 16);
	return hasValidStartPos && hasDest && hasValidRoomDest;
}

function placeSprites() {
	for (id in spriteStartLocations) {
		//console.log(id);
		//console.log( spriteStartLocations[id] );
		//console.log(sprite[id]);
		sprite[id].room = spriteStartLocations[id].room;
		sprite[id].x = spriteStartLocations[id].x;
		sprite[id].y = spriteStartLocations[id].y;
		//console.log(sprite[id]);
	}
}

/* ARGUMENT GETTERS */
function getType(line) {
	return getArg(line,0);
}

function getId(line) {
	return getArg(line,1);
}

function getArg(line,arg) {
	return line.split(" ")[arg];
}

function getCoord(line,arg) {
	return getArg(line,arg).split(",");
}

function parseTitle(lines, i) {
	title = lines[i];
	i++;
	return i;
}

function parseRoom(lines, i) {
	var id = getId(lines[i]);
	room[id] = {
		id : id,
		tilemap : [],
		walls : [],
		exits : [],
		endings : [],
		// effects : [], // TODO vNext
		items : [],
		pal : null,
		name : null
	};
	i++;

	// create tile map
	if ( flags.ROOM_FORMAT == 0 ) {
		// old way: no commas, single char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lines[i].charAt(x) );
			}
			y++;
		}
	}
	else if ( flags.ROOM_FORMAT == 1 ) {
		// new way: comma separated, multiple char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			var lineSep = lines[i].split(",");
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lineSep[x] );
			}
			y++;
		}
	}

	while (i < lines.length && lines[i].length > 0) { //look for empty line
		// console.log(getType(lines[i]));
		if (getType(lines[i]) === "SPR") {
			/* NOTE SPRITE START LOCATIONS */
			var sprId = getId(lines[i]);
			if (sprId.indexOf(",") == -1 && lines[i].split(" ").length >= 3) { //second conditional checks for coords
				/* PLACE A SINGLE SPRITE */
				var sprCoord = lines[i].split(" ")[2].split(",");
				spriteStartLocations[sprId] = {
					room : id,
					x : parseInt(sprCoord[0]),
					y : parseInt(sprCoord[1])
				};
			}
			else if ( flags.ROOM_FORMAT == 0 ) { // TODO: right now this shortcut only works w/ the old comma separate format
				/* PLACE MULTIPLE SPRITES*/ 
				//Does find and replace in the tilemap (may be hacky, but its convenient)
				var sprList = sprId.split(",");
				for (row in room[id].tilemap) {
					for (s in sprList) {
						var col = room[id].tilemap[row].indexOf( sprList[s] );
						//if the sprite is in this row, replace it with the "null tile" and set its starting position
						if (col != -1) {
							room[id].tilemap[row][col] = "0";
							spriteStartLocations[ sprList[s] ] = {
								room : id,
								x : parseInt(col),
								y : parseInt(row)
							};
						}
					}
				}
			}
		}
		else if (getType(lines[i]) === "ITM") {
			var itmId = getId(lines[i]);
			var itmCoord = lines[i].split(" ")[2].split(",");
			var itm = {
				id: itmId,
				x : parseInt(itmCoord[0]),
				y : parseInt(itmCoord[1])
			};
			room[id].items.push( itm );
		}
		else if (getType(lines[i]) === "WAL") {
			/* DEFINE COLLISIONS (WALLS) */
			room[id].walls = getId(lines[i]).split(",");
		}
		else if (getType(lines[i]) === "EXT") {
			/* ADD EXIT */
			var exitArgs = lines[i].split(" ");
			//arg format: EXT 10,5 M 3,2 [AVA:7 LCK:a,9] [AVA 7 LCK a 9]
			var exitCoords = exitArgs[1].split(",");
			var destName = exitArgs[2];
			var destCoords = exitArgs[3].split(",");
			var ext = {
				x : parseInt(exitCoords[0]),
				y : parseInt(exitCoords[1]),
				dest : {
					room : destName,
					x : parseInt(destCoords[0]),
					y : parseInt(destCoords[1])
				},
				transition_effect : null,
				// TODO : vNext
				// script_id : null,
			};

			// optional arguments
			var exitArgIndex = 4;
			while (exitArgIndex < exitArgs.length) {
				if (exitArgs[exitArgIndex] == "FX") {
					ext.transition_effect = exitArgs[exitArgIndex+1];
					exitArgIndex += 2;
				}
				// TODO : vNext
				// else if (exitArgs[exitArgIndex] == "PRG") {
				// 	ext.script_id = exitArgs[exitArgIndex+1];
				// 	exitArgIndex += 2;
				// }
				else {
					exitArgIndex += 1;
				}
			}

			room[id].exits.push(ext);
		}
		else if (getType(lines[i]) === "END") {
			/* ADD ENDING */
			var endId = getId( lines[i] );
			var endCoords = getCoord( lines[i], 2 );
			var end = {
				id : endId,
				x : parseInt( endCoords[0] ),
				y : parseInt( endCoords[1] )
			};
			room[id].endings.push(end);
		}
		// TODO : vNext
		// else if (getType(lines[i]) === "EFF") {
		// 	/* ADD EFFECT */
		// 	var effectId = getId( lines[i] );
		// 	var effectCoords = getCoord( lines[i], 2 );
		// 	var effect = {
		// 		id : effectId,
		// 		x : parseInt( effectCoords[0] ),
		// 		y : parseInt( effectCoords[1] ),
		// 	};
		// 	room[id].effects.push(effect);
		// }
		else if (getType(lines[i]) === "PAL") {
			/* CHOOSE PALETTE (that's not default) */
			room[id].pal = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			var name = lines[i].split(/\s(.+)/)[1];
			room[id].name = name;
			names.room.set( name, id);
		}
		i++;
	}
	return i;
}

function parsePalette(lines,i) { //todo this has to go first right now :(
	var id = getId(lines[i]);
	i++;
	var colors = [];
	var name = null;
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		var args = lines[i].split(" ");
		if(args[0] === "NAME") {
			name = lines[i].split(/\s(.+)/)[1];
		}
		else {
			var col = [];
			lines[i].split(",").forEach(function(i) {
				col.push(parseInt(i));
			});
			colors.push(col);
		}
		i++;
	}
	palette[id] = {
		id : id,
		name : name,
		colors : colors
	};
	return i;
}

function parseTile(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store tile source
		drwId = "TIL_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 1; // default palette color index is 1
	var isWall = null; // null indicates it can vary from room to room (original version)
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			colorIndex = parseInt( getId(lines[i]) );
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.tile.set( name, id );
		}
		else if (getType(lines[i]) === "WAL") {
			var wallArg = getArg( lines[i], 1 );
			if( wallArg === "true" ) {
				isWall = true;
			}
			else if( wallArg === "false" ) {
				isWall = false;
			}
		}
		i++;
	}

	//tile data
	tile[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		name : name,
		isWall : isWall
	};

	return i;
}

function parseSprite(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store sprite source
		drwId = "SPR_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 2; //default palette color index is 2
	var dialogId = null;
	var startingInventory = {};
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			/* COLOR OFFSET INDEX */
			colorIndex = parseInt( getId(lines[i]) );
		}
		else if (getType(lines[i]) === "POS") {
			/* STARTING POSITION */
			var posArgs = lines[i].split(" ");
			var roomId = posArgs[1];
			var coordArgs = posArgs[2].split(",");
			spriteStartLocations[id] = {
				room : roomId,
				x : parseInt(coordArgs[0]),
				y : parseInt(coordArgs[1])
			};
		}
		else if(getType(lines[i]) === "DLG") {
			dialogId = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.sprite.set( name, id );
		}
		else if (getType(lines[i]) === "ITM") {
			/* ITEM STARTING INVENTORY */
			var itemId = getId(lines[i]);
			var itemCount = parseFloat( getArg(lines[i], 2) );
			startingInventory[itemId] = itemCount;
		}
		i++;
	}

	//sprite data
	sprite[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		dlg : dialogId,
		room : null, //default location is "offstage"
		x : -1,
		y : -1,
		walkingPath : [], //tile by tile movement path (isn't saved)
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		inventory : startingInventory,
		name : name
	};
	return i;
}

function parseItem(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store item source
		drwId = "ITM_" + id; // these prefixes are maybe a terrible way to differentiate drawing tyepes :/
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 2; //default palette color index is 2
	var dialogId = null;
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			/* COLOR OFFSET INDEX */
			colorIndex = parseInt( getArg( lines[i], 1 ) );
		}
		// else if (getType(lines[i]) === "POS") {
		// 	/* STARTING POSITION */
		// 	var posArgs = lines[i].split(" ");
		// 	var roomId = posArgs[1];
		// 	var coordArgs = posArgs[2].split(",");
		// 	spriteStartLocations[id] = {
		// 		room : roomId,
		// 		x : parseInt(coordArgs[0]),
		// 		y : parseInt(coordArgs[1])
		// 	};
		// }
		else if(getType(lines[i]) === "DLG") {
			dialogId = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.item.set( name, id );
		}
		i++;
	}

	//item data
	item[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		dlg : dialogId,
		// room : null, //default location is "offstage"
		// x : -1,
		// y : -1,
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		name : name
	};

	// console.log("ITM " + id);
	// console.log(item[id]);

	return i;
}

function parseDrawing(lines, i) {
	// store drawing source
	var drwId = getId( lines[i] );
	return parseDrawingCore( lines, i, drwId );
}

function parseDrawingCore(lines, i, drwId) {
	var frameList = []; //init list of frames
	frameList.push( [] ); //init first frame
	var frameIndex = 0;
	var y = 0;
	while ( y < tilesize ) {
		var l = lines[i+y];
		var row = [];
		for (x = 0; x < tilesize; x++) {
			row.push( parseInt( l.charAt(x) ) );
		}
		frameList[frameIndex].push( row );
		y++;

		if (y === tilesize) {
			i = i + y;
			if ( lines[i] != undefined && lines[i].charAt(0) === ">" ) {
				// start next frame!
				frameList.push( [] );
				frameIndex++;
				//start the count over again for the next frame
				i++;
				y = 0;
			}
		}
	}

	renderer.SetImageSource(drwId, frameList);

	return i;
}

// TODO : vNext
// var ScriptType = {
// 	Script : 0,
// 	Dialogue : 1, // TODO : move everything to this spelling?
// 	Ending : 2,
// };

function parseScript(lines, i, objectStore) {
	// TODO : vNext
	// if (scriptType === undefined || scriptType === null) {
	// 	scriptType = ScriptType.Script;
	// }

	var id = getId(lines[i]);
	i++;

	var results = scriptUtils.ReadDialogScript(lines,i);

	// TODO : vNext
	// script[id] = {
	// 	source: results.script,
	// 	type: scriptType,
	// };

	objectStore[id] = results.script;

	i = results.index;

	return i;
}

function parseDialog(lines, i) {
	return parseScript(lines, i, dialog);
}

function parseEnding(lines, i) {
	return parseScript(lines, i, ending);
}

function parseVariable(lines, i) {
	var id = getId(lines[i]);
	i++;
	var value = lines[i];
	i++;
	variable[id] = value;
	return i;
}

function parseFontName(lines, i) {
	fontName = getArg(lines[i], 1);
	i++;
	return i;
}

function parseTextDirection(lines, i) {
	textDirection = getArg(lines[i], 1);
	i++;
	return i;
}

function parseFontData(lines, i) {
	// NOTE : we're not doing the actual parsing here --
	// just grabbing the block of text that represents the font
	// and giving it to the font manager to use later

	var localFontName = getId(lines[i]);
	var localFontData = lines[i];
	i++;

	while (i < lines.length && lines[i] != "") {
		localFontData += "\n" + lines[i];
		i++;
	}

	var localFontFilename = localFontName + fontManager.GetExtension();
	fontManager.AddResource( localFontFilename, localFontData );

	return i;
}

function parseFlag(lines, i) {
	var id = getId(lines[i]);
	var valStr = lines[i].split(" ")[2];
	flags[id] = parseInt( valStr );
	i++;
	return i;
}

function drawTile(img,x,y,context) {
	if (!context) { //optional pass in context; otherwise, use default
		context = ctx;
	}
	// NOTE: images are now canvases, instead of raw image data (for chrome performance reasons)
	context.drawImage(img,x*tilesize*scale,y*tilesize*scale,tilesize*scale,tilesize*scale);
}

function drawSprite(img,x,y,context) { //this may differ later (or not haha)
	drawTile(img,x,y,context);
}

function drawItem(img,x,y,context) {
	drawTile(img,x,y,context); //TODO these methods are dumb and repetitive
}

// var debugLastRoomDrawn = "0";

function drawRoom(room,context,frameIndex) { // context & frameIndex are optional
	if (!context) { //optional pass in context; otherwise, use default (ok this is REAL hacky isn't it)
		context = ctx;
	}

	// if (room.id != debugLastRoomDrawn) {
	// 	debugLastRoomDrawn = room.id;
	// 	console.log("DRAW ROOM " + debugLastRoomDrawn);
	// }

	var paletteId = "default";

	if (room === undefined) {
		// protect against invalid rooms
		context.fillStyle = "rgb(" + getPal(paletteId)[0][0] + "," + getPal(paletteId)[0][1] + "," + getPal(paletteId)[0][2] + ")";
		context.fillRect(0,0,canvas.width,canvas.height);
		return;
	}

	//clear screen
	if (room.pal != null && palette[paletteId] != undefined) {
		paletteId = room.pal;
	}
	context.fillStyle = "rgb(" + getPal(paletteId)[0][0] + "," + getPal(paletteId)[0][1] + "," + getPal(paletteId)[0][2] + ")";
	context.fillRect(0,0,canvas.width,canvas.height);

	//draw tiles
	for (i in room.tilemap) {
		for (j in room.tilemap[i]) {
			var id = room.tilemap[i][j];
			if (id != "0") {
				//console.log(id);
				if (tile[id] == null) { // hack-around to avoid corrupting files (not a solution though!)
					id = "0";
					room.tilemap[i][j] = id;
				}
				else {
					// console.log(id);
					drawTile( getTileImage(tile[id],paletteId,frameIndex), j, i, context );
				}
			}
		}
	}

	//draw items
	for (var i = 0; i < room.items.length; i++) {
		var itm = room.items[i];
		drawItem( getItemImage(item[itm.id],paletteId,frameIndex), itm.x, itm.y, context );
	}

	//draw sprites
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === room.id) {
			drawSprite( getSpriteImage(spr,paletteId,frameIndex), spr.x, spr.y, context );
		}
	}
}

// TODO : remove these get*Image methods
function getTileImage(t,palId,frameIndex) {
	return renderer.GetImage(t,palId,frameIndex);
}

function getSpriteImage(s,palId,frameIndex) {
	return renderer.GetImage(s,palId,frameIndex);
}

function getItemImage(itm,palId,frameIndex) {
	return renderer.GetImage(itm,palId,frameIndex);
}

function curPal() {
	return getRoomPal(curRoom);
}

function getRoomPal(roomId) {
	var defaultId = "default";

	if (roomId == null) {
		return defaultId;
	}
	else if (room[roomId].pal != null) {
		//a specific palette was chosen
		return room[roomId].pal;
	}
	else {
		if (roomId in palette) {
			//there is a palette matching the name of the room
			return roomId;
		}
		else {
			//use the default palette
			return defaultId;
		}
	}
	return defaultId;
}

var isDialogMode = false;
var isNarrating = false;
var isEnding = false;
var dialogModule = new Dialog();
var dialogRenderer = dialogModule.CreateRenderer();
var dialogBuffer = dialogModule.CreateBuffer();
var fontManager = new FontManager();

function onExitDialog(scriptResult, dialogCallback) {
	isDialogMode = false;
	if (isNarrating) isNarrating = false;
	if (isDialogPreview) {
		isDialogPreview = false;
		if (onDialogPreviewEnd != null)
			onDialogPreviewEnd();
	}

	if (dialogCallback != undefined && dialogCallback != null) {
		dialogCallback(scriptResult);
	}
}

/*
TODO
- titles and endings should also take advantage of the script pre-compilation if possible??
- could there be a namespace collision?
- what about dialog NAMEs vs IDs?
- what about a special script block separate from DLG?
*/
function startNarrating(dialogStr,end) {
	console.log("NARRATE " + dialogStr);

	if(end === undefined) end = false;

	isNarrating = true;
	isEnding = end;
	startDialog(dialogStr);
}

function startItemDialog(itemId) {
	var dialogId = item[itemId].dlg;
	// console.log("START ITEM DIALOG " + dialogId);
	if(dialog[dialogId]){
		var dialogStr = dialog[dialogId];
		startDialog(dialogStr,dialogId);
	}
}

function startSpriteDialog(spriteId) {
	var spr = sprite[spriteId];
	var dialogId = spr.dlg ? spr.dlg : spriteId;
	// console.log("START SPRITE DIALOG " + dialogId);
	if(dialog[dialogId]){
		var dialogStr = dialog[dialogId];
		startDialog(dialogStr,dialogId);
	}
}

function startDialog(dialogStr,scriptId,dialogCallback) {
	// console.log("START DIALOG ");
	if(dialogStr.length <= 0) {
		// console.log("ON EXIT DIALOG -- startDialog 1");
		onExitDialog(dialogCallback);
		return;
	}

	isDialogMode = true;

	dialogRenderer.Reset();
	dialogRenderer.SetCentered( isNarrating /*centered*/ );
	dialogBuffer.Reset();
	scriptInterpreter.SetDialogBuffer( dialogBuffer );

	var onScriptEnd = function(scriptResult) {
		dialogBuffer.OnDialogEnd(function() {
			onExitDialog(scriptResult, dialogCallback);
		});
	};

	if(scriptId === undefined) {
		scriptInterpreter.Interpret( dialogStr, onScriptEnd );
	}
	else {
		if( !scriptInterpreter.HasScript(scriptId) ) {
			scriptInterpreter.Compile( scriptId, dialogStr );
		}
		scriptInterpreter.DebugVisualizeScriptTree(scriptId);
		scriptInterpreter.Run( scriptId, onScriptEnd );
	}

}

var isDialogPreview = false;
function startPreviewDialog(script, onScriptEnd) {
	isNarrating = true;

	isDialogMode = true;

	isDialogPreview = true;

	dialogRenderer.Reset();
	dialogRenderer.SetCentered( true );
	dialogBuffer.Reset();
	scriptInterpreter.SetDialogBuffer( dialogBuffer );

	onDialogPreviewEnd = onScriptEnd;

	scriptInterpreter.Eval( script, null );
}

/* NEW SCRIPT STUFF */
var scriptModule = new Script();
var scriptInterpreter = scriptModule.CreateInterpreter();
var scriptUtils = scriptModule.CreateUtils(); // TODO: move to editor.js?
// scriptInterpreter.SetDialogBuffer( dialogBuffer );
</script>

<!-- store default font in separate script tag for back compat-->
<script type="text/bitsyFontData" id="ascii_small">
FONT ascii_small
SIZE 6 8
CHAR 0
000000
000000
000000
000000
000000
000000
000000
000000
CHAR 1
001110
010001
011011
010001
010101
010001
001110
000000
CHAR 2
001110
011111
010101
011111
010001
011111
001110
000000
CHAR 3
000000
001010
011111
011111
011111
001110
000100
000000
CHAR 4
000000
000000
001010
001110
001110
000100
000000
000000
CHAR 5
000100
001110
001110
000100
011111
011111
000100
000000
CHAR 6
000000
000100
001110
011111
011111
000100
001110
000000
CHAR 7
000000
000000
000000
001100
001100
000000
000000
000000
CHAR 8
111111
111111
111111
110011
110011
111111
111111
111111
CHAR 9
000000
000000
011110
010010
010010
011110
000000
000000
CHAR 10
111111
111111
100001
101101
101101
100001
111111
111111
CHAR 11
000000
000111
000011
001101
010010
010010
001100
000000
CHAR 12
001110
010001
010001
001110
000100
001110
000100
000000
CHAR 13
000100
000110
000101
000100
001100
011100
011000
000000
CHAR 14
000011
001101
001011
001101
001011
011011
011000
000000
CHAR 15
000000
010101
001110
011011
001110
010101
000000
000000
CHAR 16
001000
001100
001110
001111
001110
001100
001000
000000
CHAR 17
000010
000110
001110
011110
001110
000110
000010
000000
CHAR 18
000100
001110
011111
000100
011111
001110
000100
000000
CHAR 19
001010
001010
001010
001010
001010
000000
001010
000000
CHAR 20
001111
010101
010101
001101
000101
000101
000101
000000
CHAR 21
001110
010001
001100
001010
000110
010001
001110
000000
CHAR 22
000000
000000
000000
000000
000000
011110
011110
000000
CHAR 23
000100
001110
011111
000100
011111
001110
000100
001110
CHAR 24
000100
001110
011111
000100
000100
000100
000100
000000
CHAR 25
000100
000100
000100
000100
011111
001110
000100
000000
CHAR 26
000000
000100
000110
011111
000110
000100
000000
000000
CHAR 27
000000
000100
001100
011111
001100
000100
000000
000000
CHAR 28
000000
000000
000000
010000
010000
010000
011111
000000
CHAR 29
000000
001010
001010
011111
001010
001010
000000
000000
CHAR 30
000100
000100
001110
001110
011111
011111
000000
000000
CHAR 31
011111
011111
001110
001110
000100
000100
000000
000000
CHAR 32
000000
000000
000000
000000
000000
000000
000000
000000
CHAR 33
000100
001110
001110
000100
000100
000000
000100
000000
CHAR 34
011011
011011
010010
000000
000000
000000
000000
000000
CHAR 35
000000
001010
011111
001010
001010
011111
001010
000000
CHAR 36
001000
001110
010000
001100
000010
011100
000100
000000
CHAR 37
011001
011001
000010
000100
001000
010011
010011
000000
CHAR 38
001000
010100
010100
001000
010101
010010
001101
000000
CHAR 39
001100
001100
001000
000000
000000
000000
000000
000000
CHAR 40
000100
001000
001000
001000
001000
001000
000100
000000
CHAR 41
001000
000100
000100
000100
000100
000100
001000
000000
CHAR 42
000000
001010
001110
011111
001110
001010
000000
000000
CHAR 43
000000
000100
000100
011111
000100
000100
000000
000000
CHAR 44
000000
000000
000000
000000
000000
001100
001100
001000
CHAR 45
000000
000000
000000
011111
000000
000000
000000
000000
CHAR 46
000000
000000
000000
000000
000000
001100
001100
000000
CHAR 47
000000
000001
000010
000100
001000
010000
000000
000000
CHAR 48
001110
010001
010011
010101
011001
010001
001110
000000
CHAR 49
000100
001100
000100
000100
000100
000100
001110
000000
CHAR 50
001110
010001
000001
000110
001000
010000
011111
000000
CHAR 51
001110
010001
000001
001110
000001
010001
001110
000000
CHAR 52
000010
000110
001010
010010
011111
000010
000010
000000
CHAR 53
011111
010000
010000
011110
000001
010001
001110
000000
CHAR 54
000110
001000
010000
011110
010001
010001
001110
000000
CHAR 55
011111
000001
000010
000100
001000
001000
001000
000000
CHAR 56
001110
010001
010001
001110
010001
010001
001110
000000
CHAR 57
001110
010001
010001
001111
000001
000010
001100
000000
CHAR 58
000000
000000
001100
001100
000000
001100
001100
000000
CHAR 59
000000
000000
001100
001100
000000
001100
001100
001000
CHAR 60
000010
000100
001000
010000
001000
000100
000010
000000
CHAR 61
000000
000000
011111
000000
000000
011111
000000
000000
CHAR 62
001000
000100
000010
000001
000010
000100
001000
000000
CHAR 63
001110
010001
000001
000110
000100
000000
000100
000000
CHAR 64
001110
010001
010111
010101
010111
010000
001110
000000
CHAR 65
001110
010001
010001
010001
011111
010001
010001
000000
CHAR 66
011110
010001
010001
011110
010001
010001
011110
000000
CHAR 67
001110
010001
010000
010000
010000
010001
001110
000000
CHAR 68
011110
010001
010001
010001
010001
010001
011110
000000
CHAR 69
011111
010000
010000
011110
010000
010000
011111
000000
CHAR 70
011111
010000
010000
011110
010000
010000
010000
000000
CHAR 71
001110
010001
010000
010111
010001
010001
001111
000000
CHAR 72
010001
010001
010001
011111
010001
010001
010001
000000
CHAR 73
001110
000100
000100
000100
000100
000100
001110
000000
CHAR 74
000001
000001
000001
000001
010001
010001
001110
000000
CHAR 75
010001
010010
010100
011000
010100
010010
010001
000000
CHAR 76
010000
010000
010000
010000
010000
010000
011111
000000
CHAR 77
010001
011011
010101
010001
010001
010001
010001
000000
CHAR 78
010001
011001
010101
010011
010001
010001
010001
000000
CHAR 79
001110
010001
010001
010001
010001
010001
001110
000000
CHAR 80
011110
010001
010001
011110
010000
010000
010000
000000
CHAR 81
001110
010001
010001
010001
010101
010010
001101
000000
CHAR 82
011110
010001
010001
011110
010010
010001
010001
000000
CHAR 83
001110
010001
010000
001110
000001
010001
001110
000000
CHAR 84
011111
000100
000100
000100
000100
000100
000100
000000
CHAR 85
010001
010001
010001
010001
010001
010001
001110
000000
CHAR 86
010001
010001
010001
010001
010001
001010
000100
000000
CHAR 87
010001
010001
010101
010101
010101
010101
001010
000000
CHAR 88
010001
010001
001010
000100
001010
010001
010001
000000
CHAR 89
010001
010001
010001
001010
000100
000100
000100
000000
CHAR 90
011110
000010
000100
001000
010000
010000
011110
000000
CHAR 91
001110
001000
001000
001000
001000
001000
001110
000000
CHAR 92
000000
010000
001000
000100
000010
000001
000000
000000
CHAR 93
001110
000010
000010
000010
000010
000010
001110
000000
CHAR 94
000100
001010
010001
000000
000000
000000
000000
000000
CHAR 95
000000
000000
000000
000000
000000
000000
000000
111111
CHAR 96
001100
001100
000100
000000
000000
000000
000000
000000
CHAR 97
000000
000000
001110
000001
001111
010001
001111
000000
CHAR 98
010000
010000
011110
010001
010001
010001
011110
000000
CHAR 99
000000
000000
001110
010001
010000
010001
001110
000000
CHAR 100
000001
000001
001111
010001
010001
010001
001111
000000
CHAR 101
000000
000000
001110
010001
011110
010000
001110
000000
CHAR 102
000110
001000
001000
011110
001000
001000
001000
000000
CHAR 103
000000
000000
001111
010001
010001
001111
000001
001110
CHAR 104
010000
010000
011100
010010
010010
010010
010010
000000
CHAR 105
000100
000000
000100
000100
000100
000100
000110
000000
CHAR 106
000010
000000
000110
000010
000010
000010
010010
001100
CHAR 107
010000
010000
010010
010100
011000
010100
010010
000000
CHAR 108
000100
000100
000100
000100
000100
000100
000110
000000
CHAR 109
000000
000000
011010
010101
010101
010001
010001
000000
CHAR 110
000000
000000
011100
010010
010010
010010
010010
000000
CHAR 111
000000
000000
001110
010001
010001
010001
001110
000000
CHAR 112
000000
000000
011110
010001
010001
010001
011110
010000
CHAR 113
000000
000000
001111
010001
010001
010001
001111
000001
CHAR 114
000000
000000
010110
001001
001000
001000
011100
000000
CHAR 115
000000
000000
001110
010000
001110
000001
001110
000000
CHAR 116
000000
001000
011110
001000
001000
001010
000100
000000
CHAR 117
000000
000000
010010
010010
010010
010110
001010
000000
CHAR 118
000000
000000
010001
010001
010001
001010
000100
000000
CHAR 119
000000
000000
010001
010001
010101
011111
001010
000000
CHAR 120
000000
000000
010010
010010
001100
010010
010010
000000
CHAR 121
000000
000000
010010
010010
010010
001110
000100
011000
CHAR 122
000000
000000
011110
000010
001100
010000
011110
000000
CHAR 123
000110
001000
001000
011000
001000
001000
000110
000000
CHAR 124
000100
000100
000100
000100
000100
000100
000100
000100
CHAR 125
001100
000010
000010
000011
000010
000010
001100
000000
CHAR 126
001010
010100
000000
000000
000000
000000
000000
000000
CHAR 127
000100
001110
011011
010001
010001
011111
000000
000000
CHAR 128
001110
010001
010000
010000
010001
001110
000100
001100
CHAR 129
010010
000000
010010
010010
010010
010110
001010
000000
CHAR 130
000011
000000
001110
010001
011110
010000
001110
000000
CHAR 131
001110
000000
001110
000001
001111
010001
001111
000000
CHAR 132
001010
000000
001110
000001
001111
010001
001111
000000
CHAR 133
001100
000000
001110
000001
001111
010001
001111
000000
CHAR 134
001110
001010
001110
000001
001111
010001
001111
000000
CHAR 135
000000
001110
010001
010000
010001
001110
000100
001100
CHAR 136
001110
000000
001110
010001
011110
010000
001110
000000
CHAR 137
001010
000000
001110
010001
011110
010000
001110
000000
CHAR 138
001100
000000
001110
010001
011110
010000
001110
000000
CHAR 139
001010
000000
000100
000100
000100
000100
000110
000000
CHAR 140
000100
001010
000000
000100
000100
000100
000110
000000
CHAR 141
001000
000000
000100
000100
000100
000100
000110
000000
CHAR 142
001010
000000
000100
001010
010001
011111
010001
000000
CHAR 143
001110
001010
001110
011011
010001
011111
010001
000000
CHAR 144
000011
000000
011111
010000
011110
010000
011111
000000
CHAR 145
000000
000000
011110
000101
011111
010100
001111
000000
CHAR 146
001111
010100
010100
011111
010100
010100
010111
000000
CHAR 147
001110
000000
001100
010010
010010
010010
001100
000000
CHAR 148
001010
000000
001100
010010
010010
010010
001100
000000
CHAR 149
011000
000000
001100
010010
010010
010010
001100
000000
CHAR 150
001110
000000
010010
010010
010010
010110
001010
000000
CHAR 151
011000
000000
010010
010010
010010
010110
001010
000000
CHAR 152
001010
000000
010010
010010
010010
001110
000100
011000
CHAR 153
010010
001100
010010
010010
010010
010010
001100
000000
CHAR 154
001010
000000
010010
010010
010010
010010
001100
000000
CHAR 155
000000
000100
001110
010000
010000
001110
000100
000000
CHAR 156
000110
001001
001000
011110
001000
001001
010111
000000
CHAR 157
010001
001010
000100
011111
000100
011111
000100
000000
CHAR 158
011000
010100
010100
011010
010111
010010
010010
000000
CHAR 159
000010
000101
000100
001110
000100
000100
010100
001000
CHAR 160
000110
000000
001110
000001
001111
010001
001111
000000
CHAR 161
000110
000000
000100
000100
000100
000100
000110
000000
CHAR 162
000110
000000
001100
010010
010010
010010
001100
000000
CHAR 163
000110
000000
010010
010010
010010
010110
001010
000000
CHAR 164
001010
010100
000000
011100
010010
010010
010010
000000
CHAR 165
001010
010100
000000
010010
011010
010110
010010
000000
CHAR 166
001110
000001
001111
010001
001111
000000
001111
000000
CHAR 167
001100
010010
010010
010010
001100
000000
011110
000000
CHAR 168
000100
000000
000100
001100
010000
010001
001110
000000
CHAR 169
000000
000000
011111
010000
010000
010000
000000
000000
CHAR 170
000000
000000
111111
000001
000001
000000
000000
000000
CHAR 171
010000
010010
010100
001110
010001
000010
000111
000000
CHAR 172
010000
010010
010100
001011
010101
000111
000001
000000
CHAR 173
000100
000000
000100
000100
001110
001110
000100
000000
CHAR 174
000000
000000
001001
010010
001001
000000
000000
000000
CHAR 175
000000
000000
010010
001001
010010
000000
000000
000000
CHAR 176
010101
000000
101010
000000
010101
000000
101010
000000
CHAR 177
010101
101010
010101
101010
010101
101010
010101
101010
CHAR 178
101010
111111
010101
111111
101010
111111
010101
111111
CHAR 179
000100
000100
000100
000100
000100
000100
000100
000100
CHAR 180
000100
000100
000100
111100
000100
000100
000100
000100
CHAR 181
000000
000000
010010
010010
010010
011100
010000
010000
CHAR 182
010100
010100
010100
110100
010100
010100
010100
010100
CHAR 183
000000
000000
000000
111100
010100
010100
010100
010100
CHAR 184
000000
111100
000100
111100
000100
000100
000100
000100
CHAR 185
010100
110100
000100
110100
010100
010100
010100
010100
CHAR 186
010100
010100
010100
010100
010100
010100
010100
010100
CHAR 187
000000
111100
000100
110100
010100
010100
010100
010100
CHAR 188
010100
110100
000100
111100
000000
000000
000000
000000
CHAR 189
010100
010100
010100
111100
000000
000000
000000
000000
CHAR 190
000100
111100
000100
111100
000000
000000
000000
000000
CHAR 191
000000
000000
000000
111100
000100
000100
000100
000100
CHAR 192
000100
000100
000100
000111
000000
000000
000000
000000
CHAR 193
000100
000100
000100
111111
000000
000000
000000
000000
CHAR 194
000000
000000
000000
111111
000100
000100
000100
000100
CHAR 195
000100
000100
000100
000111
000100
000100
000100
000100
CHAR 196
000000
000000
000000
111111
000000
000000
000000
000000
CHAR 197
000100
000100
000100
111111
000100
000100
000100
000100
CHAR 198
000100
000111
000100
000111
000100
000100
000100
000100
CHAR 199
010100
010100
010100
010111
010100
010100
010100
010100
CHAR 200
010100
010111
010000
011111
000000
000000
000000
000000
CHAR 201
000000
011111
010000
010111
010100
010100
010100
010100
CHAR 202
010100
110111
000000
111111
000000
000000
000000
000000
CHAR 203
000000
111111
000000
110111
010100
010100
010100
010100
CHAR 204
010100
010111
010000
010111
010100
010100
010100
010100
CHAR 205
000000
111111
000000
111111
000000
000000
000000
000000
CHAR 206
010100
110111
000000
110111
010100
010100
010100
010100
CHAR 207
000100
111111
000000
111111
000000
000000
000000
000000
CHAR 208
010100
010100
010100
111111
000000
000000
000000
000000
CHAR 209
000000
111111
000000
111111
000100
000100
000100
000100
CHAR 210
000000
000000
000000
111111
010100
010100
010100
010100
CHAR 211
010100
010100
010100
011111
000000
000000
000000
000000
CHAR 212
000000
000000
000000
000000
000000
000000
000000
111111
CHAR 213
000000
000000
000000
000000
000000
000000
111111
111111
CHAR 214
000000
000000
000000
000000
000000
111111
111111
111111
CHAR 215
000000
000000
000000
000000
111111
111111
111111
111111
CHAR 216
000000
000000
000000
111111
111111
111111
111111
111111
CHAR 217
000000
000000
111111
111111
111111
111111
111111
111111
CHAR 218
000000
111111
111111
111111
111111
111111
111111
111111
CHAR 219
111111
111111
111111
111111
111111
111111
111111
111111
CHAR 220
100000
100000
100000
100000
100000
100000
100000
100000
CHAR 221
110000
110000
110000
110000
110000
110000
110000
110000
CHAR 222
111000
111000
111000
111000
111000
111000
111000
111000
CHAR 223
111100
111100
111100
111100
111100
111100
111100
111100
CHAR 224
111110
111110
111110
111110
111110
111110
111110
111110
CHAR 225
000000
011100
010010
011100
010010
010010
011100
010000
CHAR 226
011110
010010
010000
010000
010000
010000
010000
000000
CHAR 227
000000
011111
001010
001010
001010
001010
001010
000000
CHAR 228
001010
000000
001110
000001
001111
010001
001111
000000
CHAR 229
000000
000000
001111
010010
010010
001100
000000
000000
CHAR 230
000000
000000
010010
010010
010010
011100
010000
010000
CHAR 231
000000
000000
001010
010100
000100
000100
000100
000000
CHAR 232
001110
000100
001110
010001
001110
000100
001110
000000
CHAR 233
001100
010010
010010
011110
010010
010010
001100
000000
CHAR 234
000000
001110
010001
010001
001010
001010
011011
000000
CHAR 235
001100
010000
001000
000100
001110
010010
001100
000000
CHAR 236
000000
000000
001010
010101
010101
001010
000000
000000
CHAR 237
000000
000100
001110
010101
010101
001110
000100
000000
CHAR 238
000000
001110
010000
011110
010000
001110
000000
000000
CHAR 239
000000
001100
010010
010010
010010
010010
000000
000000
CHAR 240
000000
011110
000000
011110
000000
011110
000000
000000
CHAR 241
000000
000100
001110
000100
000000
001110
000000
000000
CHAR 242
010000
001100
000010
001100
010000
000000
011110
000000
CHAR 243
000000
000000
111111
111000
100110
100001
100000
111111
CHAR 244
000000
000000
111111
000111
011001
100001
000001
111111
CHAR 245
000100
000100
000100
000100
000100
010100
001000
000000
CHAR 246
001010
000000
001110
010001
010001
010001
001110
000000
CHAR 247
111110
111110
111110
111110
111110
111110
111110
111110
CHAR 248
111100
111100
111100
111100
111100
111100
111100
111100
CHAR 249
111000
111000
111000
111000
111000
111000
111000
111000
CHAR 250
110000
110000
110000
110000
110000
110000
110000
110000
CHAR 251
100000
100000
100000
100000
100000
100000
100000
100000
CHAR 252
001010
000000
010010
010010
010010
010110
001010
000000
CHAR 253
011000
000100
001000
011100
000000
000000
000000
000000
CHAR 254
000000
000000
000000
011110
110010
110011
111110
001111
CHAR 255
010010
111111
010010
010010
111111
010010
000000
000000
</script>

</head>


<!-- DOCUMENT BODY -->
<body onload='startExportedGame()'>
	<!-- GAME CANVAS -->
	<canvas id='game'></canvas>
</body>


</html>